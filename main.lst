Wed Jun 11 17:11:31 2025
-------------------------
CAS V2.15.1-rc1 - (C) Copyright 2000-2012 CHIPMAST TECHNOLOGY CO. LTD.
Main file   : main.asm
Current file: main.asm

     1                        ;********************************************************************************
     2                        ; PROJECT	: Calendar(MC830B)							*
     3                        ; AUTHOR	: WBN										*
     4                        ; REVISION	: 13/9/2024  V1.0	First issue				*
     5                        ; High OSC CLK  : Internal RC 4.4MHz	Fcpu = Fosc/2				*
     6                        ; Function	: 								*
     7                        ;********************************************************************************
     8                        	.CHIP	W65C02S      ;cpu的选型
     9                        	;.INCLIST	ON       ;宏定义和文件
    10                        	.MACLIST	ON
    11                        ;***************************************
    12                        CODE_BEG	EQU		C000H ;C000H(4K*4次)        ;起始地址
    13                        ;***************************************
    14                        
    15                        PROG	SECTION	OFFSET	CODE_BEG                ;定义代码段的偏移量从CODE_BEG开始，用于组织程序代码。
    16                        
    17                        ;***************************************
    18                        ;*	header include                               ;头文件
    19                        ;***************************************
    20                        	.include	50P016.h
     1                        .page0
     2                        .org 	00H
     3                        PA		EQU	01H
     4                        P_PA		EQU	PA
     5                        PAWAKE	EQU	02H
     6                        P_PA_WAKE	EQU	PAWAKE
     7                        PADIR	EQU	04H
     8                        P_PA_DIR	EQU	PADIR
     9                        P_PA_IO		EQU	PADIR
    10                        PB		EQU	05H
    11                        P_PB		EQU	PB
    12                        PBTYPE	EQU	06H
    13                        P_PB_TYPE	EQU	PBTYPE
    14                        PC		EQU	07H
    15                        P_PC 		EQU PC
    16                        PCDIR	EQU	08H
    17                        P_PC_IO 	EQU	PCDIR
    18                        P_PC_DIR	EQU	PCDIR
    19                        PCSEG	EQU	09H	;
    20                        P_PCSEG		EQU	PCSEG
    21                        PD		EQU	0AH
    22                        PDDIR	EQU 0BH
    23                        PADF0	EQU	0CH	;
    24                        P_PADF0		EQU	PADF0
    25                        PADF1	EQU	0DH	;
    26                        IER		EQU	0EH
    27                        P_IER 	EQU IER
    28                        IFR		EQU	0FH
    29                        P_IFR 		EQU IFR
    30                        TMR0	EQU	10H	;
    31                        P_TMR0		EQU	TMR0
    32                        TMR1	EQU	12H	;
    33                        P_TMR1  	EQU	TMR1
    34                        TMR2	EQU	14H	;
    35                        TMRC	EQU	16H	;
    36                        P_TMRCTRL 	EQU TMRC
    37                        P_TMRC		EQU	TMRC
    38                        bTMR0ON    EQU	   0
    39                        bTMR1ON    EQU	   1
    40                        bLCDON	   EQU	   4
    41                        bAUDON	   EQU	   7
    42                        
    43                        TMCLK	EQU	17H	;
    44                        P_TMRCLK 	EQU TMCLK
    45                        P_TMCLK 	EQU TMCLK
    46                        DIVC	EQU	18H	;
    47                        P_DIVC		EQU	DIVC
    48                        LCDCTRL	EQU	19H	;
    49                        LCDCOM	EQU	1AH	;
    50                        P_LCD_COM	EQU	LCDCOM
    51                        WDTC	EQU	1CH	;
    52                        SYSCLK	EQU	1DH
    53                        P_SYSCLK	EQU	SYSCLK
    54                        sysclk		equ SYSCLK
    55                        HALT	EQU	1EH	;
    56                        P_HALT		EQU	HALT
    57                        AUD0	EQU	1FH	;
    58                        P_AUD		EQU	AUD0
    59                        
    60                        AUDCR	EQU	20H	;
    61                        P_AUD_CTL	EQU	AUDCR
    62                        FRAME	EQU	21H	;
    63                        ;BANK	EQU	23H	;
    64                        MF		EQU	2FH
    65                        
    66                        SPCR	EQU	32H
    67                        SPSR	EQU	33H
    68                        SPDR	EQU	34H
    69                        PAK		EQU	3AH
    70                        PBK		EQU	3BH
    71                        PCK		EQU	3CH
    72                        LVC		EQU	3DH
    73                        FUSE	EQU	3EH
    74                        
    75                        PDSEG	EQU	5CH
    76                        RFCC0	EQU	5DH
    77                        RFCC1	EQU	5EH
    78                        
    79                        BIT0    EQU 00000001B
    80                        BIT1    EQU 00000010B
    81                        BIT2    EQU 00000100B
    82                        BIT3    EQU 00001000B
    83                        BIT4    EQU 00010000B
    84                        BIT5    EQU 00100000B
    85                        BIT6    EQU 01000000B
    86                        BIT7    EQU 10000000B
    87                        
    88                        BIT0_    EQU 11111110B
    89                        BIT1_    EQU 11111101B
    90                        BIT2_    EQU 11111011B
    91                        BIT3_    EQU 11110111B
    92                        BIT4_    EQU 11101111B
    93                        BIT5_    EQU 11011111B
    94                        BIT6_    EQU 10111111B
    95                        BIT7_    EQU 01111111B
    96                        .ends
    96                        
    21                        	.INCLUDE	RAM.INC
     1                        .Kdata
     2                        ;***************************************
     3                        ; RAM Address
     4                        ;***************************************
     5                        RamStarAddr			EQU		1800H   ;RAM的开始地址
     6                        LCD_RamAddr			EQU		RamStarAddr     ;LCD RAM的地址
     7                        Time_Addr			EQU		RamStarAddr+Time_Str_Addr-Page0RamStarAddr
     8                        RAM					EQU		80H
     9                        ;***************************************
    10                        ;Time_Addr		EUQ		B0H
    11                        ;***************************************
    12                        .PAGE0     ;page 0的内存布局
    13                        ;***************************************
    14                        ;	ORG	0098H
    15                        ;---------------------------------------------------------------------
    16                        	ORG	0080H
    17                        
    18                        Page0RamStarAddr	EQU		$
    19 00:0080: xx xx xx xx   LCDRAM					DS	8*5
    19 00:0080: xx xx xx xx   
    19 00:0080: xx xx xx xx   
    20                        D_LCD_RAM				EQU	8*5
    21                        
    22 00:00A8: xx            R_Int_Backup			DS	1
    23                        
    24 00:00A9: xx            Sys_Flag_A				DS	1		;0	系统状态
    25                        ; bit0 	=132hz标志
    26                        ; bit1	=1按键首次扫描标志
    27                        ; bit2 	=0按键循环扫描标志
    28                        ; bit3	=0设置模式
    29                        ; bit4 	=0快加设置(此工程无用)
    30                        ; bit5 	=0无效键设置
    31                        ; bit6	=01按键长按
    32                        ; bit7	=0按键按下返回时间模式的标志
    33 00:00AA: xx            Sys_Flag_B				DS	1	;时钟模式的系统状态
    34                        ; bit0 	=半秒标志
    35                        ; bit1	=一秒标志
    36                        ; bit2	=12小时/24小时制度
    37                        ; bit3	=1是润年标志
    38                        ; bit4 	=
    39                        ; bit5 	=
    40                        ; bit6	=
    41                        ; bit7	=
    42 00:00AB: xx            Sys_Flag_C				DS	1	;闹钟模式的系统状态
    43                        ; bit0 	=0闹铃界面/1 整点报时
    44                        ; bit1	=1闹钟开启0闹钟关闭
    45                        ; bit2 	=
    46                        ; bit3	=
    47                        ; bit4 	=闹钟闹铃
    48                        ; bit5 	=1按键音开启
    49                        ; bit6	=0响闹/1静音
    50                        ; bit7	=
    51 00:00AC: xx            Sys_Flag_D				DS	1	;计时器模式的系统状态
    52                        ; bit0 	=1正计时/倒计时开启计时
    53                        ; bit1	=开始或者暂停计时
    54                        ; bit2	=第一次倒计时
    55                        ; bit3	=
    56                        ; bit4 	=定时器闹铃
    57                        ; bit5 	=
    58                        ; bit6	=
    59                        ; bit7	=
    60 00:00AD: xx            Sys_Flag_E				DS	1	 ;编码器必备标志
    61                        ; bit0 	=	0正旋转/1反旋转
    62                        ; bit1	=
    63                        ; bit2	=
    64                        ; bit3
    65                        ; bit4 	=
    66                        ; bit5 	=
    67                        ; bit6	=
    68                        ; bit7	=
    69                        
    70 00:00AE: xx            Sys_Flag_F				DS	1		;判断闹钟是否打开
    71 00:00AF: xx            Sys_Flag_H				DS	1		;判断哪个闹钟响闹
    72                        
    73                        
    74 00:00B0: xx            R_Reset_Time					DS	1;全显时间,一般为2s
    75                        
    76 00:00B1: xx            R_Scankey_Time					DS	1;按键按下的时间
    77                        D_Rscankey_Half_Sec				EQU	16;按键时间
    78                        D_Rscankey_Sec					EQU	32
    79                        D_Rscankey_TWO_Sec				EQU	64
    80                        
    81                        
    82                        
    83                        
    84                        
    85 00:00B2: xx            P_Scankey_value_T_1			DS	1
    86 00:00B3: xx            P_Scankey_value				DS	1;按键存储值
    87 00:00B4: xx            P_Scankey_value_Temporary	DS	1;按键临时储存
    88                        
    89                        D_Scankey_Value				.EQU	11110100B
    90                        D_Date_Time_Press			.EQU	00010000B
    91                        D_12_24_Hour_Press			.EQU	00100000B
    92                        D_ALM_Press					.EQU	01000000B
    93                        D_Voice_Press				.EQU	10000000B
    94                        D_KNOB_Press				.EQU	00000100B
    95                        D_Konb_Value				.EQU	00000011B
    96                        ;---------------------------------------
    97                        Time_Str_Addr	EQU		$
    98 00:00B5: xx            R_Time_Sec						DS	1;时钟的秒数;
    99 00:00B6: xx            R_Time_Min						DS	1;时钟的分钟数;
   100 00:00B7: xx            R_Time_Hr 						DS	1;时钟的小时数;
   101 00:00B8: xx            R_Time_Day 						DS	1;日
   102 00:00B9: xx            R_Time_Month 					DS	1;月
   103 00:00BA: xx            R_Time_Year						DS	1;年
   104 00:00BB: xx            R_Time_Week						DS	1;0是星期天，1是星期一---
   105                        
   106                        
   107                        
   108                        
   109                        
   110 00:00BC: xx            R_Timer_Sec						DS	1;定时器显示时间/正计时时间秒数
   111 00:00BD: xx            R_Timer_Min						DS	1;定时器显示时间/正计时时间分钟
   112 00:00BE: xx            R_Timer_Min_Backup				DS	1;定时器显示时间/正计时时间分钟
   113                        ; Timer_TurnPlate_Min				DS	1;转盘每一个分段对应时间
   114                        ; Timer_TurnPlate_Sec				DS	1;转盘每一个分段对应时间
   115                        ; Timer_TurnPlate_Min_Backup		DS	1;转盘每一个分段对应时间
   116                        ; Timer_TurnPlate_Sec_Backup		DS	1;转盘每一个分段对应时间
   117                        ; Timer_TurnPlate_Frequeny		DS	1;转盘数
   118                        
   119                        
   120 00:00BF: xx            R_Alarm_Open					DS	1	;判断闹钟是否开启
   121 00:00C0: xx            R_Alarm_Beep					DS	1	;判断那个闹钟
   122                        
   123 00:00C1: xx xx xx xx   R_Alarm_Clock_State				DS	5;0是一次性闹钟，1是每天闹钟，2是工作日闹钟，3是周末闹钟
   123 00:00C1: xx            
   124 00:00C6: xx xx xx xx   R_Alarm_Clock_Hr				DS	5
   124 00:00C6: xx            
   125 00:00CB: xx xx xx xx   R_Alarm_Clock_Min				DS	5
   125 00:00CB: xx            
   126 00:00D0: xx xx xx xx   R_Snz_Time						DS	5
   126 00:00D0: xx            
   127                        
   128                        
   129                        
   130                        D_Beep_Open_Last_Time_Alarm		EQU	21
   131                        
   132                        
   133                        D_Snz_Time						EQU	5
   134                        D_Snz_Frequency					EQU	6
   135                        
   136                        
   137 00:00D5: xx            R_Mode_Set					DS	1;设置模式
   138                        
   139 00:00D6: xx            Konb_Last_State				DS	1
   140                        
   141                        
   142                        
   143 00:00D7: xx xx xx xx   P_Temp			ds	16
   143 00:00D7: xx xx xx xx   
   143 00:00D7: xx xx xx xx   
   144                        R_Tmp0	equ	P_Temp
   145                        R_Tmp1	equ	P_Temp+1
   146                        R_Tmp2	equ	P_Temp+2
   147                        R_Tmp3	equ	P_Temp+3
   148                        lcd_tmp_mask	equ	P_Temp+9
   149                        lcd_tmp_bit		equ	P_Temp+10
   150                        
   151                        ;==============================温湿度内存
   152                        
   153                        
   154                        
   155 00:00E7: xx            R_RT_L					DS	1		;温度电阻
   156 00:00E8: xx            R_RT_M					DS  1
   157 00:00E9: xx            R_RT_H                  DS  1
   158 00:00EA: xx            R_RR_L					DS	1		;标准电阻
   159 00:00EB: xx            R_RR_M                  DS  1
   160 00:00EC: xx            R_RR_H                  DS  1
   161 00:00ED: xx            R_RH_L					DS	1		;湿度电阻
   162 00:00EE: xx            R_RH_M                  DS  1
   163 00:00EF: xx            R_RH_H                  DS  1
   164                        ;R_Measure_Temperature   DS
   165 00:00F0: xx            R_Temperature        	DS	1		;温度
   166 00:00F1: xx            R_Temperature_L      	DS  1		;是否为零下温度
   167                        ;R_Temperature_F_M		DS  1
   168                        ;R_Temperature_F_H		DS  1
   169                        
   170                        ; R_Humidity				DS  1
   171                        ;
   172                        ; R_Humidity_Level		DS  1
   173 00:00F2: xx            R_RFCCH					DS	1
   174                        ; R_KeyCnt				DS	1
   175                        
   176                        ;============================================
   177                        ;读取电量所需要的内存
   178                        ;============================================
   179 00:00F3: xx            P_PC_IO_Backup					DS	1
   180                        P_PC_DIR_Backup					.EQU	P_PC_IO_Backup
   181 00:00F4: xx            P_PC_Backup						DS	1
   182 00:00F5: xx            R_Delay							DS	1	;
   183 00:00F6: xx            R_BatGrade						DS	1
   184 00:00F7: xx            R_Bat_Data						DS	1
   185                        
   186                        ;---------------------------------------
   187                        
   188                        ;显示从写P_Temp+4
   189                        ;---------------------------------------
   190                        ;---------------------------------------
   191                        ;***************************************
   192                        .ENDS
   193                        ;***************************************
   194                        .Udata
   195                        ;---------------------------------------
   196                        	ORG    1880H
   197                        ;---------------------------------------
   198                        ;---------------------------------------
   199 00:1880: xx            R_Set_Mode_Exit_Time			DS	1;自动设置退出时间
   200                        D_Set_Mode_Exit_Time			EQU	6
   201 00:1881: xx            R_Alarm_Clock_Open_Beep_Time	DS	1;32Hz转化为16hz
   202 00:1882: xx            R_Close_Beep_Time				DS	1;闹铃关闭时间，闹铃响多久
   203 00:1883: xx            R_Voice_Unit					DS	1;闹铃响的次数，一秒响几次
   204 00:1884: xx            R_Mode							DS	1
   205                        
   206                        .ENDS
   206                        
    22                        	.include	50P016.mac
     1                        ;------------------------------------
     2                        PB2_PB2_COMS MACRO
     3                                RMB0    PADF0
     4                                SMB2    PBTYPE ;COMS
     5                                ENDM
     6                        PB2_PB2_NOMS MACRO
     7                                RMB0    PADF0
     8                                RMB2    PBTYPE ;NOMS
     9                                ENDM
    10                        PB2_PWM MACRO
    11                                SMB0    PADF0
    12                                SMB2    PBTYPE ;COMS
    13                                ENDM
    14                        PB3_PB3_COMS MACRO
    15                                RMB1    PADF0
    16                                SMB3    PBTYPE ;NMOS
    17                                ENDM
    18                        PB3_PB3_NOMS MACRO
    19                                RMB1    PADF0
    20                                RMB3    PBTYPE ;CMOS
    21                                ENDM
    22                        PB3_PWM MACRO
    23                                SMB1    PADF0
    24                                SMB3    PBTYPE ;CMOS
    25                                ENDM
    26                        
    27                        PA4_PA4 MACRO
    28                                RMB3    PADF0
    29                                RMB4    PADF0
    30                                ENDM
    31                        PA4_IR_FSUB     MACRO
    32                                SMB3    PADF0
    33                                RMB4    PADF0
    34                                ENDM
    35                        PA4_IR_TMR0_D2  MACRO
    36                                RMB3    PADF0
    37                                SMB4    PADF0
    38                                ENDM
    39                        PA4_IR_TMR0_D3  MACRO
    40                                SMB3    PADF0
    41                                SMB4    PADF0
    42                                ENDM
    43                        
    44                        PA7_PA7 MACRO
    45                                RMB2    PADF0
    46                                ENDM
    47                        
    48                        PA7_EXT MACRO
    49                                SMB2    PADF0 ;falling edge trigger
    50                                ENDM
    51                        
    52                        PC45_PC45       MACRO
    53                                RMB4    PCSEG
    54                                ENDM
    55                        
    56                        PC67_PC67       MACRO
    57                                RMB5    PCSEG
    58                                RMB4    DIVC
    59                                ENDM
    60                        
    61                        PC67_EL01       MACRO
    62                                RMB5    PCSEG
    63                                SMB4    DIVC
    64                                ENDM
    65                        
    66                        PC03_SEG       MACRO
    67                                SMB0    PCSEG
    68                                SMB1    PCSEG
    69                                SMB2    PCSEG
    70                                SMB3    PCSEG
    71                                ENDM
    72                        
    73                        PC45_SEG       MACRO
    74                                SMB4    PCSEG
    75                                ENDM
    76                        PC67_SEG	MACRO
    77                                SMB5    PCSEG
    78                                ENDM
    79                        
    80                        PD03_SEG	MACRO
    81                        		SMB6	PCSEG
    82                                ENDM
    83                        PD03_RFC	MACRO
    84                        		RMB6	PCSEG
    85                        ;		RMB0	PDSEG
    86                        ;		RMB1	PDSEG
    87                        ;		RMB2	PDSEG
    88                        ;		RMB3	PDSEG
    89                        		SMB0	RFCC0
    90                        		SMB1	RFCC0
    91                        		SMB2	RFCC0
    92                        		SMB3	RFCC0
    93                                ENDM
    94                        PD03_PD03	MACRO
    95                        		RMB6	PCSEG
    96                        ;		RMB0	PDSEG
    97                        ;		RMB1	PDSEG
    98                        ;		RMB2	PDSEG
    99                        ;		RMB3	PDSEG
   100                        		RMB0	RFCC0
   101                        		RMB1	RFCC0
   102                        		RMB2	RFCC0
   103                        		RMB3	RFCC0
   104                                ENDM
   105                        PD0_SEG	MACRO
   106                        ;		RMB6	PCSEG
   107                        		SMB0	PDSEG
   108                                ENDM
   109                        PD1_SEG	MACRO
   110                        ;		RMB6	PCSEG
   111                        		SMB1	PDSEG
   112                                ENDM
   113                        PD2_SEG	MACRO
   114                        ;		RMB6	PCSEG
   115                        		SMB2	PDSEG
   116                                ENDM
   117                        PD3_SEG	MACRO
   118                        		RMB6	PCSEG
   119                        		SMB3	PDSEG
   120                                ENDM
   121                        
   122                        PD47_SEG	MACRO
   123                        		SMB7	PCSEG
   124                                ENDM
   125                        PD47_RFC	MACRO
   126                        		RMB7	PCSEG
   127                        ;		RMB4	PDSEG
   128                        ;		RMB5	PDSEG
   129                        ;		RMB6	PDSEG
   130                        ;		RMB7	PDSEG
   131                        		SMB4	RFCC0
   132                        		SMB5	RFCC0
   133                        		SMB6	RFCC0
   134                        		SMB7	RFCC0
   135                                ENDM
   136                        PD47_PD47	MACRO
   137                        		RMB7	PCSEG
   138                        ;		RMB4	PDSEG
   139                        ;		RMB5	PDSEG
   140                        ;		RMB6	PDSEG
   141                        ;		RMB7	PDSEG
   142                        		RMB4	RFCC0
   143                        		RMB5	RFCC0
   144                        		RMB6	RFCC0
   145                        		RMB7	RFCC0
   146                                ENDM
   147                        PD4_SEG	MACRO
   148                        ;		RMB7	PCSEG
   149                        		SMB4	PDSEG
   150                                ENDM
   151                        PD5_SEG	MACRO
   152                        ;		RMB7	PCSEG
   153                        		SMB5	PDSEG
   154                                ENDM
   155                        PD6_SEG	MACRO
   156                        ;		RMB7	PCSEG
   157                        		SMB6	PDSEG
   158                                ENDM
   159                        PD7_SEG	MACRO
   160                        		RMB7	PCSEG
   161                        		SMB7	PDSEG
   162                                ENDM
   163                        
   164                        PC_PD_SEG	MACRO
   165                        		lda		#$FF
   166                        		STA		PCSEG	;S1~S7,S8~S15
   167                                ENDM
   168                        
   169                        LCD_2COM	MACRO
   170                        		SMB0	LCDCOM
   171                        		RMB1	LCDCOM
   172                        		RMB2	LCDCOM
   173                                ENDM
   174                        LCD_3COM	MACRO
   175                        		RMB0	LCDCOM
   176                        		SMB1	LCDCOM
   177                        		RMB2	LCDCOM
   178                                ENDM
   179                        LCD_4COM	MACRO
   180                        		SMB0	LCDCOM
   181                        		SMB1	LCDCOM
   182                        		RMB2	LCDCOM
   183                                ENDM
   184                        LCD_5COM	MACRO
   185                        		RMB0	LCDCOM
   186                        		RMB1	LCDCOM
   187                        		SMB2	LCDCOM
   188                                ENDM
   189                        LCD_6COM	MACRO
   190                        		SMB0	LCDCOM
   191                        		RMB1	LCDCOM
   192                        		SMB2	LCDCOM
   193                                ENDM
   194                        LCD_7COM	MACRO
   195                        		RMB0	LCDCOM
   196                        		SMB1	LCDCOM
   197                        		SMB2	LCDCOM
   198                                ENDM
   199                        LCD_8COM	MACRO
   200                        		SMB0	LCDCOM
   201                        		SMB1	LCDCOM
   202                        		SMB2	LCDCOM
   203                                ENDM
   204                        
   205                        LCD_ENCH_EN		MACRO
   206                        		SMB6	LCDCOM
   207                                ENDM
   208                        LCD_ENCH_DIS	MACRO
   209                        		RMB6	LCDCOM
   210                                ENDM
   211                        
   212                        LCD_C_TYPE	MACRO
   213                        		SMB7	LCDCOM
   214                        		SMB0	PCSEG
   215                        		SMB1	PCSEG
   216                        		SMB2	PCSEG
   217                        		SMB3	PCSEG
   218                                ENDM
   219                        LCD_DRIVE_2	MACRO
   220                        		SMB0	LCDCTRL
   221                        		RMB1	LCDCTRL
   222                                ENDM
   223                        LCD_DRIVE_4	MACRO
   224                        		RMB0	LCDCTRL
   225                        		SMB1	LCDCTRL
   226                                ENDM
   227                        LCD_DRIVE_8	MACRO
   228                        		SMB0	LCDCTRL
   229                        		SMB1	LCDCTRL
   230                                ENDM
   231                        LCD_DRIVE_FULL	MACRO
   232                        		RMB0	LCDCTRL
   233                        		RMB1	LCDCTRL
   234                                ENDM
   235                        LCD_C_1_2_BAIS_3V	MACRO
   236                        		RMB2	LCDCTRL
   237                        		RMB3	LCDCTRL
   238                                ENDM
   239                        LCD_C_1_3_BAIS_3V	MACRO
   240                        		SMB2	LCDCTRL
   241                        		RMB3	LCDCTRL
   242                                ENDM
   243                        LCD_C_1_3_BAIS_4V	MACRO
   244                        		SMB2	LCDCTRL
   245                        		SMB3	LCDCTRL
   246                                ENDM
   247                        
   248                        LCD_R_TYPE	MACRO
   249                        		RMB7	LCDCOM
   250                                ENDM
   251                        LCD_R_1_2_BAIS	MACRO
   252                        		SMB2	LCDCTRL
   253                        		SMB3	LCDCTRL
   254                                ENDM
   255                        LCD_R_1_3_BAIS	MACRO
   256                        		RMB2	LCDCTRL
   257                        		RMB3	LCDCTRL
   258                                ENDM
   259                        LCD_R_1_4_BAIS	MACRO
   260                        		SMB2	LCDCTRL
   261                        		RMB3	LCDCTRL
   262                                ENDM
   263                        ;------------------------------------
   264                        Fext_WEAK       MACRO
   265                                RMB0    SYSCLK
   266                                ENDM
   267                        Fext_STRONG     MACRO
   268                                SMB0    SYSCLK
   269                                ENDM
   270                        
   271                        Fext_OFF        MACRO
   272                                RMB1    SYSCLK
   273                                ENDM
   274                        Fext_ON         MACRO
   275                                SMB1    SYSCLK
   276                                ENDM
   277                        
   278                        Fosc_OFF        MACRO
   279                                RMB2    SYSCLK
   280                                ENDM
   281                        Fosc_ON         MACRO
   282                                SMB2    SYSCLK
   283                                ENDM
   284                        
   285                        Fext_Xtal       MACRO
   286                                RMB3    SYSCLK
   287                                ENDM
   288                        Fext_RC         MACRO
   289                                SMB3    SYSCLK
   290                                ENDM
   291                        
   292                        Fsys_4MHZ MACRO
   293                                RMB4    SYSCLK
   294                                RMB5    SYSCLK
   295                                ENDM
   296                        Fsys_2MHZ MACRO
   297                                SMB4    SYSCLK
   298                                RMB5    SYSCLK
   299                                ENDM
   300                        Fsys_1MHZ MACRO
   301                                RMB4    SYSCLK
   302                                SMB5    SYSCLK
   303                                ENDM
   304                        Fsys_500K MACRO
   305                                SMB4    SYSCLK
   306                                SMB5    SYSCLK
   307                                ENDM
   308                        
   309                        Fsub_Fext MACRO
   310                                SMB6    SYSCLK
   311                                ENDM
   312                        Fsub_32KCLK     MACRO
   313                                RMB6    SYSCLK
   314                                ENDM
   315                        
   316                        Fcpu_Fext  MACRO
   317                                SMB7    SYSCLK
   318                                ENDM
   319                        Fcpu_Fsys  MACRO
   320                                RMB7    SYSCLK
   321                                ENDM
   322                        
   323                        ;------------------------------------
   324                        DIV_8KHZ  MACRO
   325                                RMB0    DIVC
   326                                RMB1    DIVC
   327                        		RMB5	DIVC
   328                                ENDM
   329                        DIV_16KHZ  MACRO
   330                                SMB0    DIVC
   331                                RMB1    DIVC
   332                        		RMB5	DIVC
   333                                ENDM
   334                        DIV_512HZ  MACRO
   335                                RMB0    DIVC
   336                                SMB1    DIVC
   337                        		RMB5	DIVC
   338                                ENDM
   339                        DIV_1KHZ  MACRO
   340                                SMB0    DIVC
   341                                SMB1    DIVC
   342                        		RMB5	DIVC
   343                                ENDM
   344                        DIV_256HZ  MACRO
   345                        		SMB5	DIVC
   346                                ENDM
   347                        ;------------------------------------
   348                        WDTC_CLK_256HZ   MACRO
   349                                RMB0    WDTC
   350                                RMB1    WDTC
   351                                ENDM
   352                        WDTC_CLK_DIV     MACRO
   353                                SMB0    WDTC
   354                                RMB1    WDTC
   355                                ENDM
   356                        WDTC_CLK_TMR1   MACRO
   357                                RMB0    WDTC
   358                                SMB1    WDTC
   359                                ENDM
   360                        WDTC_CLK_LCDS    MACRO
   361                                SMB0    WDTC
   362                                SMB1    WDTC
   363                                ENDM
   364                        
   365                        WDTC_CLR MACRO
   366                                RMB2    WDTC
   367                                ENDM
   368                        
   369                        WDTC_ON  MACRO
   370                                SMB3    WDTC
   371                                ENDM
   372                        WDTC_OFF MACRO
   373                                RMB3    WDTC
   374                                ENDM
   375                        
   376                        IF_WDTC MACRO   LAB
   377                                BBS4    WDTC,LAB
   378                                ENDM
   379                        
   380                        ;------------------------------------
   381                        TMR0_ON MACRO
   382                                SMB0    TMRC
   383                                ENDM
   384                        TMR0_OFF MACRO
   385                                RMB0    TMRC
   386                                ENDM
   387                        TMR0_CLK_FOSC   MACRO
   388                                SMB0    TMCLK
   389                                RMB1    TMCLK
   390                                ENDM
   391                        TMR0_CLK_FSUB    MACRO
   392                                RMB0    TMCLK
   393                                RMB1    TMCLK
   394                                RMB0	PADF1
   395                                ENDM
   396                        TMR0_CLK_128K	macro
   397                        		RMB0    TMCLK
   398                                SMB1    TMCLK
   399                                ENDM
   400                        TMR0_CLK_32K	macro
   401                        		RMB0    TMCLK
   402                                RMB1    TMCLK
   403                                SMB0	PADF1
   404                                ENDM
   405                        TMR0_CLK_1M   MACRO
   406                                SMB0    TMCLK
   407                                SMB1    TMCLK
   408                                RMB6	TMRC
   409                                ENDM
   410                        
   411                        TMR1_ON MACRO
   412                                SMB1    TMRC
   413                                ENDM
   414                        TMR1_OFF MACRO
   415                                RMB1    TMRC
   416                                ENDM
   417                        TMR1_CLK_TMR0   MACRO
   418                                RMB2    TMCLK
   419                                RMB3    TMCLK
   420                                ENDM
   421                        TMR1_CLK_512Hz    MACRO
   422                                SMB2    TMCLK
   423                                RMB3    TMCLK
   424                                ENDM
   425                        TMR1_CLK_128K	macro
   426                        		RMB2    TMCLK
   427                                SMB3    TMCLK
   428                                ENDM
   429                        TMR1_CLK_1M		macro
   430                        		SMB2    TMCLK
   431                                SMB3    TMCLK
   432                                ENDM
   433                        
   434                        TMR2_ON MACRO
   435                                SMB2    TMRC
   436                                ENDM
   437                        TMR2_OFF MACRO
   438                                RMB2    TMRC
   439                                ENDM
   440                        ;TMR2_CLK_1KDIV2    MACRO
   441                        ;       RMB4    TMCLK
   442                        ;        RMB5    TMCLK
   443                        ;        ENDM
   444                        ;TMR2_CLK_1KDIV3    MACRO
   445                        ;        SMB4    TMCLK
   446                        ;        RMB5    TMCLK
   447                        ;        ENDM
   448                        ;TMR2_CLK_FOSCDIV8  MACRO
   449                        ;        RMB4    TMCLK
   450                        ;        SMB5    TMCLK
   451                        ;        ENDM
   452                        ;TMR2_CLK_FSUB      MACRO
   453                        ;        SMB4    TMCLK
   454                        ;        SMB5    TMCLK
   455                        ;        ENDM
   456                        
   457                        
   458                        TONE_2KHZ       MACRO
   459                                RMB2    DIVC
   460                                RMB3    DIVC
   461                                ENDM
   462                        TONE_TMR0_2     MACRO
   463                                SMB2    DIVC
   464                                RMB3    DIVC
   465                                ENDM
   466                        TONE_L       MACRO
   467                                RMB2    DIVC
   468                                SMB3    DIVC
   469                                ENDM
   470                        TONE_H       MACRO
   471                                SMB2    DIVC
   472                                SMB3    DIVC
   473                                ENDM
   474                        ;------------------------------------
   475                        EN_DIV_IRQ     MACRO
   476                                SMB0    IER
   477                                ENDM
   478                        EN_TMR0_IRQ     MACRO
   479                                SMB1    IER
   480                                ENDM
   481                        EN_TMR1_IRQ     MACRO
   482                                SMB2    IER
   483                                ENDM
   484                        EN_TMR2_IRQ     MACRO
   485                                SMB3    IER
   486                                ENDM
   487                        EN_KEY_IRQ      MACRO
   488                                SMB4    IER
   489                                ENDM
   490                        EN_PA_IRQ      MACRO
   491                                SMB4    IER
   492                                ENDM
   493                        EN_EXT_IRQ      MACRO
   494                                SMB5    IER
   495                                ENDM
   496                        EN_LCD_IRQ      MACRO
   497                                SMB6    IER
   498                                ENDM
   499                        
   500                        DIS_DIV_IRQ     MACRO
   501                                RMB0    IER
   502                                ENDM
   503                        DIS_TMR0_IRQ     MACRO
   504                                RMB1    IER
   505                                ENDM
   506                        DIS_TMR1_IRQ     MACRO
   507                                RMB2    IER
   508                                ENDM
   509                        DIS_TMR2_IRQ     MACRO
   510                                RMB3    IER
   511                                ENDM
   512                        DIS_KEY_IRQ      MACRO
   513                                RMB4    IER
   514                                ENDM
   515                        DIS_PA_IRQ		 MACRO
   516                                RMB4    IER
   517                                ENDM
   518                        DIS_EXT_IRQ      MACRO
   519                                RMB5    IER
   520                                ENDM
   521                        DIS_LCD_IRQ      MACRO
   522                                RMB6    IER
   523                                ENDM
   524                        
   525                        CLR_DIV_IRQ_FLAG MACRO
   526                                RMB0    IFR
   527                                ENDM
   528                        CLR_TMR0_IRQ_FLAG      MACRO
   529                                RMB1    IFR
   530                                ENDM
   531                        CLR_TMR1_IRQ_FLAG      MACRO
   532                                RMB2    IFR
   533                                ENDM
   534                        CLR_TMR2_IRQ_FLAG      MACRO
   535                                RMB3    IFR
   536                                ENDM
   537                        CLR_KEY_IRQ_FLAG      MACRO
   538                                RMB4    IFR
   539                                ENDM
   540                        CLR_PA_IRQ_FLAG      MACRO
   541                                RMB4    IFR
   542                                ENDM
   543                        CLR_PA_IRQF      MACRO
   544                                RMB4    IFR
   545                                ENDM
   546                        CLR_EXT_IRQ_FLAG       MACRO
   547                                RMB5    IFR
   548                                ENDM
   549                        CLR_LCD_IRQ_FLAG       MACRO
   550                                RMB6    IFR
   551                                ENDM
   552                        
   553                        IF_DIV_IRQ_FLAG MACRO   LAB1
   554                                BBS0    IFR,LAB1
   555                                ENDM
   556                        IF_TMR0_IRQ_FLAG MACRO   LAB1
   557                                BBS1    IFR,LAB1
   558                                ENDM
   559                        IF_TMR1_IRQ_FLAG MACRO   LAB1
   560                                BBS2    IFR,LAB1
   561                                ENDM
   562                        IF_TMR2_IRQ_FLAG MACRO   LAB1
   563                                BBS3    IFR,LAB1
   564                                ENDM
   565                        IF_KEY_IRQ_FLAG MACRO   LAB1
   566                                BBS4    IFR,LAB1
   567                                ENDM
   568                        IF_EXT_IRQ_FLAG MACRO   LAB1
   569                                BBS5    IFR,LAB1
   570                                ENDM
   571                        IF_LCD_IRQ_FLAG MACRO   LAB1
   572                                BBS6    IFR,LAB1
   573                                ENDM
   574                        ;------------------------------------
   575                        LCD_ON           MACRO
   576                                SMB4    TMRC
   577                                ENDM
   578                        LCD_OFF          MACRO
   579                                RMB4    TMRC
   580                                ENDM
   581                        
   582                        PWM_ON  MACRO
   583                        		SMB0	SYSCLK	;Strong Mode
   584                                SMB7    TMRC
   585                                ENDM
   586                        PWM_OFF MACRO
   587                                RMB7    TMRC
   588                        ;		lda		R_Strong_2S
   589                        ;		bne		?Skip
   590                        		RMB0	SYSCLK	;WeakMode
   591                        ?Skip:
   592                                ENDM
   593                        ;DAC_ON		MACRO
   594                        ;	SMB7	P_TMRCTRL
   595                        ;	ENDM
   596                        ;DAC_OFF		MACRO
   597                        ;	RMB7	P_TMRCTRL
   598                        ;	ENDM
   599                        
   600                        IF_PWM_ON       MACRO   LAB
   601                                BBS7    TMRC,LAB
   602                                ENDM
   603                        IF_PWM_OFF      MACRO   LAB
   604                                BBR7    TMRC,LAB
   605                                ENDM
   606                        
   607                        SEL_PWM MACRO
   608                                SMB1    AUDCR
   609                                ENDM
   610                        DAC_LATCH_TMR0	MACRO
   611                        		SMB5	AUDCR
   612                        		ENDM
   613                        SEL_TONE MACRO
   614                                RMB2    AUDCR
   615                                RMB4    AUDCR
   616                                RMB5    AUDCR
   617                                ENDM
   618                        
   619                        SEL_MELODY  MACRO
   620                                RMB2    AUDCR
   621                                SMB4    AUDCR
   622                        ;        SMB5    AUDCR
   623                                RMB5    AUDCR
   624                                ENDM
   625                        SEL_VOICE   MACRO
   626                                SMB2    AUDCR
   627                                RMB4    AUDCR
   628                                SMB5    AUDCR
   629                                ENDM
   630                        ;------------------------------------
   631                        ClrAllRam MACRO
   632                            LDA		#$00
   633                        	LDX		#$FF
   634                        	STA		$1800
   635                        ?ClrAllRamLoop:
   636                        	STA		$1800,X
   637                        	DEX
   638                        	BNE		?ClrAllRamLoop
   639                            ENDM
   640                        ;------------------------------------
   641                        CHECK_LCD	MACRO
   642                        	LDA		#11111110B
   643                        	STA		P_PC_DIR		;PC0 is Output
   644                        	LDA		#11111110B
   645                        	STA		P_PC			;PC0 Output "0"
   646                        	NOP
   647                        	NOP
   648                        	NOP
   649                        	LDA		P_PC
   650                        	AND		#00000010B
   651                        ?_Loop
   652                        	STA		P_Temp+1
   653                        	LDA		#$0F
   654                        ?_LoopPort
   655                        	DEC
   656                        	BNE		?_LoopPort
   657                        	LDA		P_PC
   658                        	AND		#00000010B
   659                        	STA		P_Temp
   660                        	CMP		P_Temp+1
   661                        	BNE		?_Loop
   662                        	BBS1	P_Temp,?LCD_R_Type
   663                        ?LCD_C_Type:
   664                        	LCD_C_TYPE
   665                        	LCD_ENCH_EN
   666                        	LCD_4COM
   667                        	LCD_DRIVE_8
   668                        	LCD_C_1_3_BAIS_3V
   669                        	JMP		?Exit
   670                        ?LCD_R_Type:
   671                        	LCD_R_TYPE
   672                        ;	LCD_ENCH_EN
   673                        	LCD_4COM
   674                        ;	LCD_DRIVE_8
   675                        	LCD_R_1_3_BAIS
   676                        
   677                        ?Exit:
   678                        	LDA		#$00
   679                        	STA		P_PC_IO
   680                        	STA		P_PC
   681                        ;	STA		P_PC_IO_Backup
   682                        ;	STA		P_PC_Backup
   683                        	ENDM
   684                        ;------------------------------------
   685                        ;------------------------------------
   685                        
    23                        	.INCLUDE	MACRO.MAC
     1                        ;***********************************************************************
     2                        BRA_IDX MACRO	MEM
     3                        	if	MEM<$100
     4                        	BRA	($80+MEM)
     5                        	else
     6                        	BRA	(MEM)
     7                        	endif
     8                        	ENDM
     9                        
    10                        LDLN	MACRO	mem
    11                        	if	mem<$100
    12                        	LDA	$780+mem
    13                        	else
    14                        	LDA	$700+mem
    15                        	endif
    16                        	ENDM
    17                        
    18                        LDHN	MACRO	mem
    19                        	if	mem<$100
    20                        	LDA	$F80+mem
    21                        	else
    22                        	LDA	$F00+mem
    23                        	endif
    24                        	ENDM
    25                        
    26                        STLN	MACRO	mem
    27                        	if	mem<$100
    28                        	STA	$780+mem
    29                        	else
    30                        	STA	$700+mem
    31                        	endif
    32                        	ENDM
    33                        
    34                        STHN	MACRO	mem
    35                        	if	mem<$100
    36                        	STA	$F80+mem
    37                        	else
    38                        	STA	$F00+mem
    39                        	endif
    40                        	ENDM
    41                        
    42                        LXLN	MACRO	mem
    43                        	if	mem<$100
    44                        	LDX	$780+mem
    45                        	else
    46                        	LDX	$700+mem
    47                        	endif
    48                        	ENDM
    49                        
    50                        LXHN	MACRO	mem
    51                        	if	mem<$100
    52                        	LDX	$F80+mem
    53                        	else
    54                        	LDX	$F00+mem
    55                        	endif
    56                        	ENDM
    57                        
    58                        SXLN	MACRO	mem
    59                        	if	mem<$100
    60                        	STX	$780+mem
    61                        	else
    62                        	STX	$700+mem
    63                        	endif
    64                        	ENDM
    65                        
    66                        SXHN	MACRO	mem
    67                        	if	mem<$100
    68                        	STX	$F80+mem
    69                        	else
    70                        	STX	$F00+mem
    71                        	endif
    72                        	ENDM
    73                        
    74                        LDLN_X	MACRO	mem
    75                        	if	mem<$100
    76                        	LDA	$780+mem,X
    77                        	else
    78                        	LDA	$700+mem,X
    79                        	endif
    80                        	ENDM
    81                        
    82                        STLN_X	MACRO	mem
    83                        	if	mem<$100
    84                        	STA	$780+mem,X
    85                        	else
    86                        	STA	$700+mem,X
    87                        	endif
    88                        	ENDM
    89                        
    90                        LDHN_X	MACRO	mem
    91                        	if	mem<$100
    92                        	LDA	$F80+mem,X
    93                        	else
    94                        	LDA	$F00+mem,X
    95                        	endif
    96                        	ENDM
    97                        
    98                        STHN_X	MACRO	mem
    99                        	if	mem<$100
   100                        	STA	$F80+mem,X
   101                        	else
   102                        	STA	$F00+mem,X
   103                        	endif
   104                        	ENDM
   105                        
   106                        INCHN_X	MACRO	mem
   107                        	if	mem<$100
   108                        	INC	$F80+mem,X
   109                        	else
   110                        	INC	$F00+mem,X
   111                        	endif
   112                        	ENDM
   113                        
   114                        DECHN_X	MACRO	mem
   115                        	if	mem<$100
   116                        	DEC	$F80+mem,X
   117                        	else
   118                        	DEC	$F00+mem,X
   119                        	endif
   120                        	ENDM
   121                        
   122                        ADCLN	MACRO	mem
   123                        	if	mem<$100
   124                        	ADC	$780+mem
   125                        	else
   126                        	ADC	$700+mem
   127                        	endif
   128                        	ENDM
   129                        
   130                        ADCHN	MACRO	mem
   131                        	if	mem<$100
   132                        	ADC	$F80+mem
   133                        	else
   134                        	ADC	$F00+mem
   135                        	endif
   136                        	ENDM
   137                        
   138                        CMPLN	MACRO	mem
   139                        	if	mem<$100
   140                        	CMP	$780+mem
   141                        	else
   142                        	CMP	$700+mem
   143                        	endif
   144                        	ENDM
   145                        
   146                        CMPHN	MACRO	mem
   147                        	if	mem<$100
   148                        	CMP	$F80+mem
   149                        	else
   150                        	CMP	$F00+mem
   151                        	endif
   152                        	ENDM
   153                        
   154                        INCLN	MACRO	mem
   155                        	if	mem<$100
   156                        	INC	$780+mem
   157                        	else
   158                        	INC	$700+mem
   159                        	endif
   160                        	ENDM
   161                        
   162                        INCHN	MACRO	mem
   163                        	if	mem<$100
   164                        	INC	$F80+mem
   165                        	else
   166                        	INC	$F00+mem
   167                        	endif
   168                        	ENDM
   169                        
   170                        DECLN	MACRO	mem
   171                        	if	mem<$100
   172                        	DEC	$780+mem
   173                        	else
   174                        	DEC	$700+mem
   175                        	endif
   176                        	ENDM
   177                        
   178                        DECHN	MACRO	mem
   179                        	if	mem<$100
   180                        	DEC	$F80+mem
   181                        	else
   182                        	DEC	$F00+mem
   183                        	endif
   184                        	ENDM
   185                        
   186                        LDA_X	MACRO	mem
   187                        	if	mem<$100
   188                        	LDA	$80+mem,X
   189                        	else
   190                        	LDA	mem,X
   191                        	endif
   192                        	ENDM
   193                        
   194                        STA_X	MACRO	mem
   195                        	if	mem<$100
   196                        	STA	$80+mem,X
   197                        	else
   198                        	STA	mem,X
   199                        	endif
   200                        	ENDM
   201                        
   202                        STZ_X	MACRO	mem
   203                        	if	mem<$100
   204                        	STZ	$80+mem,X
   205                        	else
   206                        	STZ	mem,X
   207                        	endif
   208                        	ENDM
   209                        
   210                        INC_X	MACRO	mem
   211                        	if	mem<$100
   212                        	INC	$80+mem,X
   213                        	else
   214                        	INC	mem,X
   215                        	endif
   216                        	ENDM
   217                        
   218                        ADC_X	MACRO	mem
   219                        	if	mem<$100
   220                        	ADC	$80+mem,X
   221                        	else
   222                        	ADC	mem,X
   223                        	endif
   224                        	ENDM
   225                        
   226                        SBC_X	MACRO	mem
   227                        	if	mem<$100
   228                        	SBC	$80+mem,X
   229                        	else
   230                        	SBC	mem,X
   231                        	endif
   232                        	ENDM
   233                        
   234                        CMP_X	MACRO	mem
   235                        	if	mem<$100
   236                        	CMP	$80+mem,X
   237                        	else
   238                        	CMP	mem,X
   239                        	endif
   240                        	ENDM
   241                        
   242                        ASLLN	MACRO	mem
   243                        	if	mem<$100
   244                        	ASL	$780+mem
   245                        	else
   246                        	ASL	$700+mem
   247                        	endif
   248                        	ENDM
   249                        
   250                        LSRLN	MACRO	mem
   251                        	if	mem<$100
   252                        	LSR	$780+mem
   253                        	else
   254                        	LSR	$700+mem
   255                        	endif
   256                        	ENDM
   257                        
   258                        ROLLN	MACRO	mem
   259                        	if	mem<$100
   260                        	ROL	$780+mem
   261                        	else
   262                        	ROL	$700+mem
   263                        	endif
   264                        	ENDM
   265                        
   266                        RORLN	MACRO	mem
   267                        	if	mem<$100
   268                        	ROR	$780+mem
   269                        	else
   270                        	ROR	$700+mem
   271                        	endif
   272                        	ENDM
   273                        
   274                        ASLHN	MACRO	mem
   275                        	if	mem<$100
   276                        	ASL	$F80+mem
   277                        	else
   278                        	ASL	$F00+mem
   279                        	endif
   280                        	ENDM
   281                        
   282                        LSRHN	MACRO	mem
   283                        	if	mem<$100
   284                        	LSR	$F80+mem
   285                        	else
   286                        	LSR	$F00+mem
   287                        	endif
   288                        	ENDM
   289                        
   290                        ROLHN	MACRO	mem
   291                        	if	mem<$100
   292                        	ROL	$F80+mem
   293                        	else
   294                        	ROL	$F00+mem
   295                        	endif
   296                        	ENDM
   297                        
   298                        RORHN	MACRO	mem
   299                        	if	mem<$100
   300                        	ROR	$F80+mem
   301                        	else
   302                        	ROR	$F00+mem
   303                        	endif
   304                        	ENDM
   305                        
   306                        
   307                        BR0	MACRO	PARA,VAR,LABLE
   308                        	BBR@<VAR.mod.8> PARA,LABLE
   309                        	ENDM
   310                        
   311                        BR1	MACRO	PARA,VAR,LABLE
   312                        	BBS@<VAR.mod.8>	PARA,LABLE
   313                        	ENDM
   314                        
   315                        xSETB	MACRO	flag,bit
   316                        	SMB@<bit>  flag
   317                        	ENDM
   318                        
   319                        xCLRB	MACRO	flag,bit
   320                        	RMB@<bit>  flag
   321                        	ENDM
   321                        
    24                        ;***************************************
    25                        STACK_BOT		EQU		FFH                     ;堆栈底部
    26                        ;***************************************
    27                        	.PROG										;程序开始
    28                        V_RESET:
    29 00:C000: 1A            	NOP
    30 00:C001: 1A            	NOP
    31 00:C002: 1A            	NOP
    32 00:C003: 5E FF         	LDX		#STACK_BOT
    33 00:C005: 1E            	TXS	      ;使用这个值初始化堆栈指针，这通常是为了设置堆栈的底部地址，确保程序运行中堆栈的正确使用。
    34 00:C006: 53 37         	LDA		#$37	;#$07
    35 00:C008: 7F 1D         	STA		SYSCLK	;设置系统时钟
    36 00:C00A: 73 3E         	LDA		FUSE
    37 00:C00C: 7F 2F         	STA		MF	;精准主频3.64M
    38                        ;***************************************
    39                        	ClrAllRam	;清空ram
+   39 00:C00E: 53 00          LDA #$0000
+   39 00:C010: 5E FF          LDX #$00FF
+   39 00:C012: 4F 00 18       STA $1800
+   39                        ?ClrAllRamLoop:
+   39 00:C015: 6F 00 18       STA $1800,X
+   39 00:C018: 0F             DEX
+   39 00:C019: 12 FA          BNE ?ClrAllRamLoop
    40                        	WDTC_CLR
+   40 00:C01B: 22 1C          RMB2 WDTC
    41                        	CHECK_LCD   ;初始化LCD
+   41 00:C01D: 53 FE          LDA #$00FE
+   41 00:C01F: 7F 08          STA P_PC_DIR
+   41 00:C021: 53 FE          LDA #$00FE
+   41 00:C023: 7F 07          STA P_PC
+   41 00:C025: 1A             NOP
+   41 00:C026: 1A             NOP
+   41 00:C027: 1A             NOP
+   41 00:C028: 73 07          LDA P_PC
+   41 00:C02A: 51 02          AND #$0002
+   41                        ?_Loop
+   41 00:C02C: 7F D8          STA P_Temp+$0001
+   41 00:C02E: 53 0F          LDA #$000F
+   41                        ?_LoopPort
+   41 00:C030: 07             DEC
+   41 00:C031: 12 FD          BNE ?_LoopPort
+   41 00:C033: 73 07          LDA P_PC
+   41 00:C035: 51 02          AND #$0002
+   41 00:C037: 7F D7          STA P_Temp
+   41 00:C039: 76 D8          CMP P_Temp+$0001
+   41 00:C03B: 12 EF          BNE ?_Loop
+   41 00:C03D: 39 D7 1D       BBS1 P_Temp,?LCD_R_Type
+   41                        ?LCD_C_Type:
+   41                         LCD_C_TYPE
+   41 00:C040: 2F 1A          SMB7 LCDCOM
+   41 00:C042: 28 09          SMB0 PCSEG
+   41 00:C044: 29 09          SMB1 PCSEG
+   41 00:C046: 2A 09          SMB2 PCSEG
+   41 00:C048: 2B 09          SMB3 PCSEG
+   41                         LCD_ENCH_EN
+   41 00:C04A: 2E 1A          SMB6 LCDCOM
+   41                         LCD_4COM
+   41 00:C04C: 28 1A          SMB0 LCDCOM
+   41 00:C04E: 29 1A          SMB1 LCDCOM
+   41 00:C050: 22 1A          RMB2 LCDCOM
+   41                         LCD_DRIVE_8
+   41 00:C052: 28 19          SMB0 LCDCTRL
+   41 00:C054: 29 19          SMB1 LCDCTRL
+   41                         LCD_C_1_3_BAIS_3V
+   41 00:C056: 2A 19          SMB2 LCDCTRL
+   41 00:C058: 23 19          RMB3 LCDCTRL
+   41 00:C05A: 16 69 C0       JMP ?Exit
+   41                        ?LCD_R_Type:
+   41                         LCD_R_TYPE
+   41 00:C05D: 27 1A          RMB7 LCDCOM
+   41                        
+   41                         LCD_4COM
+   41 00:C05F: 28 1A          SMB0 LCDCOM
+   41 00:C061: 29 1A          SMB1 LCDCOM
+   41 00:C063: 22 1A          RMB2 LCDCOM
+   41                        
+   41                         LCD_R_1_3_BAIS
+   41 00:C065: 22 19          RMB2 LCDCTRL
+   41 00:C067: 23 19          RMB3 LCDCTRL
+   41                        
+   41                        ?Exit:
+   41 00:C069: 53 00          LDA #$0000
+   41 00:C06B: 7F 08          STA P_PC_IO
+   41 00:C06D: 7F 07          STA P_PC
+   41                        
+   41                        
    42 00:C06F: 53 2B         	LDA		#43
    43 00:C071: 7F 21         	STA		FRAME
    44                        ;***************************************定时器初始化，特殊功能寄存器初始化
    45 00:C073: 53 00         	LDA		#0
    46 00:C075: 7F 0D         	STA		PADF1  ;定时器0的时钟源选择
    47 00:C077: 7F 10         	STA		TMR0   ;128HZ
    48 00:C079: 7F 12         	STA		TMR1   ;512
    49 00:C07B: 7F 14         	STA		TMR2	;定时器的开始数
    50 00:C07D: 7F 18         	STA		DIVC    ;分频控制器，定时器与DICV异步   2048
    51 00:C07F: 7F 0E         	STA		IER     ;不允许中断
    52 00:C081: 7F 0F         	STA		IFR     ;中断请求标志
    53 00:C083: 7F 1F         	STA		AUD0    ;pwm输出值设置
    54 00:C085: 7F 20         	STA		AUDCR   ;
    55 00:C087: 7F 05         	STA		PB
    56                        ;***************************************LCD初始化
    57                        	LCD_C_TYPE
+   57 00:C089: 2F 1A          SMB7 LCDCOM
+   57 00:C08B: 28 09          SMB0 PCSEG
+   57 00:C08D: 29 09          SMB1 PCSEG
+   57 00:C08F: 2A 09          SMB2 PCSEG
+   57 00:C091: 2B 09          SMB3 PCSEG
    58                        	LCD_ENCH_EN
+   58 00:C093: 2E 1A          SMB6 LCDCOM
    59                        	LCD_8COM
+   59 00:C095: 28 1A          SMB0 LCDCOM
+   59 00:C097: 29 1A          SMB1 LCDCOM
+   59 00:C099: 2A 1A          SMB2 LCDCOM
    60                        	LCD_DRIVE_8
+   60 00:C09B: 28 19          SMB0 LCDCTRL
+   60 00:C09D: 29 19          SMB1 LCDCTRL
    61                        	LCD_C_1_3_BAIS_4V
+   61 00:C09F: 2A 19          SMB2 LCDCTRL
+   61 00:C0A1: 2B 19          SMB3 LCDCTRL
    62                        ;***************************************端口配置（等待图纸）
    63 00:C0A3: 15 5B C1      	JSR		L_Scankey_INIT
    64 00:C0A6: 28 1D         	SMB0	P_SYSCLK
    65                        
    66                        
    67                        	PB2_PB2_COMS
+   67 00:C0A8: 20 0C          RMB0 PADF0
+   67 00:C0AA: 2A 06          SMB2 PBTYPE
    68                        	PB3_PB3_NOMS
+   68 00:C0AC: 21 0C          RMB1 PADF0
+   68 00:C0AE: 23 06          RMB3 PBTYPE
    69                        
    70                        	PC67_SEG
+   70 00:C0B0: 2D 09          SMB5 PCSEG
    71                        	; PC45_SEG
    72                        	PD03_SEG
+   72 00:C0B2: 2E 09          SMB6 PCSEG
    73                        	PD47_PD47
+   73 00:C0B4: 27 09          RMB7 PCSEG
+   73                        
+   73                        
+   73                        
+   73                        
+   73 00:C0B6: 24 5D          RMB4 RFCC0
+   73 00:C0B8: 25 5D          RMB5 RFCC0
+   73 00:C0BA: 26 5D          RMB6 RFCC0
+   73 00:C0BC: 27 5D          RMB7 RFCC0
    74                        
    75 00:C0BE: 15 38 C1      	JSR		L_Init_SystemRam_Prog   ;初始化系统RAM并禁用所有断电保留的RAM
    76 00:C0C1: 15 4A C1      	JSR		L_Dis_All_DisRam_Prog	;初始化系统RAM并禁用所有断电保留的RAM
    77                        ;***************************************开启中断
    78 00:C0C4: 20 18         	RMB0	DIVC
    79 00:C0C6: 29 18         	SMB1	DIVC
    80 00:C0C8: 2D 18         	SMB5	DIVC
    81                        	TMR1_CLK_512Hz;初始化定时器1为256hz,定时器2为512hz
+   81 00:C0CA: 2A 17          SMB2 TMCLK
+   81 00:C0CC: 23 17          RMB3 TMCLK
    82                        	; LDA		#174
    83                        	; STA		TMR2
    84                        	LCD_ON
+   84 00:C0CE: 2C 16          SMB4 TMRC
    85                        	TMR1_ON;半秒计时
+   85 00:C0D0: 29 16          SMB1 TMRC
    86                        	EN_TMR1_IRQ              ;定时器和LCD使能
+   86 00:C0D2: 2A 0E          SMB2 IER
    87                        	EN_PA_IRQ;下降沿触发
+   87 00:C0D4: 2C 0E          SMB4 IER
    88 00:C0D6: 53 07         	LDA		#$07		;#$07    系统时钟和中断使能
    89 00:C0D8: 7F 1D         	STA		SYSCLK		;Strong
    90 00:C0DA: 05            	CLI
    91 00:C0DB: 15 57 C1      	JSR		L_Clr_All_DisRam_Prog
    92                        ;***********************************************************************
    93                        ;***********************************************************************
    94                        MainLoop:
    95                        
    96                        	; JSR		L_Update_Timer_Ms_Prog
    97                        	; JSR		L_LCD_IRQ_WorkProg
    98 00:C0DE: 15 80 CB      	JSR		L_Half_Second_Prog
    99 00:C0E1: 43 83 18      	LDA		R_Voice_Unit
   100 00:C0E4: 12 F8         	BNE		MainLoop
   101                        
   102                        
   103                        	Fsys_500k
+  103 00:C0E6: 2C 1D          SMB4 SYSCLK
+  103 00:C0E8: 2D 1D          SMB5 SYSCLK
   104                        
   105 00:C0EA: 1A            	NOP
   106 00:C0EB: 1A            	NOP
   107 00:C0EC: 1A            	NOP
   108 00:C0ED: 7F 1E         	STA		P_HALT
   109                        	Fsys_2MHZ
+  109 00:C0EF: 2C 1D          SMB4 SYSCLK
+  109 00:C0F1: 25 1D          RMB5 SYSCLK
   110                        
   111 00:C0F3: 17 E9         	BRA		MainLoop
   112                        
   113                        ;***********************************************************************
   114                        ;***********************************************************************
   115                        V_IRQ:
   116 00:C0F5: 0A            	PHA
   117 00:C0F6: 73 0E         	LDA		P_IER
   118 00:C0F8: 71 0F         	AND		P_IFR
   119 00:C0FA: 7F A8         	STA		R_Int_Backup
   120                        
   121 00:C0FC: 3E A8 33      	BBS6	R_Int_Backup,L_LcdIrq
   122 00:C0FF: 3B A8 12      	BBS3	R_Int_Backup,L_Timer2Irq
   123 00:C102: 3C A8 23      	BBS4	R_Int_Backup,L_PaIrp
   124 00:C105: 38 A8 08      	BBS0	R_Int_Backup,L_DivIrq
   125 00:C108: 3A A8 15      	BBS2	R_Int_Backup,L_Timer1Irq
   126 00:C10B: 39 A8 0E      	BBS1	R_Int_Backup,L_Timer0Irq
   127 00:C10E: 17 26         	BRA		L_EndIrq
   128                        
   129                        L_DivIrq:
   130                        	CLR_DIV_IRQ_FLAG
+  130 00:C110: 20 0F          RMB0 IFR
   131 00:C112: 17 22         	BRA		L_EndIrq
   132                        
   133                        L_Timer2Irq:
   134                        	CLR_TMR2_IRQ_FLAG
+  134 00:C114: 23 0F          RMB3 IFR
   135                        	WDTC_CLR
+  135 00:C116: 22 1C          RMB2 WDTC
   136 00:C118: 29 AC         	SMB1	Sys_Flag_D
   137 00:C11A: 17 1A         	BRA		L_EndIrq
   138                        
   139                        L_Timer0Irq:
   140                        	CLR_TMR0_IRQ_FLAG
+  140 00:C11C: 21 0F          RMB1 IFR
   141 00:C11E: 17 16         	BRA		L_EndIrq
   142                        
   143                        L_Timer1Irq:
   144                        	CLR_TMR1_IRQ_FLAG
+  144 00:C120: 22 0F          RMB2 IFR
   145                        	WDTC_CLR
+  145 00:C122: 22 1C          RMB2 WDTC
   146 00:C124: 28 AA         	SMB0	Sys_Flag_B	;设置Half Second Flag
   147 00:C126: 17 0E         	BRA		L_EndIrq
   148                        
   149                        L_PaIrp:
   150                        	CLR_KEY_IRQ_FLAG
+  150 00:C128: 24 0F          RMB4 IFR
   151                        	EN_LCD_IRQ
+  151 00:C12A: 2E 0E          SMB6 IER
   152                        	DIS_PA_IRQ
+  152 00:C12C: 24 0E          RMB4 IER
   153 00:C12E: 29 A9         	SMB1	Sys_Flag_A
   154 00:C130: 17 04         	BRA		L_EndIrq
   155                        L_LcdIrq:
   156                        	CLR_LCD_IRQ_FLAG
+  156 00:C132: 26 0F          RMB6 IFR
   157 00:C134: 28 A9         	SMB0	Sys_Flag_A	;设置LCD中断标志，32Hz扫描
   158                        L_EndIrq:
   159                        ;	BBS3	IFR,L_Timer2Irq
   160 00:C136: 0C            	PLA
   161 00:C137: 08            	RTI
   162                        ;***********************************************************************
   163                        .INCLUDE	Init.asm
     1                        ;------------------------------------------------------
     2                        L_Init_SystemRam_Prog:     ;初始化系统RAM的程序数据
     3 00:C138: 53 04         	LDA		#4
     4 00:C13A: 7F B0         	STA		R_Reset_Time
     5 00:C13C: 53 25         	LDA		#25H
     6 00:C13E: 7F BA         	STA		R_Time_Year
     7 00:C140: 53 01         	LDA		#1
     8 00:C142: 7F B8         	STA		R_Time_Day
     9 00:C144: 7F B9         	STA		R_Time_Month
    10                        	; LDA		#4
    11                        	; STA		R_Mode
    12 00:C146: 15 D8 CC      	JSR		L_Auto_Counter_Week
    13                        
    14 00:C149: 09            	RTS
    15                        ;======================================================
    16                        L_Dis_All_DisRam_Prog:
    17 00:C14A: 53 FF         	LDA		#$FF
    18                        L_All_DisRam:
    19 00:C14C: 5E 00         	LDX		#0
    20                        L_Loop_DisplayRam:
    21 00:C14E: 6F 00 18      	STA		LCD_RamAddr,X
    22 00:C151: 0B            	INX
    23 00:C152: 57 28         	CPX		#D_LCD_RAM
    24 00:C154: 10 F8         	BCC		L_Loop_DisplayRam    ;C=0是跳转
    25 00:C156: 09            	RTS
    26                        ;----------------------------------------------------
    27                        L_Clr_All_DisRam_Prog:
    28 00:C157: 53 00         	LDA		#0
    29 00:C159: 17 F1         	BRA		L_All_DisRam
    30                        
    31                        L_Scankey_INIT:
    32 00:C15B: 53 FD         	LDA		#11111101B;
    33 00:C15D: 7F 04         	STA		P_PA_IO;PA0输出,其余输入
    34 00:C15F: 53 8D         	LDA		#10001101B
    35 00:C161: 7F 01         	STA		P_PA	;其他全部下拉
    36 00:C163: 53 7C         	LDA		#01111100B
    37 00:C165: 7F 02         	STA		P_PA_WAKE;	将PA做唤醒
    38 00:C167: 53 00         	LDA		#0
    39 00:C169: 7F 08         	STA		P_PC_IO
    40 00:C16B: 7F 07         	STA		P_PC
    41 00:C16D: 09            	RTS
    42                        
    43                        L_Judgement_Scankey_Prog:
    44                        	; LDA		#11111101B;
    45                        	; STA		P_PA_IO;PA0输出,其余输入
    46 00:C16E: 53 8D         	LDA		#10001101B
    47 00:C170: 7F 01         	STA		P_PA	;其他全部下拉
    48 00:C172: 53 00         	LDA		#0
    49 00:C174: 7F 07         	STA		P_PC;PC口输出0
    50 00:C176: 09            	RTS
    51                        L_PA_Intput_Low_Prog:
    52 00:C177: 53 FD         	LDA		#11111101B
    53 00:C179: 7F 01         	STA		P_PA
    54 00:C17B: 09            	RTS
    55                        L_PC0_Output_High_Prog:
    56 00:C17C: 53 01         	LDA		#01H
    57 00:C17E: 7F 07         	STA		P_PC
    58 00:C180: 09            	RTS
    59                        L_PC1_Output_High_Prog:
    60 00:C181: 53 02         	LDA		#02H
    61 00:C183: 7F 07         	STA		P_PC
    62 00:C185: 09            	RTS
    63                        L_PC2_Output_High_Prog:
    64 00:C186: 53 04         	LDA		#04H
    65 00:C188: 7F 07         	STA		P_PC
    66 00:C18A: 09            	RTS
    67                        L_PC3_Output_High_Prog:
    68 00:C18B: 53 08         	LDA		#08H
    69 00:C18D: 7F 07         	STA		P_PC
    70 00:C18F: 09            	RTS
    71                        
    72                        L_PC4_Output_High_Prog:
    73 00:C190: 53 10         	LDA		#10H
    74 00:C192: 7F 07         	STA		P_PC
    75 00:C194: 09            	RTS
    76                        
    77                        L_PC5_Output_High_Prog:
    78 00:C195: 53 20         	LDA		#20H
    79 00:C197: 7F 07         	STA		P_PC
    80 00:C199: 09            	RTS
    81                        
    82                        ; L_PA257_Input_Low:
    83                        ; 	LDA		#10101101B
    84                        ; 	STA		P_PA	;其他全部下拉
    85                        ; 	RTS
    86                        ; L_PA257_Input_High:
    87                        ; 	LDA		#00000001B
    88                        ; 	STA		P_PA
    89                        ; 	RTS
    90                        L_Scankey_Effictive_Init:
    91 00:C19A: 53 F1         	LDA		#11110001B;
    92 00:C19C: 7F 01         	STA		P_PA
    93 00:C19E: 53 00         	LDA		#0
    94 00:C1A0: 7F 07         	STA		P_PC
    95 00:C1A2: 09            	RTS
    95                        
   164                        
   165                        ; .INCLUDE	Key\ScanKey.ASM
   166                        ; .INCLUDE	Key\Scankey_First_Press.asm
   167                        ; .INCLUDE	Key\Konb_Change.asm
   168                        ; .INCLUDE	Key\Scankey_First_Press_Judgment.asm
   169                        ; .INCLUDE	Key\Scankey_Normal.asm
   170                        ; .INCLUDE	Key\ScanKey_Function_Time.ASM
   171                        ; .INCLUDE	Key\ScanKey_Function_usually.asm
   172                        ;
   173                        ;
   174                        ;
   175                        
   176                        .INCLUDE	Display\Display.asm
     1                        L_Display_Prog:
     2 00:C1A3: 43 84 18          LDA     R_Mode
     3 00:C1A6: 13 03             BEQ     L_Display_Prog_Time_To
     4 00:C1A8: 16 6F C2          JMP     L_Display_Alarm_Prog
     5                        L_Display_Prog_Time_To:
     6 00:C1AB: 16 CA C1          JMP     L_Display_Time_Prog
     7                        
     8                        
     9                        L_Clr_Alarm_Prog:
    10 00:C1AE: 15 B1 C8          JSR     L_Clr_lcd_Alarm_Clock_Prog_1
    11 00:C1B1: 15 B7 C8          JSR     L_Clr_lcd_Alarm_Clock_Prog_2
    12 00:C1B4: 15 BD C8          JSR     L_Clr_lcd_Alarm_Clock_Prog_3
    13 00:C1B7: 15 C9 C8          JSR     L_Clr_lcd_Alarm_Clock_Prog_5
    14 00:C1BA: 15 C3 C8          JSR     L_Clr_lcd_Alarm_Clock_Prog_4
    15 00:C1BD: 15 CF C8          JSR     L_Clr_lcd_X10_Prog
    16 00:C1C0: 15 D5 C8          JSR     L_Clr_lcd_X11_Prog
    17 00:C1C3: 15 DB C8          JSR     L_Clr_lcd_X12_Prog
    18 00:C1C6: 15 E1 C8          JSR     L_Clr_lcd_X13_Prog
    19 00:C1C9: 09                RTS
    20                        
    20                        
   177                        .INCLUDE	Display\Display_Time.asm
     1                        L_Display_Time_Prog:
     2 00:C1CA: 15 3F C8      	JSR		L_Display_Col_Time_Prog
     3 00:C1CD: 15 E7 C1      	JSR		L_Display_Time_Min_Prog
     4 00:C1D0: 15 FD C1      	JSR		L_Display_Time_Hr_Prog
     5 00:C1D3: 15 18 C2      	JSR		L_Display_Time_Day_Prog
     6 00:C1D6: 15 2E C2      	JSR		L_Display_Time_Week_Prog
     7 00:C1D9: 15 36 C2      	JSR		L_Display_Time_Month_Prog
     8 00:C1DC: 15 59 C2      	JSR		L_Display_Time_Year_Prog
     9 00:C1DF: 73 AE         	LDA		Sys_Flag_F
    10 00:C1E1: 13 03         	BEQ		L_Display_Time_Prog_RTS
    11 00:C1E3: 15 76 C3      	JSR		L_Display_Prog_Under_Time_Mode
    12                        L_Display_Time_Prog_RTS:
    13 00:C1E6: 09            	RTS
    14                        
    15                        
    16                        
    17                        
    18                        
    19                        
    20                        
    21                        L_Display_Time_Min_Prog:
    22 00:C1E7: 73 B6         	LDA		R_Time_Min
    23 00:C1E9: 51 0F         	AND		#0FH
    24 00:C1EB: 5E 4D         	LDX		#lcd_d17
    25 00:C1ED: 15 68 C9      	JSR		L_Dis_8Bit_DigitDot_Prog
    26 00:C1F0: 73 B6         	LDA		R_Time_Min
    27 00:C1F2: 51 F0         	AND		#F0H
    28 00:C1F4: 15 CB C9      	JSR		L_ROR_4Bit_Prog
    29 00:C1F7: 5E 46         	LDX		#lcd_d16
    30 00:C1F9: 15 68 C9      	JSR		L_Dis_8Bit_DigitDot_Prog
    31 00:C1FC: 09            	RTS
    32                        ;==================================
    33                        L_Display_Time_Hr_Prog:
    34 00:C1FD: 73 B7         	LDA		R_Time_Hr
    35 00:C1FF: 15 2E C9      	JSR		L_12_24_Prog
    36 00:C202: 7F DD         	STA		P_Temp+6
    37 00:C204: 51 0F         	AND		#0FH
    38 00:C206: 5E 3F         	LDX		#lcd_d15
    39 00:C208: 15 68 C9      	JSR		L_Dis_8Bit_DigitDot_Prog
    40 00:C20B: 73 DD         	LDA		P_Temp+6
    41 00:C20D: 51 F0         	AND		#F0H
    42 00:C20F: 15 CB C9      	JSR		L_ROR_4Bit_Prog
    43 00:C212: 5E 38         	LDX		#lcd_d14
    44 00:C214: 15 68 C9      	JSR		L_Dis_8Bit_DigitDot_Prog
    45 00:C217: 09            	RTS
    46                        ;==================================
    47                        L_Display_Time_Day_Prog:
    48 00:C218: 73 B8         	LDA		R_Time_Day
    49 00:C21A: 51 0F         	AND		#0FH
    50 00:C21C: 5E 1C         	LDX		#lcd_d5
    51 00:C21E: 15 68 C9      	JSR		L_Dis_8Bit_DigitDot_Prog
    52 00:C221: 73 B8         	LDA		R_Time_Day
    53 00:C223: 51 F0         	AND		#F0H
    54 00:C225: 15 CB C9      	JSR		L_ROR_4Bit_Prog
    55 00:C228: 5E 15         	LDX		#lcd_d4
    56 00:C22A: 15 68 C9      	JSR		L_Dis_8Bit_DigitDot_Prog
    57 00:C22D: 09            	RTS
    58                        ;==================================
    59                        L_Display_Time_Week_Prog:
    60 00:C22E: 73 BB         	LDA		R_Time_Week
    61 00:C230: 5E 23         	LDX		#lcd_d6
    62 00:C232: 15 68 C9      	JSR		L_Dis_8Bit_DigitDot_Prog
    63 00:C235: 09            	RTS
    64                        ;==================================
    65                        L_Display_Time_Month_Prog:
    66 00:C236: 73 B9         	LDA		R_Time_Month
    67 00:C238: 51 0F         	AND		#0FH
    68 00:C23A: 5E 0E         	LDX		#lcd_d3
    69 00:C23C: 15 68 C9      	JSR		L_Dis_8Bit_DigitDot_Prog
    70 00:C23F: 73 B9         	LDA		R_Time_Month
    71 00:C241: 51 F0         	AND		#F0H
    72 00:C243: 13 09         	BEQ		L_Display_Time_Month_Prog_1
    73 00:C245: 15 CB C9      	JSR		L_ROR_4Bit_Prog
    74 00:C248: 5E BF         	LDX		#lcd_T6
    75 00:C24A: 15 B3 C9      	JSR		F_ClrpSymbol
    76 00:C24D: 09            	RTS
    77                        L_Display_Time_Month_Prog_1:
    78 00:C24E: 5E BF         	LDX		#lcd_T6
    79 00:C250: 15 AC C9      	JSR		F_DispSymbol
    80 00:C253: 5E C0         	LDX		#lcd_T7
    81 00:C255: 15 AC C9      	JSR		F_DispSymbol
    82 00:C258: 09            	RTS
    83                        ;==================================
    84                        L_Display_Time_Year_Prog:
    85 00:C259: 73 BA         	LDA		R_Time_Year
    86 00:C25B: 51 0F         	AND		#0FH
    87 00:C25D: 5E 07         	LDX		#lcd_d2
    88 00:C25F: 15 68 C9      	JSR		L_Dis_8Bit_DigitDot_Prog
    89 00:C262: 73 BA         	LDA		R_Time_Year
    90 00:C264: 51 F0         	AND		#F0H
    91 00:C266: 15 CB C9      	JSR		L_ROR_4Bit_Prog
    92 00:C269: 5E 00         	LDX		#lcd_d1
    93 00:C26B: 15 68 C9      	JSR		L_Dis_8Bit_DigitDot_Prog
    94 00:C26E: 09            	RTS
    94                        
   178                        .INCLUDE	Display\Display_Alarm_Clock.asm
     1                        L_Display_Alarm_Prog:
     2 00:C26F: 15 5B C3          JSR     L_Display_Alarm_Clock_Mode_Prog;显示5个闹钟的标识
     3 00:C272: 43 84 18          LDA     R_Mode
     4 00:C275: 56 01             CMP     #1
     5 00:C277: 13 13             BEQ     L_Display_Alarm_Prog_1
     6 00:C279: 56 02             CMP     #2
     7 00:C27B: 13 0D             BEQ     L_Display_Alarm_Prog_2
     8 00:C27D: 56 03             CMP     #3
     9 00:C27F: 13 07             BEQ     L_Display_Alarm_Prog_3
    10 00:C281: 56 04             CMP     #4
    11 00:C283: 13 01             BEQ     L_Display_Alarm_Prog_4
    12 00:C285: 09                RTS
    13                        
    14                        L_Display_Alarm_Prog_4:
    15 00:C286: 04                CLC
    16 00:C287: 19                ROR
    17                        L_Display_Alarm_Prog_3:
    18 00:C288: 04                CLC
    19 00:C289: 19                ROR
    20                        L_Display_Alarm_Prog_2:
    21 00:C28A: 04                CLC
    22 00:C28B: 19                ROR
    23                        L_Display_Alarm_Prog_1:
    24 00:C28C: 04                CLC
    25 00:C28D: 19                ROR
    26 00:C28E: 11 03             BCS     L_Display_Alarm_Clock_Usually_Prog
    27 00:C290: 15 9D C2          JSR     L_Display_Alarm_Clock_OFF_Prog
    28                        L_Display_Alarm_Clock_Usually_Prog:
    29 00:C293: 15 BD C2          JSR     L_Display_Alarm_Clock_Min_Prog
    30 00:C296: 15 E3 C2          JSR     L_Display_Alarm_Clock_Hr_Prog
    31 00:C299: 15 36 C3          JSR     L_Display_Alarm_Clock_State_Prog
    32 00:C29C: 09                RTS
    33                        
    34                        
    35                        
    36                        
    37                        
    38                        
    39                        
    40                        ;=====================================================
    41                        L_Display_Alarm_Clock_OFF_Prog:
    42 00:C29D: 15 51 C8          JSR     L_Clr_Col_Time_Prog
    43 00:C2A0: 5E 4D             LDX     #lcd_d17
    44 00:C2A2: 53 13             LDA     #19
    45 00:C2A4: 15 68 C9          JSR     L_Dis_8Bit_DigitDot_Prog
    46 00:C2A7: 5E 46             LDX     #lcd_d16
    47 00:C2A9: 53 13             LDA     #19
    48 00:C2AB: 15 68 C9          JSR     L_Dis_8Bit_DigitDot_Prog
    49 00:C2AE: 5E 3F             LDX     #lcd_d15
    50 00:C2B0: 53 00             LDA     #0
    51 00:C2B2: 15 68 C9          JSR     L_Dis_8Bit_DigitDot_Prog
    52 00:C2B5: 5E 38             LDX     #lcd_d14
    53 00:C2B7: 53 0A             LDA     #10
    54 00:C2B9: 15 68 C9          JSR     L_Dis_8Bit_DigitDot_Prog
    55 00:C2BC: 09                RTS
    56                        ;======================================================
    57                        L_Display_Alarm_Clock_Min_Prog:
    58 00:C2BD: 43 84 18          LDA     R_Mode
    59 00:C2C0: 07                DEC
    60 00:C2C1: 7F D7             STA     P_Temp
    61 00:C2C3: 5E 4B             LDX     #(R_Alarm_Clock_Min-RAM)
    62 00:C2C5: 1C                TXA
    63 00:C2C6: 04                CLC
    64 00:C2C7: 74 D7             ADC     P_Temp
    65 00:C2C9: 1C                TXA
    66 00:C2CA: 63 80 00          LDA     RAM,X
    67 00:C2CD: 7F DD             STA     P_Temp+6
    68 00:C2CF: 51 0F             AND     #0FH
    69 00:C2D1: 5E 4D             LDX     #lcd_d17
    70 00:C2D3: 15 68 C9          JSR     L_Dis_8Bit_DigitDot_Prog
    71 00:C2D6: 73 DD             LDA     P_Temp+6
    72 00:C2D8: 51 F0             AND     #F0H
    73 00:C2DA: 15 CB C9          JSR		L_ROR_4Bit_Prog
    74 00:C2DD: 5E 46             LDX     #lcd_d16
    75 00:C2DF: 15 68 C9          JSR     L_Dis_8Bit_DigitDot_Prog
    76 00:C2E2: 09                RTS
    77                        ;-----------------------------------------
    78                        L_Display_Alarm_Clock_Hr_Prog:
    79 00:C2E3: 43 84 18          LDA     R_Mode
    80 00:C2E6: 07                DEC
    81 00:C2E7: 7F D7             STA     P_Temp
    82 00:C2E9: 5E 46             LDX     #(R_Alarm_Clock_Hr-RAM)
    83 00:C2EB: 1C                TXA
    84 00:C2EC: 04                CLC
    85 00:C2ED: 74 D7             ADC     P_Temp
    86 00:C2EF: 1C                TXA
    87 00:C2F0: 63 80 00          LDA     RAM,X
    88 00:C2F3: 15 2E C9          JSR     L_12_24_Prog
    89 00:C2F6: 7F DD             STA     P_Temp+6
    90                        
    91 00:C2F8: 51 0F             AND     #0FH
    92 00:C2FA: 5E 3F             LDX     #lcd_d15
    93 00:C2FC: 15 68 C9          JSR     L_Dis_8Bit_DigitDot_Prog
    94 00:C2FF: 73 DD             LDA     P_Temp+6
    95 00:C301: 51 F0             AND     #F0H
    96 00:C303: 12 02             BNE     L_Display_Alarm_Clock_Hr_Prog_1
    97 00:C305: 53 A0             LDA     #A0H
    98                        L_Display_Alarm_Clock_Hr_Prog_1:
    99 00:C307: 15 CB C9          JSR		L_ROR_4Bit_Prog
   100 00:C30A: 5E 38             LDX     #lcd_d14
   101 00:C30C: 15 68 C9          JSR     L_Dis_8Bit_DigitDot_Prog
   102 00:C30F: 09                RTS
   103                        ;---------------------------------------
   104                        L_Display_Alarm_Clock_Snz_Time_Prog:
   105 00:C310: 43 84 18          LDA     R_Mode
   106 00:C313: 07                DEC
   107 00:C314: 7F D7             STA     P_Temp
   108 00:C316: 5E 50             LDX     #(R_Snz_Time-RAM)
   109 00:C318: 1C                TXA
   110 00:C319: 04                CLC
   111 00:C31A: 74 D7             ADC     P_Temp
   112 00:C31C: 1C                TXA
   113 00:C31D: 63 80 00          LDA     RAM,X
   114 00:C320: 7F DD             STA     P_Temp+6
   115 00:C322: 51 0F             AND     #0FH
   116 00:C324: 5E 4D             LDX     #lcd_d17
   117 00:C326: 15 68 C9          JSR     L_Dis_8Bit_DigitDot_Prog
   118 00:C329: 73 DD             LDA     P_Temp+6
   119 00:C32B: 51 F0             AND     #F0H
   120 00:C32D: 15 CB C9          JSR		L_ROR_4Bit_Prog
   121 00:C330: 5E 46             LDX     #lcd_d16
   122 00:C332: 15 68 C9          JSR     L_Dis_8Bit_DigitDot_Prog
   123 00:C335: 09                RTS
   124                        ;--------------------------------------
   125                        L_Display_Alarm_Clock_State_Prog:
   126 00:C336: 43 84 18          LDA     R_Mode
   127                        L_Display_Alarm_Clock_State_Prog_Usually:
   128 00:C339: 07                DEC
   129 00:C33A: 7F D7             STA     P_Temp
   130 00:C33C: 5E 41             LDX     #(R_Alarm_Clock_State-RAM)
   131 00:C33E: 1C                TXA
   132 00:C33F: 04                CLC
   133 00:C340: 74 D7             ADC     P_Temp
   134 00:C342: 1C                TXA
   135 00:C343: 63 80 00          LDA     RAM,X
   136 00:C346: 04                CLC
   137 00:C347: 06                CLD
   138 00:C348: 18                ROL
   139 00:C349: 1B                TAX
   140 00:C34A: 63 54 C3          LDA     Table_Alarm_Clock_State+1,X
   141 00:C34D: 0A                PHA
   142 00:C34E: 63 53 C3          LDA     Table_Alarm_Clock_State,X
   143 00:C351: 0A                PHA
   144 00:C352: 09                RTS
   145                        Table_Alarm_Clock_State:
   146 00:C353: 80 C8             DW      L_Display_lcd_X10_Prog-1
   147 00:C355: 86 C8             DW      L_Display_lcd_X11_Prog-1
   148 00:C357: 8C C8             DW      L_Display_lcd_X12_Prog-1
   149 00:C359: 92 C8             DW      L_Display_lcd_X13_Prog-1
   150                        ;================================================
   151                        L_Display_Alarm_Clock_Mode_Prog:
   152 00:C35B: 43 84 18          LDA     R_Mode
   153 00:C35E: 07                DEC
   154 00:C35F: 04                CLC
   155 00:C360: 06                CLD
   156 00:C361: 18                ROL
   157 00:C362: 1B                TAX
   158 00:C363: 63 6D C3          LDA     Table_Alarm_Clock+1,X
   159 00:C366: 0A                PHA
   160 00:C367: 63 6C C3          LDA     Table_Alarm_Clock,X
   161 00:C36A: 0A                PHA
   162 00:C36B: 09                RTS
   163                        Table_Alarm_Clock:
   164 00:C36C: 62 C8             DW      L_Display_lcd_Alarm_Clock_Prog_1-1
   165 00:C36E: 68 C8             DW      L_Display_lcd_Alarm_Clock_Prog_2-1
   166 00:C370: 6E C8             DW      L_Display_lcd_Alarm_Clock_Prog_3-1
   167 00:C372: 74 C8             DW      L_Display_lcd_Alarm_Clock_Prog_4-1
   168 00:C374: 7A C8             DW      L_Display_lcd_Alarm_Clock_Prog_5-1
   169                        
   170                        ;=================================================
   171                        L_Display_Prog_Under_Time_Mode:
   172 00:C376: 15 86 C3          JSR   L_Display_Prog_Under_Time_Mode_1
   173 00:C379: 15 95 C3          JSR   L_Display_Prog_Under_Time_Mode_2
   174 00:C37C: 15 A5 C3          JSR   L_Display_Prog_Under_Time_Mode_3
   175 00:C37F: 15 B6 C3          JSR   L_Display_Prog_Under_Time_Mode_4
   176 00:C382: 15 C8 C3          JSR   L_Display_Prog_Under_Time_Mode_5
   177 00:C385: 09                RTS
   178                        ;---------------------------------------------
   179                        L_Display_Prog_Under_Time_Mode_1:
   180 00:C386: 73 AE             LDA     Sys_Flag_F
   181 00:C388: 04                CLC
   182 00:C389: 19                ROR
   183 00:C38A: 10 08             BCC     L_Display_Prog_Under_Time_Mode_1_RTS
   184 00:C38C: 15 63 C8          JSR     L_Display_lcd_Alarm_Clock_Prog_1
   185 00:C38F: 53 01             LDA     #1
   186 00:C391: 15 39 C3          JSR     L_Display_Alarm_Clock_State_Prog_Usually
   187                        L_Display_Prog_Under_Time_Mode_1_RTS:
   188 00:C394: 09                RTS
   189                        ;---------------------------------------------
   190                        L_Display_Prog_Under_Time_Mode_2:
   191 00:C395: 73 AE             LDA     Sys_Flag_F
   192 00:C397: 04                CLC
   193 00:C398: 19                ROR
   194 00:C399: 19                ROR
   195 00:C39A: 10 08             BCC     L_Display_Prog_Under_Time_Mode_2_RTS
   196 00:C39C: 15 69 C8          JSR     L_Display_lcd_Alarm_Clock_Prog_2
   197 00:C39F: 53 02             LDA     #2
   198 00:C3A1: 15 39 C3          JSR     L_Display_Alarm_Clock_State_Prog_Usually
   199                        L_Display_Prog_Under_Time_Mode_2_RTS:
   200 00:C3A4: 09                RTS
   201                        ;---------------------------------------------
   202                        L_Display_Prog_Under_Time_Mode_3:
   203 00:C3A5: 73 AE             LDA     Sys_Flag_F
   204 00:C3A7: 04                CLC
   205 00:C3A8: 19                ROR
   206 00:C3A9: 19                ROR
   207 00:C3AA: 19                ROR
   208 00:C3AB: 10 08             BCC     L_Display_Prog_Under_Time_Mode_3_RTS
   209 00:C3AD: 15 6F C8          JSR     L_Display_lcd_Alarm_Clock_Prog_3
   210 00:C3B0: 53 03             LDA     #3
   211 00:C3B2: 15 39 C3          JSR     L_Display_Alarm_Clock_State_Prog_Usually
   212                        L_Display_Prog_Under_Time_Mode_3_RTS:
   213 00:C3B5: 09                RTS
   214                        ;---------------------------------------------
   215                        L_Display_Prog_Under_Time_Mode_4:
   216 00:C3B6: 73 AE             LDA     Sys_Flag_F
   217 00:C3B8: 04                CLC
   218 00:C3B9: 19                ROR
   219 00:C3BA: 19                ROR
   220 00:C3BB: 19                ROR
   221 00:C3BC: 19                ROR
   222 00:C3BD: 10 08             BCC     L_Display_Prog_Under_Time_Mode_4_RTS
   223 00:C3BF: 15 75 C8          JSR     L_Display_lcd_Alarm_Clock_Prog_4
   224 00:C3C2: 53 04             LDA     #4
   225 00:C3C4: 15 39 C3          JSR     L_Display_Alarm_Clock_State_Prog_Usually
   226                        L_Display_Prog_Under_Time_Mode_4_RTS:
   227 00:C3C7: 09                RTS
   228                        ;---------------------------------------------
   229                        L_Display_Prog_Under_Time_Mode_5:
   230 00:C3C8: 73 AE             LDA     Sys_Flag_F
   231 00:C3CA: 04                CLC
   232 00:C3CB: 19                ROR
   233 00:C3CC: 19                ROR
   234 00:C3CD: 19                ROR
   235 00:C3CE: 19                ROR
   236 00:C3CF: 19                ROR
   237 00:C3D0: 10 08             BCC     L_Display_Prog_Under_Time_Mode_5_RTS
   238 00:C3D2: 15 7B C8          JSR     L_Display_lcd_Alarm_Clock_Prog_5
   239 00:C3D5: 53 04             LDA     #4
   240 00:C3D7: 15 39 C3          JSR     L_Display_Alarm_Clock_State_Prog_Usually
   241                        L_Display_Prog_Under_Time_Mode_5_RTS:
   242                            RTS
   242 00:C3DA: 09            
   179                        .INCLUDE	Display\Display_Timer.asm
     1                        L_Display_Timer_Prog:
     2 00:C3DB: 15 45 C8          JSR     L_Display_Col_Timer_Prog
     3 00:C3DE: 15 4B C8          JSR     L_Display_Timer_Symbol_Prog
     4 00:C3E1: 15 EB C3          JSR     L_Display_Timer_Min_Prog
     5 00:C3E4: 15 01 C4          JSR     L_Display_Timer_Sec_Prog
     6 00:C3E7: 15 17 C4          JSR     L_Display_Timer_TurnPlate_Prog
     7 00:C3EA: 09                RTS
     8                        
     9                        
    10                        
    11                        
    12                        L_Display_Timer_Min_Prog:
    13 00:C3EB: 73 BD             LDA     R_Timer_Min
    14 00:C3ED: 51 F0             AND     #F0H
    15 00:C3EF: 15 CB C9          JSR		L_ROR_4Bit_Prog
    16 00:C3F2: 5E 54             LDX     #lcd_d18
    17 00:C3F4: 15 68 C9          JSR     L_Dis_8Bit_DigitDot_Prog
    18 00:C3F7: 73 BD             LDA     R_Timer_Min
    19 00:C3F9: 51 0F             AND     #0FH
    20                        
    21 00:C3FB: 5E 5B             LDX     #lcd_d19
    22 00:C3FD: 15 68 C9          JSR     L_Dis_8Bit_DigitDot_Prog
    23 00:C400: 09                RTS
    24                        L_Display_Timer_Sec_Prog:
    25 00:C401: 73 BC             LDA     R_Timer_Sec
    26 00:C403: 51 F0             AND     #F0H
    27 00:C405: 15 CB C9          JSR		L_ROR_4Bit_Prog
    28 00:C408: 5E 62             LDX     #lcd_d20
    29 00:C40A: 15 68 C9          JSR     L_Dis_8Bit_DigitDot_Prog
    30 00:C40D: 73 BC             LDA     R_Timer_Sec
    31 00:C40F: 51 0F             AND     #0FH
    32 00:C411: 5E 69             LDX     #lcd_d21
    33 00:C413: 15 68 C9          JSR     L_Dis_8Bit_DigitDot_Prog
    34 00:C416: 09                RTS
    35                        
    36                        
    37                        
    38                        
    39                        
    40                        
    41                        
    42                        
    43                        
    44                        L_Display_Timer_TurnPlate_Prog:
    45 00:C417: 15 B0 C6          JSR     L_Display_S60_Prog
    46 00:C41A: 04                CLC
    47 00:C41B: 06                ClD
    48 00:C41C: 73 BD             LDA     R_Timer_Min
    49 00:C41E: 18                ROL
    50 00:C41F: 1B                TAX
    51 00:C420: 63 2A C4          LDA     Table_TurnPlate_Display+1,X
    52 00:C423: 0A                PHA
    53 00:C424: 63 29 C4          LDA     Table_TurnPlate_Display,X
    54 00:C427: 0A                PHA
    55 00:C428: 09                RTS
    56                         Table_TurnPlate_Display:
    57 00:C429: 83 C5             DW      L_Display_S0_Prog-1
    58 00:C42B: 88 C5             DW      L_Display_S1_Prog-1
    59 00:C42D: 8D C5             DW      L_Display_S2_Prog-1
    60 00:C42F: 92 C5             DW      L_Display_S3_Prog-1
    61 00:C431: 97 C5             DW      L_Display_S4_Prog-1
    62 00:C433: 9C C5             DW      L_Display_S5_Prog-1
    63 00:C435: A1 C5             DW      L_Display_S6_Prog-1
    64 00:C437: A6 C5             DW      L_Display_S7_Prog-1
    65 00:C439: AB C5             DW      L_Display_S8_Prog-1
    66 00:C43B: B0 C5             DW      L_Display_S9_Prog-1
    67 00:C43D: B5 C5             DW      L_Display_S10_Prog-1
    68 00:C43F: BA C5             DW      L_Display_S11_Prog-1
    69 00:C441: BF C5             DW      L_Display_S12_Prog-1
    70 00:C443: C4 C5             DW      L_Display_S13_Prog-1
    71 00:C445: C9 C5             DW      L_Display_S14_Prog-1
    72 00:C447: CE C5             DW      L_Display_S15_Prog-1
    73 00:C449: D3 C5             DW      L_Display_S16_Prog-1
    74 00:C44B: D8 C5             DW      L_Display_S17_Prog-1
    75 00:C44D: DD C5             DW      L_Display_S18_Prog-1
    76 00:C44F: E2 C5             DW      L_Display_S19_Prog-1
    77 00:C451: E7 C5             DW      L_Display_S20_Prog-1
    78 00:C453: EC C5             DW      L_Display_S21_Prog-1
    79 00:C455: F1 C5             DW      L_Display_S22_Prog-1
    80 00:C457: F6 C5             DW      L_Display_S23_Prog-1
    81 00:C459: FB C5             DW      L_Display_S24_Prog-1
    82 00:C45B: 00 C6             DW      L_Display_S25_Prog-1
    83 00:C45D: 05 C6             DW      L_Display_S26_Prog-1
    84 00:C45F: 0A C6             DW      L_Display_S27_Prog-1
    85 00:C461: 0F C6             DW      L_Display_S28_Prog-1
    86 00:C463: 14 C6             DW      L_Display_S29_Prog-1
    87 00:C465: 19 C6             DW      L_Display_S30_Prog-1
    88 00:C467: 1E C6             DW      L_Display_S31_Prog-1
    89 00:C469: 23 C6             DW      L_Display_S32_Prog-1
    90 00:C46B: 28 C6             DW      L_Display_S33_Prog-1
    91 00:C46D: 2D C6             DW      L_Display_S34_Prog-1
    92 00:C46F: 32 C6             DW      L_Display_S35_Prog-1
    93 00:C471: 37 C6             DW      L_Display_S36_Prog-1
    94 00:C473: 3C C6             DW      L_Display_S37_Prog-1
    95 00:C475: 41 C6             DW      L_Display_S38_Prog-1
    96 00:C477: 46 C6             DW      L_Display_S39_Prog-1
    97 00:C479: 4B C6             DW      L_Display_S40_Prog-1
    98 00:C47B: 50 C6             DW      L_Display_S41_Prog-1
    99 00:C47D: 55 C6             DW      L_Display_S42_Prog-1
   100 00:C47F: 5A C6             DW      L_Display_S43_Prog-1
   101 00:C481: 5F C6             DW      L_Display_S44_Prog-1
   102 00:C483: 64 C6             DW      L_Display_S45_Prog-1
   103 00:C485: 69 C6             DW      L_Display_S46_Prog-1
   104 00:C487: 6E C6             DW      L_Display_S47_Prog-1
   105 00:C489: 73 C6             DW      L_Display_S48_Prog-1
   106 00:C48B: 78 C6             DW      L_Display_S49_Prog-1
   107 00:C48D: 7D C6             DW      L_Display_S50_Prog-1
   108 00:C48F: 82 C6             DW      L_Display_S51_Prog-1
   109 00:C491: 87 C6             DW      L_Display_S52_Prog-1
   110 00:C493: 8C C6             DW      L_Display_S53_Prog-1
   111 00:C495: 91 C6             DW      L_Display_S54_Prog-1
   112 00:C497: 96 C6             DW      L_Display_S55_Prog-1
   113 00:C499: 9B C6             DW      L_Display_S56_Prog-1
   114 00:C49B: A0 C6             DW      L_Display_S57_Prog-1
   115 00:C49D: A5 C6             DW      L_Display_S58_Prog-1
   116 00:C49F: AA C6             DW      L_Display_S59_Prog-1
   117 00:C4A1: AF C6             DW      L_Display_S60_Prog-1
   118                        ;===========================================================
   119                        L_Clr_Timer_TurnPlate_Prog:
   120                        
   121 00:C4A3: 73 BD             LDA     R_Timer_Min
   122 00:C4A5: 12 03             BNE     L_Clr_Timer_TurnPlate_Prog_1
   123 00:C4A7: 15 E1 C7          JSR     L_Clr_S60_Prog
   124                        L_Clr_Timer_TurnPlate_Prog_1:
   125                        
   126 00:C4AA: 04                CLC
   127 00:C4AB: 06                CLD
   128 00:C4AC: 73 BD             LDA     R_Timer_Min
   129 00:C4AE: 18                ROL
   130 00:C4AF: 1B                TAX
   131 00:C4B0: 63 BA C4          LDA     Table_TurnPlate_Clr+1,X
   132 00:C4B3: 0A                PHA
   133 00:C4B4: 63 B9 C4          LDA     Table_TurnPlate_Clr,X
   134 00:C4B7: 0A                PHA
   135 00:C4B8: 09                RTS
   136                        Table_TurnPlate_Clr:
   137 00:C4B9: B4 C6             DW      L_Clr_S0_Prog-1
   138 00:C4BB: B9 C6             DW      L_Clr_S1_Prog-1
   139 00:C4BD: BE C6             DW      L_Clr_S2_Prog-1
   140 00:C4BF: C3 C6             DW      L_Clr_S3_Prog-1
   141 00:C4C1: C8 C6             DW      L_Clr_S4_Prog-1
   142 00:C4C3: CD C6             DW      L_Clr_S5_Prog-1
   143 00:C4C5: D2 C6             DW      L_Clr_S6_Prog-1
   144 00:C4C7: D7 C6             DW      L_Clr_S7_Prog-1
   145 00:C4C9: DC C6             DW      L_Clr_S8_Prog-1
   146 00:C4CB: E1 C6             DW      L_Clr_S9_Prog-1
   147 00:C4CD: E6 C6             DW      L_Clr_S10_Prog-1
   148 00:C4CF: EB C6             DW      L_Clr_S11_Prog-1
   149 00:C4D1: F0 C6             DW      L_Clr_S12_Prog-1
   150 00:C4D3: F5 C6             DW      L_Clr_S13_Prog-1
   151 00:C4D5: FA C6             DW      L_Clr_S14_Prog-1
   152 00:C4D7: FF C6             DW      L_Clr_S15_Prog-1
   153 00:C4D9: 04 C7             DW      L_Clr_S16_Prog-1
   154 00:C4DB: 09 C7             DW      L_Clr_S17_Prog-1
   155 00:C4DD: 0E C7             DW      L_Clr_S18_Prog-1
   156 00:C4DF: 13 C7             DW      L_Clr_S19_Prog-1
   157 00:C4E1: 18 C7             DW      L_Clr_S20_Prog-1
   158 00:C4E3: 1D C7             DW      L_Clr_S21_Prog-1
   159 00:C4E5: 22 C7             DW      L_Clr_S22_Prog-1
   160 00:C4E7: 27 C7             DW      L_Clr_S23_Prog-1
   161 00:C4E9: 2C C7             DW      L_Clr_S24_Prog-1
   162 00:C4EB: 31 C7             DW      L_Clr_S25_Prog-1
   163 00:C4ED: 36 C7             DW      L_Clr_S26_Prog-1
   164 00:C4EF: 3B C7             DW      L_Clr_S27_Prog-1
   165 00:C4F1: 40 C7             DW      L_Clr_S28_Prog-1
   166 00:C4F3: 45 C7             DW      L_Clr_S29_Prog-1
   167 00:C4F5: 4A C7             DW      L_Clr_S30_Prog-1
   168 00:C4F7: 4F C7             DW      L_Clr_S31_Prog-1
   169 00:C4F9: 54 C7             DW      L_Clr_S32_Prog-1
   170 00:C4FB: 59 C7             DW      L_Clr_S33_Prog-1
   171 00:C4FD: 5E C7             DW      L_Clr_S34_Prog-1
   172 00:C4FF: 63 C7             DW      L_Clr_S35_Prog-1
   173 00:C501: 68 C7             DW      L_Clr_S36_Prog-1
   174 00:C503: 6D C7             DW      L_Clr_S37_Prog-1
   175 00:C505: 72 C7             DW      L_Clr_S38_Prog-1
   176 00:C507: 77 C7             DW      L_Clr_S39_Prog-1
   177 00:C509: 7C C7             DW      L_Clr_S40_Prog-1
   178 00:C50B: 81 C7             DW      L_Clr_S41_Prog-1
   179 00:C50D: 86 C7             DW      L_Clr_S42_Prog-1
   180 00:C50F: 8B C7             DW      L_Clr_S43_Prog-1
   181 00:C511: 90 C7             DW      L_Clr_S44_Prog-1
   182 00:C513: 95 C7             DW      L_Clr_S45_Prog-1
   183 00:C515: 9A C7             DW      L_Clr_S46_Prog-1
   184 00:C517: 9F C7             DW      L_Clr_S47_Prog-1
   185 00:C519: A4 C7             DW      L_Clr_S48_Prog-1
   186 00:C51B: A9 C7             DW      L_Clr_S49_Prog-1
   187 00:C51D: AE C7             DW      L_Clr_S50_Prog-1
   188 00:C51F: B3 C7             DW      L_Clr_S51_Prog-1
   189 00:C521: B8 C7             DW      L_Clr_S52_Prog-1
   190 00:C523: BD C7             DW      L_Clr_S53_Prog-1
   191 00:C525: C2 C7             DW      L_Clr_S54_Prog-1
   192 00:C527: C7 C7             DW      L_Clr_S55_Prog-1
   193 00:C529: CC C7             DW      L_Clr_S56_Prog-1
   194 00:C52B: D1 C7             DW      L_Clr_S57_Prog-1
   195 00:C52D: D6 C7             DW      L_Clr_S58_Prog-1
   196 00:C52F: DB C7             DW      L_Clr_S59_Prog-1
   197 00:C531: E0 C7             DW      L_Clr_S60_Prog-1
   198                        ?R_RTS:
   199 00:C533: 09                RTS
   200                        
   201                        ; L_Display_Timer_TurnPlate_Prog:
   202                        ;     LDA     R_Timer_Min_Backup
   203                        ;     BEQ     ?R_RTS
   204                        ;     JSR     L_Display_S60_Prog
   205                        ;     JSR
   205                        
   180                        .INCLUDE	Display\Display_Timer_Symbol.asm
     1                        
     2                        L_Clr_All_TurnPlate_Prog:
     3 00:C534: 53 00             LDA     #0
     4 00:C536: 7F D7             STA     P_Temp
     5 00:C538: 15 E1 C7          JSR     L_Clr_S60_Prog
     6                        L_Clr_All_TurnPlate_Prog_Loop:
     7 00:C53B: 73 D7             LDA     P_Temp
     8 00:C53D: 56 3C             CMP     #60
     9 00:C53F: 11 15             BCS     L_Display_TurnPlate_Prog_Timer_Backup_RTS
    10 00:C541: 15 48 C5          JSR     L_Clr_All_TurnPlate_Prog_1
    11 00:C544: 78 D7             INC     P_Temp
    12 00:C546: 17 F3             BRA     L_Clr_All_TurnPlate_Prog_Loop
    13                        L_Clr_All_TurnPlate_Prog_1:
    14 00:C548: 73 D7             LDA     P_Temp
    15 00:C54A: 04                CLC
    16 00:C54B: 06                CLD
    17 00:C54C: 18                ROL
    18 00:C54D: 1B                TAX
    19 00:C54E: 63 BA C4          LDA     Table_TurnPlate_Clr+1,X
    20 00:C551: 0A                PHA
    21 00:C552: 63 B9 C4          LDA     Table_TurnPlate_Clr,X
    22 00:C555: 0A                PHA
    23                        L_Display_TurnPlate_Prog_Timer_Backup_RTS:
    24 00:C556: 09                RTS
    25                        ;-----------------------------------------
    26                        L_Display_TurnPlate_Prog_Timer_Backup:
    27 00:C557: 53 00             LDA     #0
    28 00:C559: 7F D7             STA     P_Temp
    29 00:C55B: 73 BE             LDA     R_Timer_Min_Backup
    30 00:C55D: 13 F7             BEQ     L_Display_TurnPlate_Prog_Timer_Backup_RTS
    31 00:C55F: 15 0D C9          JSR     L_DToHx_Prog
    32 00:C562: 03                INC
    33 00:C563: 7F D8             STA     P_Temp+1
    34 00:C565: 15 B0 C6          JSR     L_Display_S60_Prog
    35                        
    36                        L_Display_TurnPlate_Prog_Timer_Backup_Loop:
    37 00:C568: 73 D7             LDA     P_Temp
    38 00:C56A: 76 D8             CMP     P_Temp+1
    39 00:C56C: 11 E8             BCS     L_Display_TurnPlate_Prog_Timer_Backup_RTS
    40 00:C56E: 15 75 C5          JSR     L_Display_TurnPlate_Prog_Timer_Backup_1
    41 00:C571: 78 D7             INC     P_Temp
    42 00:C573: 17 F3             BRA     L_Display_TurnPlate_Prog_Timer_Backup_Loop
    43                        
    44                        
    45                        
    46                        L_Display_TurnPlate_Prog_Timer_Backup_1:
    47 00:C575: 04                CLC
    48 00:C576: 06                ClD
    49 00:C577: 73 D7             LDA     P_Temp
    50 00:C579: 18                ROL
    51 00:C57A: 1B                TAX
    52 00:C57B: 63 2A C4          LDA     Table_TurnPlate_Display+1,X
    53 00:C57E: 0A                PHA
    54 00:C57F: 63 29 C4          LDA     Table_TurnPlate_Display,X
    55 00:C582: 0A                PHA
    56 00:C583: 09                RTS
    57                        
    58                        
    59                        
    60                        
    61                        
    62                        
    63                        ;================================================
    64                        L_Display_S0_Prog:
    65 00:C584: 5E 70             LDX     #lcd_S0
    66 00:C586: 16 AC C9          JMP     F_DispSymbol
    67                        L_Display_S1_Prog:
    68 00:C589: 5E 71             LDX     #lcd_S1
    69 00:C58B: 16 AC C9          JMP     F_DispSymbol
    70                        L_Display_S2_Prog:
    71 00:C58E: 5E 72             LDX     #lcd_S2
    72 00:C590: 16 AC C9          JMP     F_DispSymbol
    73                        L_Display_S3_Prog:
    74 00:C593: 5E 73             LDX     #lcd_S3
    75 00:C595: 16 AC C9          JMP     F_DispSymbol
    76                        L_Display_S4_Prog:
    77 00:C598: 5E 74             LDX     #lcd_S4
    78 00:C59A: 16 AC C9          JMP     F_DispSymbol
    79                        L_Display_S5_Prog:
    80 00:C59D: 5E 75             LDX     #lcd_S5
    81 00:C59F: 16 AC C9          JMP     F_DispSymbol
    82                        L_Display_S6_Prog:
    83 00:C5A2: 5E 76             LDX     #lcd_S6
    84 00:C5A4: 16 AC C9          JMP     F_DispSymbol
    85                        L_Display_S7_Prog:
    86 00:C5A7: 5E 77             LDX     #lcd_S7
    87 00:C5A9: 16 AC C9          JMP     F_DispSymbol
    88                        L_Display_S8_Prog:
    89 00:C5AC: 5E 78             LDX     #lcd_S8
    90 00:C5AE: 16 AC C9          JMP     F_DispSymbol
    91                        L_Display_S9_Prog:
    92 00:C5B1: 5E 79             LDX     #lcd_S9
    93 00:C5B3: 16 AC C9          JMP     F_DispSymbol
    94                        L_Display_S10_Prog:
    95 00:C5B6: 5E 7A             LDX     #lcd_S10
    96 00:C5B8: 16 AC C9          JMP     F_DispSymbol
    97                        L_Display_S11_Prog:
    98 00:C5BB: 5E 7B             LDX     #lcd_S11
    99 00:C5BD: 16 AC C9          JMP     F_DispSymbol
   100                        L_Display_S12_Prog:
   101 00:C5C0: 5E 7C             LDX     #lcd_S12
   102 00:C5C2: 16 AC C9          JMP     F_DispSymbol
   103                        L_Display_S13_Prog:
   104 00:C5C5: 5E 7D             LDX     #lcd_S13
   105 00:C5C7: 16 AC C9          JMP     F_DispSymbol
   106                        L_Display_S14_Prog:
   107 00:C5CA: 5E 7E             LDX     #lcd_S14
   108 00:C5CC: 16 AC C9          JMP     F_DispSymbol
   109                        L_Display_S15_Prog:
   110 00:C5CF: 5E 7F             LDX     #lcd_S15
   111 00:C5D1: 16 AC C9          JMP     F_DispSymbol
   112                        L_Display_S16_Prog:
   113 00:C5D4: 5E 80             LDX     #lcd_S16
   114 00:C5D6: 16 AC C9          JMP     F_DispSymbol
   115                        L_Display_S17_Prog:
   116 00:C5D9: 5E 81             LDX     #lcd_S17
   117 00:C5DB: 16 AC C9          JMP     F_DispSymbol
   118                        L_Display_S18_Prog:
   119 00:C5DE: 5E 82             LDX     #lcd_S18
   120 00:C5E0: 16 AC C9          JMP     F_DispSymbol
   121                        L_Display_S19_Prog:
   122 00:C5E3: 5E 83             LDX     #lcd_S19
   123 00:C5E5: 16 AC C9          JMP     F_DispSymbol
   124                        L_Display_S20_Prog:
   125 00:C5E8: 5E 84             LDX     #lcd_S20
   126 00:C5EA: 16 AC C9          JMP     F_DispSymbol
   127                        L_Display_S21_Prog:
   128 00:C5ED: 5E 85             LDX     #lcd_S21
   129 00:C5EF: 16 AC C9          JMP     F_DispSymbol
   130                        L_Display_S22_Prog:
   131 00:C5F2: 5E 86             LDX     #lcd_S22
   132 00:C5F4: 16 AC C9          JMP     F_DispSymbol
   133                        L_Display_S23_Prog:
   134 00:C5F7: 5E 87             LDX     #lcd_S23
   135 00:C5F9: 16 AC C9          JMP     F_DispSymbol
   136                        L_Display_S24_Prog:
   137 00:C5FC: 5E 88             LDX     #lcd_S24
   138 00:C5FE: 16 AC C9          JMP     F_DispSymbol
   139                        L_Display_S25_Prog:
   140 00:C601: 5E 89             LDX     #lcd_S25
   141 00:C603: 16 AC C9          JMP     F_DispSymbol
   142                        L_Display_S26_Prog:
   143 00:C606: 5E 8A             LDX     #lcd_S26
   144 00:C608: 16 AC C9          JMP     F_DispSymbol
   145                        L_Display_S27_Prog:
   146 00:C60B: 5E 8B             LDX     #lcd_S27
   147 00:C60D: 16 AC C9          JMP     F_DispSymbol
   148                        L_Display_S28_Prog:
   149 00:C610: 5E 8C             LDX     #lcd_S28
   150 00:C612: 16 AC C9          JMP     F_DispSymbol
   151                        L_Display_S29_Prog:
   152 00:C615: 5E 8D             LDX     #lcd_S29
   153 00:C617: 16 AC C9          JMP     F_DispSymbol
   154                        L_Display_S30_Prog:
   155 00:C61A: 5E 8E             LDX     #lcd_S30
   156 00:C61C: 16 AC C9          JMP     F_DispSymbol
   157                        L_Display_S31_Prog:
   158 00:C61F: 5E 8F             LDX     #lcd_S31
   159 00:C621: 16 AC C9          JMP     F_DispSymbol
   160                        L_Display_S32_Prog:
   161 00:C624: 5E 90             LDX     #lcd_S32
   162 00:C626: 16 AC C9          JMP     F_DispSymbol
   163                        L_Display_S33_Prog:
   164 00:C629: 5E 91             LDX     #lcd_S33
   165 00:C62B: 16 AC C9          JMP     F_DispSymbol
   166                        L_Display_S34_Prog:
   167 00:C62E: 5E 92             LDX     #lcd_S34
   168 00:C630: 16 AC C9          JMP     F_DispSymbol
   169                        L_Display_S35_Prog:
   170 00:C633: 5E 93             LDX     #lcd_S35
   171 00:C635: 16 AC C9          JMP     F_DispSymbol
   172                        L_Display_S36_Prog:
   173 00:C638: 5E 94             LDX     #lcd_S36
   174 00:C63A: 16 AC C9          JMP     F_DispSymbol
   175                        L_Display_S37_Prog:
   176 00:C63D: 5E 95             LDX     #lcd_S37
   177 00:C63F: 16 AC C9          JMP     F_DispSymbol
   178                        L_Display_S38_Prog:
   179 00:C642: 5E 96             LDX     #lcd_S38
   180 00:C644: 16 AC C9          JMP     F_DispSymbol
   181                        L_Display_S39_Prog:
   182 00:C647: 5E 97             LDX     #lcd_S39
   183 00:C649: 16 AC C9          JMP     F_DispSymbol
   184                        L_Display_S40_Prog:
   185 00:C64C: 5E 98             LDX     #lcd_S40
   186 00:C64E: 16 AC C9          JMP     F_DispSymbol
   187                        L_Display_S41_Prog:
   188 00:C651: 5E 99             LDX     #lcd_S41
   189 00:C653: 16 AC C9          JMP     F_DispSymbol
   190                        L_Display_S42_Prog:
   191 00:C656: 5E 9A             LDX     #lcd_S42
   192 00:C658: 16 AC C9          JMP     F_DispSymbol
   193                        L_Display_S43_Prog:
   194 00:C65B: 5E 9B             LDX     #lcd_S43
   195 00:C65D: 16 AC C9          JMP     F_DispSymbol
   196                        L_Display_S44_Prog:
   197 00:C660: 5E 9C             LDX     #lcd_S44
   198 00:C662: 16 AC C9          JMP     F_DispSymbol
   199                        L_Display_S45_Prog:
   200 00:C665: 5E 9D             LDX     #lcd_S45
   201 00:C667: 16 AC C9          JMP     F_DispSymbol
   202                        L_Display_S46_Prog:
   203 00:C66A: 5E 9E             LDX     #lcd_S46
   204 00:C66C: 16 AC C9          JMP     F_DispSymbol
   205                        L_Display_S47_Prog:
   206 00:C66F: 5E 9F             LDX     #lcd_S47
   207 00:C671: 16 AC C9          JMP     F_DispSymbol
   208                        L_Display_S48_Prog:
   209 00:C674: 5E A0             LDX     #lcd_S48
   210 00:C676: 16 AC C9          JMP     F_DispSymbol
   211                        L_Display_S49_Prog:
   212 00:C679: 5E A1             LDX     #lcd_S49
   213 00:C67B: 16 AC C9          JMP     F_DispSymbol
   214                        L_Display_S50_Prog:
   215 00:C67E: 5E A2             LDX     #lcd_S50
   216 00:C680: 16 AC C9          JMP     F_DispSymbol
   217                        L_Display_S51_Prog:
   218 00:C683: 5E A3             LDX     #lcd_S51
   219 00:C685: 16 AC C9          JMP     F_DispSymbol
   220                        L_Display_S52_Prog:
   221 00:C688: 5E A4             LDX     #lcd_S52
   222 00:C68A: 16 AC C9          JMP     F_DispSymbol
   223                        L_Display_S53_Prog:
   224 00:C68D: 5E A5             LDX     #lcd_S53
   225 00:C68F: 16 AC C9          JMP     F_DispSymbol
   226                        L_Display_S54_Prog:
   227 00:C692: 5E A6             LDX     #lcd_S54
   228 00:C694: 16 AC C9          JMP     F_DispSymbol
   229                        L_Display_S55_Prog:
   230 00:C697: 5E A7             LDX     #lcd_S55
   231 00:C699: 16 AC C9          JMP     F_DispSymbol
   232                        L_Display_S56_Prog:
   233 00:C69C: 5E A8             LDX     #lcd_S56
   234 00:C69E: 16 AC C9          JMP     F_DispSymbol
   235                        L_Display_S57_Prog:
   236 00:C6A1: 5E A9             LDX     #lcd_S57
   237 00:C6A3: 16 AC C9          JMP     F_DispSymbol
   238                        L_Display_S58_Prog:
   239 00:C6A6: 5E AA             LDX     #lcd_S58
   240 00:C6A8: 16 AC C9          JMP     F_DispSymbol
   241                        L_Display_S59_Prog:
   242 00:C6AB: 5E AB             LDX     #lcd_S59
   243 00:C6AD: 16 AC C9          JMP     F_DispSymbol
   244                        L_Display_S60_Prog:
   245 00:C6B0: 5E AC             LDX     #lcd_S60
   246 00:C6B2: 16 AC C9          JMP     F_DispSymbol
   247                        ;=============================================
   248                        L_Clr_S0_Prog:
   249 00:C6B5: 5E 70             LDX     #lcd_S0
   250 00:C6B7: 16 B3 C9          JMP     F_ClrpSymbol
   251                        L_Clr_S1_Prog:
   252 00:C6BA: 5E 71             LDX     #lcd_S1
   253 00:C6BC: 16 B3 C9          JMP     F_ClrpSymbol
   254                        L_Clr_S2_Prog:
   255 00:C6BF: 5E 72             LDX     #lcd_S2
   256 00:C6C1: 16 B3 C9          JMP     F_ClrpSymbol
   257                        L_Clr_S3_Prog:
   258 00:C6C4: 5E 73             LDX     #lcd_S3
   259 00:C6C6: 16 B3 C9          JMP     F_ClrpSymbol
   260                        L_Clr_S4_Prog:
   261 00:C6C9: 5E 74             LDX     #lcd_S4
   262 00:C6CB: 16 B3 C9          JMP     F_ClrpSymbol
   263                        L_Clr_S5_Prog:
   264 00:C6CE: 5E 75             LDX     #lcd_S5
   265 00:C6D0: 16 B3 C9          JMP     F_ClrpSymbol
   266                        L_Clr_S6_Prog:
   267 00:C6D3: 5E 76             LDX     #lcd_S6
   268 00:C6D5: 16 B3 C9          JMP     F_ClrpSymbol
   269                        L_Clr_S7_Prog:
   270 00:C6D8: 5E 77             LDX     #lcd_S7
   271 00:C6DA: 16 B3 C9          JMP     F_ClrpSymbol
   272                        L_Clr_S8_Prog:
   273 00:C6DD: 5E 78             LDX     #lcd_S8
   274 00:C6DF: 16 B3 C9          JMP     F_ClrpSymbol
   275                        L_Clr_S9_Prog:
   276 00:C6E2: 5E 79             LDX     #lcd_S9
   277 00:C6E4: 16 B3 C9          JMP     F_ClrpSymbol
   278                        L_Clr_S10_Prog:
   279 00:C6E7: 5E 7A             LDX     #lcd_S10
   280 00:C6E9: 16 B3 C9          JMP     F_ClrpSymbol
   281                        L_Clr_S11_Prog:
   282 00:C6EC: 5E 7B             LDX     #lcd_S11
   283 00:C6EE: 16 B3 C9          JMP     F_ClrpSymbol
   284                        L_Clr_S12_Prog:
   285 00:C6F1: 5E 7C             LDX     #lcd_S12
   286 00:C6F3: 16 B3 C9          JMP     F_ClrpSymbol
   287                        L_Clr_S13_Prog:
   288 00:C6F6: 5E 7D             LDX     #lcd_S13
   289 00:C6F8: 16 B3 C9          JMP     F_ClrpSymbol
   290                        L_Clr_S14_Prog:
   291 00:C6FB: 5E 7E             LDX     #lcd_S14
   292 00:C6FD: 16 B3 C9          JMP     F_ClrpSymbol
   293                        L_Clr_S15_Prog:
   294 00:C700: 5E 7F             LDX     #lcd_S15
   295 00:C702: 16 B3 C9          JMP     F_ClrpSymbol
   296                        L_Clr_S16_Prog:
   297 00:C705: 5E 80             LDX     #lcd_S16
   298 00:C707: 16 B3 C9          JMP     F_ClrpSymbol
   299                        L_Clr_S17_Prog:
   300 00:C70A: 5E 81             LDX     #lcd_S17
   301 00:C70C: 16 B3 C9          JMP     F_ClrpSymbol
   302                        L_Clr_S18_Prog:
   303 00:C70F: 5E 82             LDX     #lcd_S18
   304 00:C711: 16 B3 C9          JMP     F_ClrpSymbol
   305                        L_Clr_S19_Prog:
   306 00:C714: 5E 83             LDX     #lcd_S19
   307 00:C716: 16 B3 C9          JMP     F_ClrpSymbol
   308                        L_Clr_S20_Prog:
   309 00:C719: 5E 84             LDX     #lcd_S20
   310 00:C71B: 16 B3 C9          JMP     F_ClrpSymbol
   311                        L_Clr_S21_Prog:
   312 00:C71E: 5E 85             LDX     #lcd_S21
   313 00:C720: 16 B3 C9          JMP     F_ClrpSymbol
   314                        L_Clr_S22_Prog:
   315 00:C723: 5E 86             LDX     #lcd_S22
   316 00:C725: 16 B3 C9          JMP     F_ClrpSymbol
   317                        L_Clr_S23_Prog:
   318 00:C728: 5E 87             LDX     #lcd_S23
   319 00:C72A: 16 B3 C9          JMP     F_ClrpSymbol
   320                        L_Clr_S24_Prog:
   321 00:C72D: 5E 88             LDX     #lcd_S24
   322 00:C72F: 16 B3 C9          JMP     F_ClrpSymbol
   323                        L_Clr_S25_Prog:
   324 00:C732: 5E 89             LDX     #lcd_S25
   325 00:C734: 16 B3 C9          JMP     F_ClrpSymbol
   326                        L_Clr_S26_Prog:
   327 00:C737: 5E 8A             LDX     #lcd_S26
   328 00:C739: 16 B3 C9          JMP     F_ClrpSymbol
   329                        L_Clr_S27_Prog:
   330 00:C73C: 5E 8B             LDX     #lcd_S27
   331 00:C73E: 16 B3 C9          JMP     F_ClrpSymbol
   332                        L_Clr_S28_Prog:
   333 00:C741: 5E 8C             LDX     #lcd_S28
   334 00:C743: 16 B3 C9          JMP     F_ClrpSymbol
   335                        L_Clr_S29_Prog:
   336 00:C746: 5E 8D             LDX     #lcd_S29
   337 00:C748: 16 B3 C9          JMP     F_ClrpSymbol
   338                        L_Clr_S30_Prog:
   339 00:C74B: 5E 8E             LDX     #lcd_S30
   340 00:C74D: 16 B3 C9          JMP     F_ClrpSymbol
   341                        L_Clr_S31_Prog:
   342 00:C750: 5E 8F             LDX     #lcd_S31
   343 00:C752: 16 B3 C9          JMP     F_ClrpSymbol
   344                        L_Clr_S32_Prog:
   345 00:C755: 5E 90             LDX     #lcd_S32
   346 00:C757: 16 B3 C9          JMP     F_ClrpSymbol
   347                        L_Clr_S33_Prog:
   348 00:C75A: 5E 91             LDX     #lcd_S33
   349 00:C75C: 16 B3 C9          JMP     F_ClrpSymbol
   350                        L_Clr_S34_Prog:
   351 00:C75F: 5E 92             LDX     #lcd_S34
   352 00:C761: 16 B3 C9          JMP     F_ClrpSymbol
   353                        L_Clr_S35_Prog:
   354 00:C764: 5E 93             LDX     #lcd_S35
   355 00:C766: 16 B3 C9          JMP     F_ClrpSymbol
   356                        L_Clr_S36_Prog:
   357 00:C769: 5E 94             LDX     #lcd_S36
   358 00:C76B: 16 B3 C9          JMP     F_ClrpSymbol
   359                        L_Clr_S37_Prog:
   360 00:C76E: 5E 95             LDX     #lcd_S37
   361 00:C770: 16 B3 C9          JMP     F_ClrpSymbol
   362                        L_Clr_S38_Prog:
   363 00:C773: 5E 96             LDX     #lcd_S38
   364 00:C775: 16 B3 C9          JMP     F_ClrpSymbol
   365                        L_Clr_S39_Prog:
   366 00:C778: 5E 97             LDX     #lcd_S39
   367 00:C77A: 16 B3 C9          JMP     F_ClrpSymbol
   368                        L_Clr_S40_Prog:
   369 00:C77D: 5E 98             LDX     #lcd_S40
   370 00:C77F: 16 B3 C9          JMP     F_ClrpSymbol
   371                        L_Clr_S41_Prog:
   372 00:C782: 5E 99             LDX     #lcd_S41
   373 00:C784: 16 B3 C9          JMP     F_ClrpSymbol
   374                        L_Clr_S42_Prog:
   375 00:C787: 5E 9A             LDX     #lcd_S42
   376 00:C789: 16 B3 C9          JMP     F_ClrpSymbol
   377                        L_Clr_S43_Prog:
   378 00:C78C: 5E 9B             LDX     #lcd_S43
   379 00:C78E: 16 B3 C9          JMP     F_ClrpSymbol
   380                        L_Clr_S44_Prog:
   381 00:C791: 5E 9C             LDX     #lcd_S44
   382 00:C793: 16 B3 C9          JMP     F_ClrpSymbol
   383                        L_Clr_S45_Prog:
   384 00:C796: 5E 9D             LDX     #lcd_S45
   385 00:C798: 16 B3 C9          JMP     F_ClrpSymbol
   386                        L_Clr_S46_Prog:
   387 00:C79B: 5E 9E             LDX     #lcd_S46
   388 00:C79D: 16 B3 C9          JMP     F_ClrpSymbol
   389                        L_Clr_S47_Prog:
   390 00:C7A0: 5E 9F             LDX     #lcd_S47
   391 00:C7A2: 16 B3 C9          JMP     F_ClrpSymbol
   392                        L_Clr_S48_Prog:
   393 00:C7A5: 5E A0             LDX     #lcd_S48
   394 00:C7A7: 16 B3 C9          JMP     F_ClrpSymbol
   395                        L_Clr_S49_Prog:
   396 00:C7AA: 5E A1             LDX     #lcd_S49
   397 00:C7AC: 16 B3 C9          JMP     F_ClrpSymbol
   398                        L_Clr_S50_Prog:
   399 00:C7AF: 5E A2             LDX     #lcd_S50
   400 00:C7B1: 16 B3 C9          JMP     F_ClrpSymbol
   401                        L_Clr_S51_Prog:
   402 00:C7B4: 5E A3             LDX     #lcd_S51
   403 00:C7B6: 16 B3 C9          JMP     F_ClrpSymbol
   404                        L_Clr_S52_Prog:
   405 00:C7B9: 5E A4             LDX     #lcd_S52
   406 00:C7BB: 16 B3 C9          JMP     F_ClrpSymbol
   407                        L_Clr_S53_Prog:
   408 00:C7BE: 5E A5             LDX     #lcd_S53
   409 00:C7C0: 16 B3 C9          JMP     F_ClrpSymbol
   410                        L_Clr_S54_Prog:
   411 00:C7C3: 5E A6             LDX     #lcd_S54
   412 00:C7C5: 16 B3 C9          JMP     F_ClrpSymbol
   413                        L_Clr_S55_Prog:
   414 00:C7C8: 5E A7             LDX     #lcd_S55
   415 00:C7CA: 16 B3 C9          JMP     F_ClrpSymbol
   416                        L_Clr_S56_Prog:
   417 00:C7CD: 5E A8             LDX     #lcd_S56
   418 00:C7CF: 16 B3 C9          JMP     F_ClrpSymbol
   419                        L_Clr_S57_Prog:
   420 00:C7D2: 5E A9             LDX     #lcd_S57
   421 00:C7D4: 16 B3 C9          JMP     F_ClrpSymbol
   422                        L_Clr_S58_Prog:
   423 00:C7D7: 5E AA             LDX     #lcd_S58
   424 00:C7D9: 16 B3 C9          JMP     F_ClrpSymbol
   425                        L_Clr_S59_Prog:
   426 00:C7DC: 5E AB             LDX     #lcd_S59
   427 00:C7DE: 16 B3 C9          JMP     F_ClrpSymbol
   428                        L_Clr_S60_Prog:
   429 00:C7E1: 5E AC             LDX     #lcd_S60
   430 00:C7E3: 16 B3 C9          JMP     F_ClrpSymbol
   431                        ;=================================================================
   432                        ; L_Display_S0_Prog:
   433                        ;     SMB0        $83
   434                        ;     RTS
   435                        ; L_Display_S1_Prog:
   436                        ;     SMB5        $9B
   437                        ;     RTS
   438                        ; L_Display_S2_Prog:
   439                        ;     SMB5        $A0
   440                        ;     RTS
   441                        ; L_Display_S3_Prog:
   442                        ;     SMB5        $A5
   443                        ;     RTS
   444                        ; L_Display_S4_Prog:
   445                        ;     SMB4        $A6
   446                        ;     RTS
   447                        ; L_Display_S5_Prog:
   448                        ;     SMB4        $A1
   449                        ;     RTS
   450                        ; L_Display_S6_Prog:
   451                        ;     SMB4        $9C
   452                        ;     RTS
   453                        ; L_Display_S7_Prog:
   454                        ;     SMB4        $97
   455                        ;     RTS
   456                        ; L_Display_S8_Prog:
   457                        ;     SMB4        $92
   458                        ;     RTS
   459                        ; L_Display_S9_Prog:
   460                        ;     SMB4        $8D
   461                        ;     RTS
   462                        ; L_Display_S10_Prog:
   463                        ;     SMB4        $88
   464                        ;     RTS
   465                        ; L_Display_S11_Prog:
   466                        ;     SMB4        $83
   467                        ;     RTS
   468                        ; L_Display_S12_Prog:
   469                        ;     SMB5        $A6
   470                        ;     RTS
   471                        ; L_Display_S13_Prog:
   472                        ;     SMB5        $A1
   473                        ;     RTS
   474                        ; L_Display_S14_Prog:
   475                        ;     SMB5        $9C
   476                        ;     RTS
   477                        ; L_Display_S15_Prog:
   478                        ;     SMB5        $97
   479                        ;     RTS
   480                        ; L_Display_S16_Prog:
   481                        ;     SMB5        $92
   482                        ;     RTS
   483                        ; L_Display_S17_Prog:
   484                        ;     SMB5        $8D
   485                        ;     RTS
   486                        ; L_Display_S18_Prog:
   487                        ;     SMB5        $88
   488                        ;     RTS
   489                        ; L_Display_S19_Prog:
   490                        ;     SMB5        $83
   491                        ;     RTS
   492                        ; L_Display_S20_Prog:
   493                        ;     SMB6        $A6
   494                        ;     RTS
   495                        ; L_Display_S21_Prog:
   496                        ;     SMB6        $A1
   497                        ;     RTS
   498                        ; L_Display_S22_Prog:
   499                        ;     SMB6        $9C
   500                        ;     RTS
   501                        ; L_Display_S23_Prog:
   502                        ;     SMB6        $97
   503                        ;     RTS
   504                        ; L_Display_S24_Prog:
   505                        ;     SMB6        $92
   506                        ;     RTS
   507                        ; L_Display_S25_Prog:
   508                        ;     SMB6        $8D
   509                        ;     RTS
   510                        ; L_Display_S26_Prog:
   511                        ;     SMB6        $88
   512                        ;     RTS
   513                        ; L_Display_S27_Prog:
   514                        ;     SMB6        $83
   515                        ;     RTS
   516                        ; L_Display_S28_Prog:
   517                        ;     SMB7        $83
   518                        ;     RTS
   519                        ; L_Display_S29_Prog:
   520                        ;     SMB7        $88
   521                        ;     RTS
   522                        ; L_Display_S30_Prog:
   523                        ;     SMB7        $8D
   524                        ;     RTS
   525                        ; L_Display_S31_Prog:
   526                        ;     SMB7        $92
   527                        ;     RTS
   528                        ; L_Display_S32_Prog:
   529                        ;     SMB7        $97
   530                        ;     RTS
   531                        ; L_Display_S33_Prog:
   532                        ;     SMB7        $9C
   533                        ;     RTS
   534                        ; L_Display_S34_Prog:
   535                        ;     SMB7        $A1
   536                        ;     RTS
   537                        ; L_Display_S35_Prog:
   538                        ;     SMB7        $A6
   539                        ;     RTS
   540                        ; L_Display_S36_Prog:
   541                        ;     SMB0        $A7
   542                        ;     RTS
   543                        ; L_Display_S37_Prog:
   544                        ;     SMB0        $A2
   545                        ;     RTS
   546                        ; L_Display_S38_Prog:
   547                        ;     SMB0        $9D
   548                        ;     RTS
   549                        ; L_Display_S39_Prog:
   550                        ;     SMB0        $98
   551                        ;     RTS
   552                        ; L_Display_S40_Prog:
   553                        ;     SMB0        $93
   554                        ;     RTS
   555                        ; L_Display_S41_Prog:
   556                        ;     SMB0        $8E
   557                        ;     RTS
   558                        ; L_Display_S42_Prog:
   559                        ;     SMB0        $89
   560                        ;     RTS
   561                        ; L_Display_S43_Prog:
   562                        ;     SMB0        $84
   563                        ;     RTS
   564                        ; L_Display_S44_Prog:
   565                        ;     SMB1        $84
   566                        ;     RTS
   567                        ; L_Display_S45_Prog:
   568                        ;     SMB1        $89
   569                        ;     RTS
   570                        ; L_Display_S46_Prog:
   571                        ;     SMB1        $8E
   572                        ;     RTS
   573                        ; L_Display_S47_Prog:
   574                        ;     SMB1        $93
   575                        ;     RTS
   576                        ; L_Display_S48_Prog:
   577                        ;     SMB1        $98
   578                        ;     RTS
   579                        ; L_Display_S49_Prog:
   580                        ;     SMB1        $9D
   581                        ;     RTS
   582                        ; L_Display_S50_Prog:
   583                        ;     SMB1        $A2
   584                        ;     RTS
   585                        ; L_Display_S51_Prog:
   586                        ;     SMB1        $A7
   587                        ;     RTS
   588                        ; L_Display_S52_Prog:
   589                        ;     SMB2        $A7
   590                        ;     RTS
   591                        ; L_Display_S53_Prog:
   592                        ;     SMB2        $A2
   593                        ;     RTS
   594                        ; L_Display_S54_Prog:
   595                        ;     SMB2        $9D
   596                        ;     RTS
   597                        ; L_Display_S55_Prog:
   598                        ;     SMB2        $98
   599                        ;     RTS
   600                        ; L_Display_S56_Prog:
   601                        ;     SMB2        $93
   602                        ;     RTS
   603                        ; L_Display_S57_Prog:
   604                        ;     SMB2        $8E
   605                        ;     RTS
   606                        ; L_Display_S58_Prog:
   607                        ;     SMB2        $89
   608                        ;     RTS
   609                        ; L_Display_S59_Prog:
   610                        ;     SMB2        $84
   611                        ;     RTS
   612                        ; L_Display_S60_Prog:
   613                        ;     SMB7        $82
   614                        ;     RTS
   615                        ; ;--------------------------------------------
   616                        ; L_Clr_S0_Prog:
   617                        ;     RMB0        $83
   618                        ;     RTS
   619                        ; L_Clr_S1_Prog:
   620                        ;     RMB5        $9B
   621                        ;     RTS
   622                        ; L_Clr_S2_Prog:
   623                        ;     RMB5        $A0
   624                        ;     RTS
   625                        ; L_Clr_S3_Prog:
   626                        ;     RMB5        $A5
   627                        ;     RTS
   628                        ; L_Clr_S4_Prog:
   629                        ;     RMB4        $A6
   630                        ;     RTS
   631                        ; L_Clr_S5_Prog:
   632                        ;     RMB4        $A1
   633                        ;     RTS
   634                        ; L_Clr_S6_Prog:
   635                        ;     RMB4        $9C
   636                        ;     RTS
   637                        ; L_Clr_S7_Prog:
   638                        ;     RMB4        $97
   639                        ;     RTS
   640                        ; L_Clr_S8_Prog:
   641                        ;     RMB4        $92
   642                        ;     RTS
   643                        ; L_Clr_S9_Prog:
   644                        ;     RMB4        $8D
   645                        ;     RTS
   646                        ; L_Clr_S10_Prog:
   647                        ;     RMB4        $88
   648                        ;     RTS
   649                        ; L_Clr_S11_Prog:
   650                        ;     RMB4        $83
   651                        ;     RTS
   652                        ; L_Clr_S12_Prog:
   653                        ;     RMB5        $A6
   654                        ;     RTS
   655                        ; L_Clr_S13_Prog:
   656                        ;     RMB5        $A1
   657                        ;     RTS
   658                        ; L_Clr_S14_Prog:
   659                        ;     RMB5        $9C
   660                        ;     RTS
   661                        ; L_Clr_S15_Prog:
   662                        ;     RMB5        $97
   663                        ;     RTS
   664                        ; L_Clr_S16_Prog:
   665                        ;     RMB5        $92
   666                        ;     RTS
   667                        ; L_Clr_S17_Prog:
   668                        ;     RMB5        $8D
   669                        ;     RTS
   670                        ; L_Clr_S18_Prog:
   671                        ;     RMB5        $88
   672                        ;     RTS
   673                        ; L_Clr_S19_Prog:
   674                        ;     RMB5        $83
   675                        ;     RTS
   676                        ; L_Clr_S20_Prog:
   677                        ;     RMB6        $A6
   678                        ;     RTS
   679                        ; L_Clr_S21_Prog:
   680                        ;     RMB6        $A1
   681                        ;     RTS
   682                        ; L_Clr_S22_Prog:
   683                        ;     RMB6        $9C
   684                        ;     RTS
   685                        ; L_Clr_S23_Prog:
   686                        ;     RMB6        $97
   687                        ;     RTS
   688                        ; L_Clr_S24_Prog:
   689                        ;     RMB6        $92
   690                        ;     RTS
   691                        ; L_Clr_S25_Prog:
   692                        ;     RMB6        $8D
   693                        ;     RTS
   694                        ; L_Clr_S26_Prog:
   695                        ;     RMB6        $88
   696                        ;     RTS
   697                        ; L_Clr_S27_Prog:
   698                        ;     RMB6        $83
   699                        ;     RTS
   700                        ; L_Clr_S28_Prog:
   701                        ;     RMB7        $83
   702                        ;     RTS
   703                        ; L_Clr_S29_Prog:
   704                        ;     RMB7        $88
   705                        ;     RTS
   706                        ; L_Clr_S30_Prog:
   707                        ;     RMB7        $8D
   708                        ;     RTS
   709                        ; L_Clr_S31_Prog:
   710                        ;     RMB7        $92
   711                        ;     RTS
   712                        ; L_Clr_S32_Prog:
   713                        ;     RMB7        $97
   714                        ;     RTS
   715                        ; L_Clr_S33_Prog:
   716                        ;     RMB7        $9C
   717                        ;     RTS
   718                        ; L_Clr_S34_Prog:
   719                        ;     RMB7        $A1
   720                        ;     RTS
   721                        ; L_Clr_S35_Prog:
   722                        ;     RMB7        $A6
   723                        ;     RTS
   724                        ; L_Clr_S36_Prog:
   725                        ;     RMB0        $A7
   726                        ;     RTS
   727                        ; L_Clr_S37_Prog:
   728                        ;     RMB0        $A2
   729                        ;     RTS
   730                        ; L_Clr_S38_Prog:
   731                        ;     RMB0        $9D
   732                        ;     RTS
   733                        ; L_Clr_S39_Prog:
   734                        ;     RMB0        $98
   735                        ;     RTS
   736                        ; L_Clr_S40_Prog:
   737                        ;     RMB0        $93
   738                        ;     RTS
   739                        ; L_Clr_S41_Prog:
   740                        ;     RMB0        $8E
   741                        ;     RTS
   742                        ; L_Clr_S42_Prog:
   743                        ;     RMB0        $89
   744                        ;     RTS
   745                        ; L_Clr_S43_Prog:
   746                        ;     RMB0        $84
   747                        ;     RTS
   748                        ; L_Clr_S44_Prog:
   749                        ;     RMB1        $84
   750                        ;     RTS
   751                        ; L_Clr_S45_Prog:
   752                        ;     RMB1        $89
   753                        ;     RTS
   754                        ; L_Clr_S46_Prog:
   755                        ;     RMB1        $8E
   756                        ;     RTS
   757                        ; L_Clr_S47_Prog:
   758                        ;     RMB1        $93
   759                        ;     RTS
   760                        ; L_Clr_S48_Prog:
   761                        ;     RMB1        $98
   762                        ;     RTS
   763                        ; L_Clr_S49_Prog:
   764                        ;     RMB1        $9D
   765                        ;     RTS
   766                        ; L_Clr_S50_Prog:
   767                        ;     RMB1        $A2
   768                        ;     RTS
   769                        ; L_Clr_S51_Prog:
   770                        ;     RMB1        $A7
   771                        ;     RTS
   772                        ; L_Clr_S52_Prog:
   773                        ;     RMB2        $A7
   774                        ;     RTS
   775                        ; L_Clr_S53_Prog:
   776                        ;     RMB2        $A2
   777                        ;     RTS
   778                        ; L_Clr_S54_Prog:
   779                        ;     RMB2        $9D
   780                        ;     RTS
   781                        ; L_Clr_S55_Prog:
   782                        ;     RMB2        $98
   783                        ;     RTS
   784                        ; L_Clr_S56_Prog:
   785                        ;     RMB2        $93
   786                        ;     RTS
   787                        ; L_Clr_S57_Prog:
   788                        ;     RMB2        $8E
   789                        ;     RTS
   790                        ; L_Clr_S58_Prog:
   791                        ;     RMB2        $89
   792                        ;     RTS
   793                        ; L_Clr_S59_Prog:
   794                        ;     RMB2        $84
   795                        ;     RTS
   796                        ; L_Clr_S60_Prog:
   797                        ;     RMB7        $82
   798                        ;     RTS
   799                        
   800                        ; L_Clr_All_TurnPlate_Prog:
   801                        
   802                        ;     RMB0        $83
   803                        ;     RMB5        $9B
   804                        ;     RMB5        $A0
   805                        ;     RMB5        $A5
   806                        ;     RMB4        $A6
   807                        ;     RMB4        $A1
   808                        ;     RMB4        $9C
   809                        ;     RMB4        $97
   810                        ;     RMB4        $92
   811                        ;     RMB4        $8D
   812                        ;     RMB4        $88
   813                        ;     RMB4        $83
   814                        ;     RMB5        $A6
   815                        ;     RMB5        $A1
   816                        ;     RMB5        $9C
   817                        ;     RMB5        $97
   818                        ;     RMB5        $92
   819                        ;     RMB5        $8D
   820                        ;     RMB5        $88
   821                        ;     RMB5        $83
   822                        ;     RMB6        $A6
   823                        ;     RMB6        $A1
   824                        ;     RMB6        $9C
   825                        ;     RMB6        $97
   826                        ;     RMB6        $92
   827                        ;     RMB6        $8D
   828                        ;     RMB6        $88
   829                        ;     RMB6        $83
   830                        ;     RMB7        $83
   831                        ;     RMB7        $88
   832                        ;     RMB7        $8D
   833                        ;     RMB7        $92
   834                        ;     RMB7        $97
   835                        ;     RMB7        $9C
   836                        ;     RMB7        $A1
   837                        ;     RMB7        $A6
   838                        ;     RMB0        $A7
   839                        ;     RMB0        $A2
   840                        ;     RMB0        $9D
   841                        ;     RMB0        $98
   842                        ;     RMB0        $93
   843                        ;     RMB0        $8E
   844                        ;     RMB0        $89
   845                        ;     RMB0        $84
   846                        ;     RMB1        $84
   847                        ;     RMB1        $89
   848                        ;     RMB1        $8E
   849                        ;     RMB1        $93
   850                        ;     RMB1        $98
   851                        ;     RMB1        $9D
   852                        ;     RMB1        $A2
   853                        ;     RMB1        $A7
   854                        ;     RMB2        $A7
   855                        ;     RMB2        $A2
   856                        ;     RMB2        $9D
   857                        ;     RMB2        $98
   858                        ;     RMB2        $93
   859                        ;     RMB2        $8E
   860                        ;     RMB2        $89
   861                        ;     RMB2        $84
   862                        ;     RMB7        $82
   863                        ;     RTS
   864                        
   864                        
   181                        .INCLUDE	Display\Display_Symbol.asm
     1                        L_Display_Beep_Sclient_Prog:
     2 00:C7E6: 3E AB 0B          BBS6    Sys_Flag_C,L_Display_Beep_Voice_Prog
     3 00:C7E9: 5E B0             LDX     #lcd_Sclient
     4 00:C7EB: 15 B3 C9          JSR     F_ClrpSymbol
     5 00:C7EE: 5E AF             LDX     #lcd_Voice
     6 00:C7F0: 15 AC C9          JSR     F_DispSymbol
     7 00:C7F3: 09                RTS
     8                        L_Display_Beep_Voice_Prog:
     9 00:C7F4: 5E B0             LDX     #lcd_Sclient
    10 00:C7F6: 15 AC C9          JSR     F_DispSymbol
    11 00:C7F9: 5E AF             LDX     #lcd_Voice
    12 00:C7FB: 15 B3 C9          JSR     F_ClrpSymbol
    13 00:C7FE: 09                RTS
    14                        ;==========================================
    15                        L_Display_Temp_Prog:
    16 00:C7FF: 73 F1             LDA     R_Temperature_L
    17 00:C801: 12 16             BNE     L_Display_Temp_Prog_under_0
    18 00:C803: 73 F0             LDA     R_Temperature
    19 00:C805: 51 0F             AND     #0FH
    20 00:C807: 5E 31             LDX     #lcd_d8
    21 00:C809: 15 68 C9          JSR     L_Dis_8Bit_DigitDot_Prog
    22 00:C80C: 73 F0             LDA     R_Temperature
    23 00:C80E: 51 F0             AND     #F0H
    24 00:C810: 15 CB C9          JSR		L_ROR_4Bit_Prog
    25 00:C813: 5E 2A             LDX     #lcd_d7
    26 00:C815: 15 68 C9          JSR     L_Dis_8Bit_DigitDot_Prog
    27 00:C818: 09                RTS
    28                        
    29                        L_Display_Temp_Prog_under_0:
    30 00:C819: 73 F0             LDA     R_Temperature
    31 00:C81B: 51 0F             AND     #0FH
    32 00:C81D: 5E 31             LDX     #lcd_d8
    33 00:C81F: 15 68 C9          JSR     L_Dis_8Bit_DigitDot_Prog
    34 00:C822: 53 0B             LDA     #11
    35 00:C824: 5E 2A             LDX     #lcd_d7
    36 00:C826: 15 68 C9          JSR     L_Dis_8Bit_DigitDot_Prog
    37 00:C829: 09                RTS
    38                        ;================================================
    39                        L_Display_Prog_Init:
    40 00:C82A: 5E AD             LDX     #lcd_Week
    41 00:C82C: 15 AC C9          JSR     F_DispSymbol
    42 00:C82F: 5E BA             LDX     #lcd_T1
    43 00:C831: 15 AC C9          JSR     F_DispSymbol
    44 00:C834: 5E C1             LDX     #lcd_T8
    45 00:C836: 15 AC C9          JSR     F_DispSymbol
    46 00:C839: 5E C7             LDX     #lcd_C
    47 00:C83B: 15 AC C9          JSR     F_DispSymbol
    48 00:C83E: 09                RTS
    49                        ;==============================================
    50                        L_Display_Col_Time_Prog:
    51 00:C83F: 5E C2             LDX     #lcd_P1
    52 00:C841: 15 AC C9          JSR     F_DispSymbol
    53 00:C844: 09                RTS
    54                        L_Display_Col_Timer_Prog:
    55 00:C845: 5E C3             LDX     #lcd_P2
    56 00:C847: 15 AC C9          JSR     F_DispSymbol
    57 00:C84A: 09                RTS
    58                        L_Display_Timer_Symbol_Prog:
    59 00:C84B: 5E C4             LDX     #lcd_P3
    60 00:C84D: 15 AC C9          JSR     F_DispSymbol
    61 00:C850: 09                RTS
    62                        L_Clr_Col_Time_Prog:
    63 00:C851: 5E C2             LDX     #lcd_P1
    64 00:C853: 15 B3 C9          JSR     F_ClrpSymbol
    65 00:C856: 09                RTS
    66                        L_Clr_Col_Timer_Prog:
    67 00:C857: 5E C3             LDX     #lcd_P2
    68 00:C859: 15 B3 C9          JSR     F_ClrpSymbol
    69 00:C85C: 09                RTS
    70                        L_Clr_Timer_Symbol_Prog:
    71 00:C85D: 5E C4             LDX     #lcd_P3
    72 00:C85F: 15 B3 C9          JSR     F_ClrpSymbol
    73 00:C862: 09                RTS
    74                        ;-----------------------------------------------
    75                        L_Display_lcd_Alarm_Clock_Prog_1:
    76 00:C863: 5E B1             LDX     #lcd_Alarm_Clock_1
    77 00:C865: 15 AC C9          JSR     F_DispSymbol
    78 00:C868: 09                RTS
    79                        L_Display_lcd_Alarm_Clock_Prog_2:
    80 00:C869: 5E B2             LDX     #lcd_Alarm_Clock_2
    81 00:C86B: 15 AC C9          JSR     F_DispSymbol
    82 00:C86E: 09                RTS
    83                        L_Display_lcd_Alarm_Clock_Prog_3:
    84 00:C86F: 5E B3             LDX     #lcd_Alarm_Clock_3
    85 00:C871: 15 AC C9          JSR     F_DispSymbol
    86 00:C874: 09                RTS
    87                        L_Display_lcd_Alarm_Clock_Prog_4:
    88 00:C875: 5E B4             LDX     #lcd_Alarm_Clock_4
    89 00:C877: 15 AC C9          JSR     F_DispSymbol
    90 00:C87A: 09                RTS
    91                        L_Display_lcd_Alarm_Clock_Prog_5:
    92 00:C87B: 5E B5             LDX     #lcd_Alarm_Clock_5
    93 00:C87D: 15 AC C9          JSR     F_DispSymbol
    94 00:C880: 09                RTS
    95                        ;---------------------------------------
    96                        L_Display_lcd_X10_Prog:
    97 00:C881: 5E B6             LDX     #lcd_X10
    98 00:C883: 15 AC C9          JSR     F_DispSymbol
    99 00:C886: 09                RTS
   100                        L_Display_lcd_X11_Prog:
   101 00:C887: 5E B7             LDX     #lcd_X11
   102 00:C889: 15 AC C9          JSR     F_DispSymbol
   103 00:C88C: 09                RTS
   104                        L_Display_lcd_X12_Prog:
   105 00:C88D: 5E B8             LDX     #lcd_X12
   106 00:C88F: 15 AC C9          JSR     F_DispSymbol
   107 00:C892: 09                RTS
   108                        L_Display_lcd_X13_Prog:
   109 00:C893: 5E B9             LDX     #lcd_X13
   110 00:C895: 15 AC C9          JSR     F_DispSymbol
   111 00:C898: 09                RTS
   112                        ;============================================
   113                        L_Display_AM_Prog:
   114 00:C899: 5E C5             LDX     #lcd_AM
   115 00:C89B: 15 AC C9          JSR     F_DispSymbol
   116 00:C89E: 09                RTS
   117                        L_Display_PM_Prog:
   118 00:C89F: 5E C6             LDX     #lcd_PM
   119 00:C8A1: 15 AC C9          JSR     F_DispSymbol
   120 00:C8A4: 09                RTS
   121                        L_Clr_AM_Prog:
   122 00:C8A5: 5E C5             LDX     #lcd_AM
   123 00:C8A7: 15 B3 C9          JSR     F_ClrpSymbol
   124 00:C8AA: 09                RTS
   125                        L_Clr_PM_Prog:
   126 00:C8AB: 5E C6             LDX     #lcd_PM
   127 00:C8AD: 15 B3 C9          JSR     F_ClrpSymbol
   128 00:C8B0: 09                RTS
   129                        ;=================================
   130                        L_Clr_lcd_Alarm_Clock_Prog_1:
   131 00:C8B1: 5E B1             LDX     #lcd_Alarm_Clock_1
   132 00:C8B3: 15 B3 C9          JSR     F_ClrpSymbol
   133 00:C8B6: 09                RTS
   134                        L_Clr_lcd_Alarm_Clock_Prog_2:
   135 00:C8B7: 5E B2             LDX     #lcd_Alarm_Clock_2
   136 00:C8B9: 15 B3 C9          JSR     F_ClrpSymbol
   137 00:C8BC: 09                RTS
   138                        L_Clr_lcd_Alarm_Clock_Prog_3:
   139 00:C8BD: 5E B3             LDX     #lcd_Alarm_Clock_3
   140 00:C8BF: 15 B3 C9          JSR     F_ClrpSymbol
   141 00:C8C2: 09                RTS
   142                        L_Clr_lcd_Alarm_Clock_Prog_4:
   143 00:C8C3: 5E B4             LDX     #lcd_Alarm_Clock_4
   144 00:C8C5: 15 B3 C9          JSR     F_ClrpSymbol
   145 00:C8C8: 09                RTS
   146                        L_Clr_lcd_Alarm_Clock_Prog_5:
   147 00:C8C9: 5E B5             LDX     #lcd_Alarm_Clock_5
   148 00:C8CB: 15 B3 C9          JSR     F_ClrpSymbol
   149 00:C8CE: 09                RTS
   150                        ;---------------------------------------
   151                        L_Clr_lcd_X10_Prog:
   152 00:C8CF: 5E B6             LDX     #lcd_X10
   153 00:C8D1: 15 B3 C9          JSR     F_ClrpSymbol
   154 00:C8D4: 09                RTS
   155                        L_Clr_lcd_X11_Prog:
   156 00:C8D5: 5E B7             LDX     #lcd_X11
   157 00:C8D7: 15 B3 C9          JSR     F_ClrpSymbol
   158 00:C8DA: 09                RTS
   159                        L_Clr_lcd_X12_Prog:
   160 00:C8DB: 5E B8             LDX     #lcd_X12
   161 00:C8DD: 15 B3 C9          JSR     F_ClrpSymbol
   162 00:C8E0: 09                RTS
   163                        L_Clr_lcd_X13_Prog:
   164 00:C8E1: 5E B9             LDX     #lcd_X13
   165 00:C8E3: 15 B3 C9          JSR     F_ClrpSymbol
   166                            RTS
   166 00:C8E6: 09            
   182                        
   183                        
   184                        .INCLUDE	Display\Tool.asm
     1                        L_A_HexToHexD:									;16进制转换为10进制数
     2 00:C8E7: 7F D7         	STA		P_Temp								; 将十进制输入保存到 P_Temp
     3 00:C8E9: 53 00         	LDA		#0									; 初始化高位寄存器
     4 00:C8EB: 7F D8         	STA		P_Temp+1							; 高位清零
     5 00:C8ED: 7F D9         	STA		P_Temp+2							; 低位清零
     6                        
     7                        L_DecToHex_Loop:
     8 00:C8EF: 73 D7         	LDA		P_Temp								; 读取当前十进制值
     9 00:C8F1: 56 0A         	CMP		#10
    10 00:C8F3: 10 09         	BCC		L_DecToHex_End						; 如果小于16，则跳到结束
    11                        
    12 00:C8F5: 00            	SEC											; 启用借位
    13 00:C8F6: 55 0A         	SBC		#10									; 减去16
    14 00:C8F8: 7F D7         	STA		P_Temp								; 更新十进制值
    15 00:C8FA: 78 D8         	INC		P_Temp+1							; 高位+1，累加十六进制的十位
    16                        
    17 00:C8FC: 17 F1         	BRA		L_DecToHex_Loop						; 重复循环
    18                        
    19                        L_DecToHex_End:
    20 00:C8FE: 73 D7         	LDA		P_Temp								; 最后剩余的值是低位
    21 00:C900: 7F D9         	STA		P_Temp+2							; 存入低位
    22                        
    23 00:C902: 73 D8         	LDA		P_Temp+1							; 将高位放入A寄存器准备结果组合
    24 00:C904: 04            	CLC
    25 00:C905: 18            	ROL
    26 00:C906: 18            	ROL
    27 00:C907: 18            	ROL
    28 00:C908: 18            	ROL											; 左移4次，完成乘16
    29 00:C909: 04            	CLC
    30 00:C90A: 74 D9         	ADC		P_Temp+2							; 加上低位值
    31                        
    32 00:C90C: 09            	RTS
    33                        
    34                        ;======================================================================
    35                        ; L_A_HexDToHex:
    36                        ; 	STA		P_Temp								; 将十六进制输入保存到 P_Temp
    37                        ; 	LDA		#0									; 初始化高位寄存器
    38                        ; 	STA		P_Temp+1							; 高位清零
    39                        ; 	STA		P_Temp+2							; 低位清零
    40                        
    41                        ; 	LDA		P_Temp
    42                        ; 	AND		#0FH
    43                        ; 	STA		P_Temp+2
    44                        ; 	LDA		P_Temp
    45                        ; 	AND		#F0H
    46                        ; 	CLC
    47                        ; 	ROR
    48                        ; 	ROR
    49                        ; 	ROR
    50                        ; 	ROR
    51                        ; 	STA		P_Temp
    52                        ; L_A_HexDToHex_Loop:
    53                        ; 	CLC
    54                        ; 	LDA		#10
    55                        ; 	ADC		P_Temp+2
    56                        ; 	STA		P_Temp+2
    57                        ; 	DEC		P_Temp
    58                        ; 	LDA		P_Temp
    59                        ; 	BNE		L_A_HexDToHex_Loop
    60                        ; 	LDA		P_Temp+2
    61                        ; 	RTS
    62                        L_DToHx_Prog:								;十进制转十六进制
    63 00:C90D: 7F DD         	STA		P_Temp+6
    64 00:C90F: 51 F0         	AND		#$F0
    65 00:C911: 7F DE         	STA		P_Temp+7
    66 00:C913: 53 0F         	LDA		#$0F
    67 00:C915: 71 DD         	AND		P_Temp+6
    68 00:C917: 7F DD         	STA		P_Temp+6
    69                        L_Loop_DToHx_Prog:
    70 00:C919: 73 DE         	LDA		P_Temp+7
    71 00:C91B: 13 0E         	BEQ		L_End_DToHx_Prog    ;Z=1跳转
    72 00:C91D: 00            	SEC
    73 00:C91E: 55 10         	SBC		#$10
    74 00:C920: 7F DE         	STA		P_Temp+7
    75 00:C922: 04            	CLC
    76 00:C923: 53 0A         	LDA		#$0A
    77 00:C925: 74 DD         	ADC		P_Temp+6
    78 00:C927: 7F DD         	STA		P_Temp+6
    79 00:C929: 17 EE         	BRA		L_Loop_DToHx_Prog          ;无条件跳转
    80                        L_End_DToHx_Prog:
    81 00:C92B: 73 DD         	LDA		P_Temp+6
    82 00:C92D: 09            	RTS
    83                        ;===========================================
    84                        
    85                        L_12_24_Prog:;12小时和24小时切换
    86 00:C92E: 7F D7         	STA		P_Temp
    87 00:C930: 3A AA 2C      	BBS2	Sys_Flag_B,L_12_24_Prog_5;判断是24小时制跳转退出
    88 00:C933: 73 D7         	LDA		P_Temp
    89 00:C935: 13 0F         	BEQ		L_12_24_Prog_1;为0是跳转
    90 00:C937: 56 11         	CMP		#11H
    91 00:C939: 13 02         	BEQ		L_12_24_Prog_4
    92 00:C93B: 11 12         	BCS		L_12_24_Prog_3;比12大时跳转
    93                        L_12_24_Prog_4:
    94 00:C93D: 15 99 C8      	JSR		L_Display_AM_Prog
    95 00:C940: 15 AB C8      	JSR		L_Clr_PM_Prog
    96 00:C943: 73 D7         	LDA		P_Temp
    97                        L_12_24_Prog_OUT:
    98 00:C945: 09            	RTS
    99                        L_12_24_Prog_1:;0点
   100 00:C946: 15 99 C8      	JSR		L_Display_AM_Prog
   101 00:C949: 15 AB C8      	JSR		L_Clr_PM_Prog
   102 00:C94C: 53 12         	LDA		#12H
   103 00:C94E: 09            	RTS
   104                        L_12_24_Prog_3:
   105 00:C94F: 15 A5 C8      	JSR		L_Clr_AM_Prog
   106 00:C952: 15 9F C8      	JSR		L_Display_PM_Prog
   107 00:C955: 73 D7         	LDA		P_Temp
   108 00:C957: 56 12         	CMP		#12H
   109 00:C959: 13 EA         	BEQ		L_12_24_Prog_OUT
   110 00:C95B: 00            	SEC
   111 00:C95C: 55 12         	SBC		#12H
   112 00:C95E: 09            	RTS
   113                        L_12_24_Prog_5:
   114 00:C95F: 15 A5 C8      	JSR		L_Clr_AM_Prog
   115 00:C962: 15 AB C8      	JSR		L_Clr_PM_Prog
   116 00:C965: 73 D7         	LDA		P_Temp
   117 00:C967: 09            	RTS
   118                        
   118                        
   185                        .INCLUDE	Display\Disp.asm
     1                        ;===========================================================
     2                        ;程序功能：	显示8BIT字段
     3                        ;程序入口：	A =  显示内容
     4                        ;			X =  ofc
     5                        ;影响资源：P_Temp，P_Temp+1，P_Temp+2，P_Temp+3,X，A
     6                        ;===========================================================
     7                        L_Dis_8Bit_DigitDot_Prog:
     8                        ;	STA		P_Temp
     9                        ;	LDA		Table_Digit_Addr_Offset,X
    10 00:C968: 7C D8         	STX		P_Temp+1;显示在那个位置上
    11 00:C96A: 1B            	TAX
    12 00:C96B: 63 D9 C9      	LDA		Table_Digit_DataDot,X;查要显示的数对应的段码
    13 00:C96E: 7E D8         	LDX		P_Temp+1
    14                        F_DispPro:
    15 00:C970: 7F D7         	STA		P_Temp;保存显示的数对应的段码
    16 00:C972: 7C D8         	STX		P_Temp+1;再次保存显示位置
    17 00:C974: 53 07         	LDA		#7
    18 00:C976: 7F DA         	STA		P_Temp+3	;显示段数
    19                        L_Judge_Dis_8Bit_DigitDot:;显示循环的开始
    20 00:C978: 7E D8         	LDX		P_Temp+1	;加载位置索引到x
    21 00:C97A: 63 B8 CA      	LDA		Lcd_bit,X	;加载com线
    22 00:C97D: 7F D9         	STA		P_Temp+2
    23 00:C97F: 63 F0 C9      	LDA		Lcd_byte,X	;加载SEG线
    24 00:C982: 1B            	TAX
    25 00:C983: 7B D7         	ROR		P_Temp		;循环右移
    26 00:C985: 10 0A         	BCC		L_CLR		;c=0是清除
    27 00:C987: 63 00 18      	LDA		LCD_RamAddr,X	;加载LCD RAM地址
    28 00:C98A: 70 D9         	ORA		P_Temp+2		;将COM和SEG信息与LCD RAM地址进行逻辑或操作
    29 00:C98C: 6F 00 18      	STA		LCD_RamAddr,X	;将结果写回LCD RAM，更新显示
    30 00:C98F: 17 0A         	BRA		L_Inc_Dis_Index_Prog	;跳转到显示索引增加的子程序。
    31                        L_CLR:
    32 00:C991: 63 00 18      	LDA		LCD_RamAddr,X	;加载LCD RAM的地址
    33 00:C994: 70 D9         	ORA		P_Temp+2		;将COM和SEG信息与LCD RAM地址进行逻辑或操作
    34 00:C996: 72 D9         	EOR		P_Temp+2		;进行异或操作，用于清除对应的段。
    35 00:C998: 6F 00 18      	STA		LCD_RamAddr,X	;将结果写回LCD RAM，清除对应位置。
    36                        L_Inc_Dis_Index_Prog:		;增加显示索引，减少显示段数
    37 00:C99B: 78 D8         	INC		P_Temp+1		;增加P_Temp+1（位置索引）
    38 00:C99D: 79 DA         	DEC		P_Temp+3		;减少P_Temp+3（段数
    39 00:C99F: 12 D7         	BNE		L_Judge_Dis_8Bit_DigitDot	;如果段数不为0，回到循环开始，否则退出
    40 00:C9A1: 09            	RTS
    41                        
    42                        F_DispPro_8bit:
    43 00:C9A2: 7F D7         	STA		P_Temp			;保存段码的值
    44 00:C9A4: 7C D8         	STX		P_Temp+1
    45 00:C9A6: 53 08         	LDA		#8
    46 00:C9A8: 7F DA         	STA		P_Temp+3	;显示段数
    47 00:C9AA: 17 CC         	BRA		L_Judge_Dis_8Bit_DigitDot
    48                        ;-----------------------------------------
    49                        F_DispSymbol:		;input Xcc -> ofs
    50 00:C9AC: 15 BC C9      	JSR		F_DispSymbol_Com
    51 00:C9AF: 6F 00 18      	STA		LCD_RamAddr,X	;实现显示
    52 00:C9B2: 09            	RTS
    53                        
    54                        F_ClrpSymbol:		;input Xcc -> ofs
    55 00:C9B3: 15 BC C9      	JSR		F_DispSymbol_Com	;清除显示
    56 00:C9B6: 72 D9         	EOR		P_Temp+2
    57 00:C9B8: 6F 00 18      	STA		LCD_RamAddr,X
    58 00:C9BB: 09            	RTS
    59                        
    60                        F_DispSymbol_Com:
    61 00:C9BC: 63 B8 CA      	LDA		Lcd_bit,X	;加载X寄存器对应的COM线
    62 00:C9BF: 7F D9         	STA		P_Temp+2
    63 00:C9C1: 63 F0 C9      	LDA		Lcd_byte,X	;加载X寄存器对应的SEG线
    64 00:C9C4: 1B            	TAX
    65 00:C9C5: 63 00 18      	LDA		LCD_RamAddr,X;加载LCD	RAM	地址
    66 00:C9C8: 70 D9         	ORA		P_Temp+2
    67 00:C9CA: 09            	RTS
    68                        ;============================================================
    69                        ;===============================================
    70                        L_ROR_4Bit_Prog:
    71                        L_ROR4Bit_Prog:
    72                        L_LSR4Bit_Prog:
    73                        F_MSBToLSB:
    74 00:C9CB: 19            	ROR
    75 00:C9CC: 19            	ROR
    76 00:C9CD: 19            	ROR
    77 00:C9CE: 19            	ROR
    78 00:C9CF: 51 0F         	AND		#$0F
    79 00:C9D1: 09            	RTS
    80                        L_ROL_4Bit_Prog:
    81 00:C9D2: 18            	ROL
    82 00:C9D3: 18            	ROL
    83 00:C9D4: 18            	ROL
    84 00:C9D5: 18            	ROL
    85 00:C9D6: 51 F0         	AND		#F0H
    86 00:C9D8: 09            	RTS
    87                        ;================================================
    88                        ;********************************************
    89                        Table_Digit_DataDot:	;显示内容对应显示的段码
    90                                   ;hgfedcba
    91 00:C9D9: 3F            	.BYTE 	3fh	;0
    92 00:C9DA: 06            	.BYTE	06h	;1
    93 00:C9DB: 5B            	.BYTE	5bh	;2
    94 00:C9DC: 4F            	.BYTE	4fh	;3
    95 00:C9DD: 66            	.BYTE	66h	;4
    96 00:C9DE: 6D            	.BYTE	6dh	;5
    97 00:C9DF: 7D            	.BYTE	7dh	;6
    98 00:C9E0: 27            	.BYTE	27h	;7
    99 00:C9E1: 7F            	.BYTE	7fh	;8
   100 00:C9E2: 6F            	.BYTE	6fh	;9
   101 00:C9E3: 00            	.BYTE	00h	;清除10
   102 00:C9E4: 40            	.BYTE	01000000B;负号11
   103 00:C9E5: 76            	.BYTE	01110110B;H12
   104 00:C9E6: 50            	.BYTE	01010000B;r13
   105 00:C9E7: 37            	.BYTE	00110111B;N	14
   106 00:C9E8: 31            	.BYTE	00110001B;T的左边15
   107 00:C9E9: 3E            	.BYTE	00111110B;U.16
   108 00:C9EA: 79            	.BYTE	01111001B;E.17
   109 00:C9EB: 77            	.BYTE	01110111B;A.18
   110 00:C9EC: 71            	.BYTE	01110001B;F	19
   111 00:C9ED: 38            	.BYTE	00111000B;L	20
   112 00:C9EE: 73            	.BYTE	01110011B;P	21
   113 00:C9EF: 08            	.BYTE	00001000B;一条横杠22
   114                        
   115                        
   116                        
   116                        
   186                        .INCLUDE	Display\Lcdtab.asm
     1                        ;--------COM------------
     2                        c0	.equ	0
     3                        c1	.equ	1
     4                        c2	.equ	2
     5                        c3	.equ	3
     6                        c4	.equ	4
     7                        c5	.equ	5
     8                        c6	.equ	6
     9                        c7	.EQU	7
    10                        ;;--------SEG------------
    11                        ; s47	.equ	47
    12                        ; s46	.equ	46
    13                        ; s45	.equ	45
    14                        ; s44	.equ	44
    15                        ; s43	.equ	43
    16                        ; s42	.equ	42
    17                        ; s41	.equ	41
    18                        ; s40	.equ	40
    19                        s39	.equ	39
    20                        s38	.equ	38
    21                        s37	.equ	37
    22                        s36	.equ	36
    23                        s35	.equ	35
    24                        s34	.equ	34
    25                        s33	.equ	33
    26                        s32	.equ	32
    27                        s31	.equ	31
    28                        s30	.equ	30
    29                        s29	.equ	29
    30                        s28	.equ	28
    31                        s27	.equ	27
    32                        s26	.equ	26
    33                        s25	.equ	25
    34                        s24	.equ	24
    35                        s23	.equ	23
    36                        s22	.equ	22
    37                        s21	.equ	21
    38                        s20	.equ	20
    39                        ; s19	.equ	19
    40                        ; s18	.equ	18
    41                        ; s17	.equ	17
    42                        ; s16	.equ	16
    43                        s15	.equ	15
    44                        s14	.equ	14
    45                        s13	.equ	13
    46                        s12	.equ	12
    47                        s11	.equ	11
    48                        s10	.equ	10
    49                        s9	.equ	9
    50                        s8	.equ	8
    51                        s7	.equ	7
    52                        ; s6	.equ	6
    53                        ; s5	.equ	5
    54                        ; s4	.equ	4
    55                        ; s3	.equ	3
    56                        ; s2	.equ	2
    57                        ; s1	.equ	1
    58                        ; s0	.equ	0
    59                        
    60                        
    61                        .MACRO  db_c_s	com,seg
    62                                  .BYTE com*5+seg/8
    63                        .ENDMACRO
    64                        
    65                        .MACRO  db_c_y	com,seg
    66                        	      .BYTE 1.shl.(seg-seg/8*8)
    67                        .ENDMACRO
    68                        
    69                        Lcd_byte:	;段码
    70                        lcd_table1:
    71                        lcd_d1 .equ	lcd_table1-lcd_table1
    72                        	db_c_s	c0,s7	;;1A
+   72 00:C9F0: 00             .DB c0*$0005+s7/$0008
    73                        	db_c_s	c2,s7	;;1B
+   73 00:C9F1: 0A             .DB c2*$0005+s7/$0008
    74                        	db_c_s	c5,s7	;;1C
+   74 00:C9F2: 19             .DB c5*$0005+s7/$0008
    75                        	db_c_s	c6,s7	;;1D
+   75 00:C9F3: 1E             .DB c6*$0005+s7/$0008
    76                        	db_c_s	c4,s7	;;1E
+   76 00:C9F4: 14             .DB c4*$0005+s7/$0008
    77                        	db_c_s	c1,s7	;;1F
+   77 00:C9F5: 05             .DB c1*$0005+s7/$0008
    78                        	db_c_s	c3,s7	;;1G
+   78 00:C9F6: 0F             .DB c3*$0005+s7/$0008
    79                        
    80                        lcd_d2	.equ	lcd_d1+7
    81                        	db_c_s	c0,s8	;;2A
+   81 00:C9F7: 01             .DB c0*$0005+s8/$0008
    82                        	db_c_s	c2,s8	;;2B
+   82 00:C9F8: 0B             .DB c2*$0005+s8/$0008
    83                        	db_c_s	c5,s8	;;2C
+   83 00:C9F9: 1A             .DB c5*$0005+s8/$0008
    84                        	db_c_s	c6,s8	;;2D
+   84 00:C9FA: 1F             .DB c6*$0005+s8/$0008
    85                        	db_c_s	c4,s8	;;2E
+   85 00:C9FB: 15             .DB c4*$0005+s8/$0008
    86                        	db_c_s	c1,s8	;;2F
+   86 00:C9FC: 06             .DB c1*$0005+s8/$0008
    87                        	db_c_s	c3,s8	;;2G
+   87 00:C9FD: 10             .DB c3*$0005+s8/$0008
    88                        
    89                        lcd_d3	.equ	lcd_d2+7
    90                        	db_c_s	c0,s9	;;3A
+   90 00:C9FE: 01             .DB c0*$0005+s9/$0008
    91                        	db_c_s	c2,s9	;;3B
+   91 00:C9FF: 0B             .DB c2*$0005+s9/$0008
    92                        	db_c_s	c5,s9	;;3C
+   92 00:CA00: 1A             .DB c5*$0005+s9/$0008
    93                        	db_c_s	c6,s9	;;3D
+   93 00:CA01: 1F             .DB c6*$0005+s9/$0008
    94                        	db_c_s	c4,s9	;;3E
+   94 00:CA02: 15             .DB c4*$0005+s9/$0008
    95                        	db_c_s	c1,s9	;;3F
+   95 00:CA03: 06             .DB c1*$0005+s9/$0008
    96                        	db_c_s	c3,s9	;;3G
+   96 00:CA04: 10             .DB c3*$0005+s9/$0008
    97                        
    98                        lcd_d4	.equ	lcd_d3+7
    99                        	db_c_s	c0,s10	;;4A
+   99 00:CA05: 01             .DB c0*$0005+s10/$0008
   100                        	db_c_s	c2,s10	;;4B
+  100 00:CA06: 0B             .DB c2*$0005+s10/$0008
   101                        	db_c_s	c5,s10	;;4C
+  101 00:CA07: 1A             .DB c5*$0005+s10/$0008
   102                        	db_c_s	c6,s10	;;4D
+  102 00:CA08: 1F             .DB c6*$0005+s10/$0008
   103                        	db_c_s	c4,s10	;;4E
+  103 00:CA09: 15             .DB c4*$0005+s10/$0008
   104                        	db_c_s	c1,s10	;;4F
+  104 00:CA0A: 06             .DB c1*$0005+s10/$0008
   105                        	db_c_s	c3,s10	;;4G
+  105 00:CA0B: 10             .DB c3*$0005+s10/$0008
   106                        
   107                        lcd_d5	.equ	lcd_d4+7
   108                        	db_c_s	c0,s11	;;5A
+  108 00:CA0C: 01             .DB c0*$0005+s11/$0008
   109                        	db_c_s	c2,s11	;;5B
+  109 00:CA0D: 0B             .DB c2*$0005+s11/$0008
   110                        	db_c_s	c5,s11	;;5C
+  110 00:CA0E: 1A             .DB c5*$0005+s11/$0008
   111                        	db_c_s	c6,s11	;;5D
+  111 00:CA0F: 1F             .DB c6*$0005+s11/$0008
   112                        	db_c_s	c4,s11	;;5E
+  112 00:CA10: 15             .DB c4*$0005+s11/$0008
   113                        	db_c_s	c1,s11	;;5F
+  113 00:CA11: 06             .DB c1*$0005+s11/$0008
   114                        	db_c_s	c3,s11	;;5G
+  114 00:CA12: 10             .DB c3*$0005+s11/$0008
   115                        
   116                        lcd_d6	.equ	lcd_d5+7
   117                        	db_c_s	c0,s20	;;6A
+  117 00:CA13: 02             .DB c0*$0005+s20/$0008
   118                        	db_c_s	c2,s20	;;6B
+  118 00:CA14: 0C             .DB c2*$0005+s20/$0008
   119                        	db_c_s	c5,s20	;;6C
+  119 00:CA15: 1B             .DB c5*$0005+s20/$0008
   120                        	db_c_s	c6,s20	;;6D
+  120 00:CA16: 20             .DB c6*$0005+s20/$0008
   121                        	db_c_s	c4,s20	;;6E
+  121 00:CA17: 16             .DB c4*$0005+s20/$0008
   122                        	db_c_s	c1,s20	;;6F
+  122 00:CA18: 07             .DB c1*$0005+s20/$0008
   123                        	db_c_s	c3,s20	;;6G
+  123 00:CA19: 11             .DB c3*$0005+s20/$0008
   124                        
   125                        lcd_d7	.equ	lcd_d6+7
   126                        	db_c_s	c0,s22	;;7A
+  126 00:CA1A: 02             .DB c0*$0005+s22/$0008
   127                        	db_c_s	c2,s22	;;7B
+  127 00:CA1B: 0C             .DB c2*$0005+s22/$0008
   128                        	db_c_s	c5,s22	;;7C
+  128 00:CA1C: 1B             .DB c5*$0005+s22/$0008
   129                        	db_c_s	c6,s22	;;7D
+  129 00:CA1D: 20             .DB c6*$0005+s22/$0008
   130                        	db_c_s	c4,s22	;;7E
+  130 00:CA1E: 16             .DB c4*$0005+s22/$0008
   131                        	db_c_s	c1,s22	;;7F
+  131 00:CA1F: 07             .DB c1*$0005+s22/$0008
   132                        	db_c_s	c3,s22	;;7G
+  132 00:CA20: 11             .DB c3*$0005+s22/$0008
   133                        
   134                        lcd_d8	.equ	lcd_d7+7
   135                        	db_c_s	c0,s23	;;8A
+  135 00:CA21: 02             .DB c0*$0005+s23/$0008
   136                        	db_c_s	c2,s23	;;8B
+  136 00:CA22: 0C             .DB c2*$0005+s23/$0008
   137                        	db_c_s	c5,s23	;;8C
+  137 00:CA23: 1B             .DB c5*$0005+s23/$0008
   138                        	db_c_s	c6,s23	;;8D
+  138 00:CA24: 20             .DB c6*$0005+s23/$0008
   139                        	db_c_s	c4,s23	;;8E
+  139 00:CA25: 16             .DB c4*$0005+s23/$0008
   140                        	db_c_s	c1,s23	;;8F
+  140 00:CA26: 07             .DB c1*$0005+s23/$0008
   141                        	db_c_s	c3,s23	;;8G
+  141 00:CA27: 11             .DB c3*$0005+s23/$0008
   142                        
   143                        lcd_d14	.equ	lcd_d8+7
   144                        	db_c_s	c7,s35	;;14A
+  144 00:CA28: 27             .DB c7*$0005+s35/$0008
   145                        	db_c_s	c5,s35	;;14B
+  145 00:CA29: 1D             .DB c5*$0005+s35/$0008
   146                        	db_c_s	c2,s35	;;14C
+  146 00:CA2A: 0E             .DB c2*$0005+s35/$0008
   147                        	db_c_s	c1,s35	;;14D
+  147 00:CA2B: 09             .DB c1*$0005+s35/$0008
   148                        	db_c_s	c3,s35	;;14E
+  148 00:CA2C: 13             .DB c3*$0005+s35/$0008
   149                        	db_c_s	c6,s35	;;14F
+  149 00:CA2D: 22             .DB c6*$0005+s35/$0008
   150                        	db_c_s	c4,s35	;;14G
+  150 00:CA2E: 18             .DB c4*$0005+s35/$0008
   151                        
   152                        lcd_d15	.equ	lcd_d14+7
   153                        	db_c_s	c7,s36	;;15A
+  153 00:CA2F: 27             .DB c7*$0005+s36/$0008
   154                        	db_c_s	c5,s36	;;15B
+  154 00:CA30: 1D             .DB c5*$0005+s36/$0008
   155                        	db_c_s	c2,s36	;;15C
+  155 00:CA31: 0E             .DB c2*$0005+s36/$0008
   156                        	db_c_s	c1,s36	;;15D
+  156 00:CA32: 09             .DB c1*$0005+s36/$0008
   157                        	db_c_s	c3,s36	;;15E
+  157 00:CA33: 13             .DB c3*$0005+s36/$0008
   158                        	db_c_s	c6,s36	;;15F
+  158 00:CA34: 22             .DB c6*$0005+s36/$0008
   159                        	db_c_s	c4,s36	;;15G
+  159 00:CA35: 18             .DB c4*$0005+s36/$0008
   160                        
   161                        lcd_d16	.equ	lcd_d15+7
   162                        	db_c_s	c7,s37	;;16A
+  162 00:CA36: 27             .DB c7*$0005+s37/$0008
   163                        	db_c_s	c5,s37	;;16B
+  163 00:CA37: 1D             .DB c5*$0005+s37/$0008
   164                        	db_c_s	c2,s37	;;16C
+  164 00:CA38: 0E             .DB c2*$0005+s37/$0008
   165                        	db_c_s	c1,s37	;;16D
+  165 00:CA39: 09             .DB c1*$0005+s37/$0008
   166                        	db_c_s	c3,s37	;;16E
+  166 00:CA3A: 13             .DB c3*$0005+s37/$0008
   167                        	db_c_s	c6,s37	;;16F
+  167 00:CA3B: 22             .DB c6*$0005+s37/$0008
   168                        	db_c_s	c4,s37	;;16G
+  168 00:CA3C: 18             .DB c4*$0005+s37/$0008
   169                        
   170                        lcd_d17	.equ	lcd_d16+7
   171                        	db_c_s	c7,s38	;;17A
+  171 00:CA3D: 27             .DB c7*$0005+s38/$0008
   172                        	db_c_s	c5,s38	;;17B
+  172 00:CA3E: 1D             .DB c5*$0005+s38/$0008
   173                        	db_c_s	c2,s38	;;17C
+  173 00:CA3F: 0E             .DB c2*$0005+s38/$0008
   174                        	db_c_s	c1,s38	;;17D
+  174 00:CA40: 09             .DB c1*$0005+s38/$0008
   175                        	db_c_s	c3,s38	;;17E
+  175 00:CA41: 13             .DB c3*$0005+s38/$0008
   176                        	db_c_s	c6,s38	;;17F
+  176 00:CA42: 22             .DB c6*$0005+s38/$0008
   177                        	db_c_s	c4,s38	;;17G
+  177 00:CA43: 18             .DB c4*$0005+s38/$0008
   178                        
   179                        lcd_d18	.equ	lcd_d17+7
   180                        	db_c_s	c1,s24	;;18A
+  180 00:CA44: 08             .DB c1*$0005+s24/$0008
   181                        	db_c_s	c3,s24	;;18B
+  181 00:CA45: 12             .DB c3*$0005+s24/$0008
   182                        	db_c_s	c6,s24	;;18C
+  182 00:CA46: 21             .DB c6*$0005+s24/$0008
   183                        	db_c_s	c7,s24	;;18D
+  183 00:CA47: 26             .DB c7*$0005+s24/$0008
   184                        	db_c_s	c5,s24	;;18E
+  184 00:CA48: 1C             .DB c5*$0005+s24/$0008
   185                        	db_c_s	c2,s24	;;18F
+  185 00:CA49: 0D             .DB c2*$0005+s24/$0008
   186                        	db_c_s	c4,s24	;;18G
+  186 00:CA4A: 17             .DB c4*$0005+s24/$0008
   187                        
   188                        lcd_d19	.equ	lcd_d18+7
   189                        	db_c_s	c1,s25	;;19A
+  189 00:CA4B: 08             .DB c1*$0005+s25/$0008
   190                        	db_c_s	c3,s25	;;19B
+  190 00:CA4C: 12             .DB c3*$0005+s25/$0008
   191                        	db_c_s	c6,s25	;;19C
+  191 00:CA4D: 21             .DB c6*$0005+s25/$0008
   192                        	db_c_s	c7,s25	;;19D
+  192 00:CA4E: 26             .DB c7*$0005+s25/$0008
   193                        	db_c_s	c5,s25	;;19E
+  193 00:CA4F: 1C             .DB c5*$0005+s25/$0008
   194                        	db_c_s	c2,s25	;;19F
+  194 00:CA50: 0D             .DB c2*$0005+s25/$0008
   195                        	db_c_s	c4,s25	;;19G
+  195 00:CA51: 17             .DB c4*$0005+s25/$0008
   196                        
   197                        lcd_d20	.equ	lcd_d19+7
   198                        	db_c_s	c1,s26	;;20A
+  198 00:CA52: 08             .DB c1*$0005+s26/$0008
   199                        	db_c_s	c3,s26	;;20B
+  199 00:CA53: 12             .DB c3*$0005+s26/$0008
   200                        	db_c_s	c6,s26	;;20C
+  200 00:CA54: 21             .DB c6*$0005+s26/$0008
   201                        	db_c_s	c7,s26	;;20D
+  201 00:CA55: 26             .DB c7*$0005+s26/$0008
   202                        	db_c_s	c5,s26	;;20E
+  202 00:CA56: 1C             .DB c5*$0005+s26/$0008
   203                        	db_c_s	c2,s26	;;20F
+  203 00:CA57: 0D             .DB c2*$0005+s26/$0008
   204                        	db_c_s	c4,s26	;;20G
+  204 00:CA58: 17             .DB c4*$0005+s26/$0008
   205                        
   206                        lcd_d21	.equ	lcd_d20+7
   207                        	db_c_s	c1,s27	;;21A
+  207 00:CA59: 08             .DB c1*$0005+s27/$0008
   208                        	db_c_s	c3,s27	;;21B
+  208 00:CA5A: 12             .DB c3*$0005+s27/$0008
   209                        	db_c_s	c6,s27	;;21C
+  209 00:CA5B: 21             .DB c6*$0005+s27/$0008
   210                        	db_c_s	c7,s27	;;21D
+  210 00:CA5C: 26             .DB c7*$0005+s27/$0008
   211                        	db_c_s	c5,s27	;;21E
+  211 00:CA5D: 1C             .DB c5*$0005+s27/$0008
   212                        	db_c_s	c2,s27	;;21F
+  212 00:CA5E: 0D             .DB c2*$0005+s27/$0008
   213                        	db_c_s	c4,s27	;;21G
+  213 00:CA5F: 17             .DB c4*$0005+s27/$0008
   214                        
   215                        
   216                        
   217                        Lcd_dot:
   218                        lcd_S0 .equ Lcd_dot-lcd_table1
   219                        	db_c_s	c0,s24	;;S0
+  219 00:CA60: 03             .DB c0*$0005+s24/$0008
   220                        	db_c_s	c5,s21	;;S1
+  220 00:CA61: 1B             .DB c5*$0005+s21/$0008
   221                        	db_c_s	c6,s21	;;S2
+  221 00:CA62: 20             .DB c6*$0005+s21/$0008
   222                        	db_c_s	c7,s21	;;S3
+  222 00:CA63: 25             .DB c7*$0005+s21/$0008
   223                        	db_c_s	c7,s28	;;S4
+  223 00:CA64: 26             .DB c7*$0005+s28/$0008
   224                        
   225                        	db_c_s	c6,s28	;;S5
+  225 00:CA65: 21             .DB c6*$0005+s28/$0008
   226                        	db_c_s	c5,s28	;;S6
+  226 00:CA66: 1C             .DB c5*$0005+s28/$0008
   227                        	db_c_s	c4,s28	;;S7
+  227 00:CA67: 17             .DB c4*$0005+s28/$0008
   228                        	db_c_s	c3,s28	;;S8
+  228 00:CA68: 12             .DB c3*$0005+s28/$0008
   229                        	db_c_s	c2,s28	;;S9
+  229 00:CA69: 0D             .DB c2*$0005+s28/$0008
   230                        
   231                        
   232                        	db_c_s	c1,s28	;;S10
+  232 00:CA6A: 08             .DB c1*$0005+s28/$0008
   233                        	db_c_s	c0,s28	;;S11
+  233 00:CA6B: 03             .DB c0*$0005+s28/$0008
   234                        	db_c_s	c0,s29	;;S12
+  234 00:CA6C: 03             .DB c0*$0005+s29/$0008
   235                        	db_c_s	c1,s29	;;S13
+  235 00:CA6D: 08             .DB c1*$0005+s29/$0008
   236                        	db_c_s	c2,s29	;;S14
+  236 00:CA6E: 0D             .DB c2*$0005+s29/$0008
   237                        
   238                        
   239                        	db_c_s	c3,s29	;;S15
+  239 00:CA6F: 12             .DB c3*$0005+s29/$0008
   240                        	db_c_s	c4,s29	;;S16
+  240 00:CA70: 17             .DB c4*$0005+s29/$0008
   241                        	db_c_s	c5,s29	;;S17
+  241 00:CA71: 1C             .DB c5*$0005+s29/$0008
   242                        	db_c_s	c6,s29	;;S18
+  242 00:CA72: 21             .DB c6*$0005+s29/$0008
   243                        	db_c_s	c7,s29	;;S19
+  243 00:CA73: 26             .DB c7*$0005+s29/$0008
   244                        
   245                        
   246                        	db_c_s	c7,s30	;;S20
+  246 00:CA74: 26             .DB c7*$0005+s30/$0008
   247                        	db_c_s	c6,s30	;;S21
+  247 00:CA75: 21             .DB c6*$0005+s30/$0008
   248                        	db_c_s	c5,s30	;;S22
+  248 00:CA76: 1C             .DB c5*$0005+s30/$0008
   249                        	db_c_s	c4,s30	;;S23
+  249 00:CA77: 17             .DB c4*$0005+s30/$0008
   250                        	db_c_s	c3,s30	;;S24
+  250 00:CA78: 12             .DB c3*$0005+s30/$0008
   251                        
   252                        
   253                        	db_c_s	c2,s30	;;S25
+  253 00:CA79: 0D             .DB c2*$0005+s30/$0008
   254                        	db_c_s	c1,s30	;;S26
+  254 00:CA7A: 08             .DB c1*$0005+s30/$0008
   255                        	db_c_s	c0,s30	;;S27
+  255 00:CA7B: 03             .DB c0*$0005+s30/$0008
   256                        	db_c_s	c0,s31	;;S28
+  256 00:CA7C: 03             .DB c0*$0005+s31/$0008
   257                        	db_c_s	c1,s31	;;S29
+  257 00:CA7D: 08             .DB c1*$0005+s31/$0008
   258                        
   259                        
   260                        	db_c_s	c2,s31	;;S30
+  260 00:CA7E: 0D             .DB c2*$0005+s31/$0008
   261                        	db_c_s	c3,s31	;;S31
+  261 00:CA7F: 12             .DB c3*$0005+s31/$0008
   262                        	db_c_s	c4,s31	;;S32
+  262 00:CA80: 17             .DB c4*$0005+s31/$0008
   263                        	db_c_s	c5,s31	;;S33
+  263 00:CA81: 1C             .DB c5*$0005+s31/$0008
   264                        	db_c_s	c6,s31	;;S34
+  264 00:CA82: 21             .DB c6*$0005+s31/$0008
   265                        
   266                        
   267                        	db_c_s	c7,s31	;;S35
+  267 00:CA83: 26             .DB c7*$0005+s31/$0008
   268                        	db_c_s	c7,s32	;;S36
+  268 00:CA84: 27             .DB c7*$0005+s32/$0008
   269                        	db_c_s	c6,s32	;;S37
+  269 00:CA85: 22             .DB c6*$0005+s32/$0008
   270                        	db_c_s	c5,s32	;;S38
+  270 00:CA86: 1D             .DB c5*$0005+s32/$0008
   271                        	db_c_s	c4,s32	;;S39
+  271 00:CA87: 18             .DB c4*$0005+s32/$0008
   272                        
   273                        
   274                        	db_c_s	c3,s32	;;S40
+  274 00:CA88: 13             .DB c3*$0005+s32/$0008
   275                        	db_c_s	c2,s32	;;S41
+  275 00:CA89: 0E             .DB c2*$0005+s32/$0008
   276                        	db_c_s	c1,s32	;;S42
+  276 00:CA8A: 09             .DB c1*$0005+s32/$0008
   277                        	db_c_s	c0,s32	;;S43
+  277 00:CA8B: 04             .DB c0*$0005+s32/$0008
   278                        	db_c_s	c0,s33	;;S44
+  278 00:CA8C: 04             .DB c0*$0005+s33/$0008
   279                        
   280                        
   281                        	db_c_s	c1,s33	;;S45
+  281 00:CA8D: 09             .DB c1*$0005+s33/$0008
   282                        	db_c_s	c2,s33	;;S46
+  282 00:CA8E: 0E             .DB c2*$0005+s33/$0008
   283                        	db_c_s	c3,s33	;;S47
+  283 00:CA8F: 13             .DB c3*$0005+s33/$0008
   284                        	db_c_s	c4,s33	;;S48
+  284 00:CA90: 18             .DB c4*$0005+s33/$0008
   285                        	db_c_s	c5,s33	;;S49
+  285 00:CA91: 1D             .DB c5*$0005+s33/$0008
   286                        
   287                        
   288                        	db_c_s	c6,s33	;;S50
+  288 00:CA92: 22             .DB c6*$0005+s33/$0008
   289                        	db_c_s	c7,s33	;;S51
+  289 00:CA93: 27             .DB c7*$0005+s33/$0008
   290                        	db_c_s	c7,s34	;;S52
+  290 00:CA94: 27             .DB c7*$0005+s34/$0008
   291                        	db_c_s	c6,s34	;;S53
+  291 00:CA95: 22             .DB c6*$0005+s34/$0008
   292                        	db_c_s	c5,s34	;;S54
+  292 00:CA96: 1D             .DB c5*$0005+s34/$0008
   293                        
   294                        
   295                        	db_c_s	c4,s34	;;S55
+  295 00:CA97: 18             .DB c4*$0005+s34/$0008
   296                        	db_c_s	c3,s34	;;S56
+  296 00:CA98: 13             .DB c3*$0005+s34/$0008
   297                        	db_c_s	c2,s34	;;S57
+  297 00:CA99: 0E             .DB c2*$0005+s34/$0008
   298                        	db_c_s	c1,s34	;;S58
+  298 00:CA9A: 09             .DB c1*$0005+s34/$0008
   299                        	db_c_s	c0,s34	;;S59
+  299 00:CA9B: 04             .DB c0*$0005+s34/$0008
   300                        	db_c_s	c0,s25	;;S60
+  300 00:CA9C: 03             .DB c0*$0005+s25/$0008
   301                        
   302                        
   303                        	db_c_s	c7,s20	;;X1
+  303 00:CA9D: 25             .DB c7*$0005+s20/$0008
   304                        	db_c_s	c7,s22	;;X2
+  304 00:CA9E: 25             .DB c7*$0005+s22/$0008
   305                        	db_c_s	c0,s37	;;X3
+  305 00:CA9F: 04             .DB c0*$0005+s37/$0008
   306                        	db_c_s	c0,s38	;;X4
+  306 00:CAA0: 04             .DB c0*$0005+s38/$0008
   307                        	db_c_s	c3,s39	;;X5
+  307 00:CAA1: 13             .DB c3*$0005+s39/$0008
   308                        
   309                        	db_c_s	c2,s39	;;X6
+  309 00:CAA2: 0E             .DB c2*$0005+s39/$0008
   310                        	db_c_s	c1,s39	;;X7
+  310 00:CAA3: 09             .DB c1*$0005+s39/$0008
   311                        	db_c_s	c0,s39	;;X8
+  311 00:CAA4: 04             .DB c0*$0005+s39/$0008
   312                        	db_c_s	c0,s35	;;X9
+  312 00:CAA5: 04             .DB c0*$0005+s35/$0008
   313                        	db_c_s	c4,s39	;;X10
+  313 00:CAA6: 18             .DB c4*$0005+s39/$0008
   314                        
   315                        	db_c_s	c5,s39	;;X11
+  315 00:CAA7: 1D             .DB c5*$0005+s39/$0008
   316                        	db_c_s	c6,s39	;;X12
+  316 00:CAA8: 22             .DB c6*$0005+s39/$0008
   317                        	db_c_s	c7,s39	;;X13
+  317 00:CAA9: 27             .DB c7*$0005+s39/$0008
   318                        
   319                        
   320                        	db_c_s	c0,s21	;;T1
+  320 00:CAAA: 02             .DB c0*$0005+s21/$0008
   321                        	db_c_s	c4,s21	;;T2
+  321 00:CAAB: 16             .DB c4*$0005+s21/$0008
   322                        	db_c_s	c3,s21	;;T3
+  322 00:CAAC: 11             .DB c3*$0005+s21/$0008
   323                        	db_c_s	c2,s21	;;T4
+  323 00:CAAD: 0C             .DB c2*$0005+s21/$0008
   324                        	db_c_s	c1,s21	;;T5
+  324 00:CAAE: 07             .DB c1*$0005+s21/$0008
   325                        
   326                        	db_c_s	c7,s8	;;T6
+  326 00:CAAF: 24             .DB c7*$0005+s8/$0008
   327                        	db_c_s	c7,s9	;;T7
+  327 00:CAB0: 24             .DB c7*$0005+s9/$0008
   328                        	db_c_s	c7,s7	;;T8
+  328 00:CAB1: 23             .DB c7*$0005+s7/$0008
   329                        
   330                        
   331                        	db_c_s	c0,s36	;;P1
+  331 00:CAB2: 04             .DB c0*$0005+s36/$0008
   332                        	db_c_s	c0,s26	;;P2
+  332 00:CAB3: 03             .DB c0*$0005+s26/$0008
   333                        	db_c_s	c0,s27	;;P3
+  333 00:CAB4: 03             .DB c0*$0005+s27/$0008
   334                        
   335                        
   336                        	db_c_s	c7,s10	;;AM
+  336 00:CAB5: 24             .DB c7*$0005+s10/$0008
   337                        
   338                        
   339                        	db_c_s	c7,s11	;;PM
+  339 00:CAB6: 24             .DB c7*$0005+s11/$0008
   340                        
   341                        
   342                        	db_c_s	c7,s23	;;C
+  342 00:CAB7: 25             .DB c7*$0005+s23/$0008
   343                        ;;lcd_end_here
   344                        
   345                        
   346                        
   347                        lcd_S1			.EQU	lcd_S0+1
   348                        lcd_S2			.EQU	lcd_S0+2
   349                        lcd_S3			.EQU	lcd_S0+3
   350                        lcd_S4			.EQU	lcd_S0+4
   351                        lcd_S5			.EQU	lcd_S0+5
   352                        lcd_S6			.EQU	lcd_S0+6
   353                        lcd_S7			.EQU	lcd_S0+7
   354                        lcd_S8			.EQU	lcd_S0+8
   355                        lcd_S9			.EQU	lcd_S0+9
   356                        lcd_S10			.EQU	lcd_S0+10
   357                        lcd_S11			.EQU	lcd_S0+11
   358                        lcd_S12			.EQU	lcd_S0+12
   359                        lcd_S13			.EQU	lcd_S0+13
   360                        lcd_S14			.EQU	lcd_S0+14
   361                        lcd_S15			.EQU	lcd_S0+15
   362                        lcd_S16			.EQU	lcd_S0+16
   363                        lcd_S17			.EQU	lcd_S0+17
   364                        lcd_S18			.EQU	lcd_S0+18
   365                        lcd_S19			.EQU	lcd_S0+19
   366                        lcd_S20			.EQU	lcd_S0+20
   367                        lcd_S21			.EQU	lcd_S0+21
   368                        lcd_S22			.EQU	lcd_S0+22
   369                        lcd_S23			.EQU	lcd_S0+23
   370                        lcd_S24			.EQU	lcd_S0+24
   371                        lcd_S25			.EQU	lcd_S0+25
   372                        lcd_S26			.EQU	lcd_S0+26
   373                        lcd_S27			.EQU	lcd_S0+27
   374                        lcd_S28			.EQU	lcd_S0+28
   375                        lcd_S29			.EQU	lcd_S0+29
   376                        lcd_S30			.EQU	lcd_S0+30
   377                        lcd_S31			.EQU	lcd_S0+31
   378                        lcd_S32			.EQU	lcd_S0+32
   379                        lcd_S33			.EQU	lcd_S0+33
   380                        lcd_S34			.EQU	lcd_S0+34
   381                        lcd_S35			.EQU	lcd_S0+35
   382                        lcd_S36			.EQU	lcd_S0+36
   383                        lcd_S37			.EQU	lcd_S0+37
   384                        lcd_S38			.EQU	lcd_S0+38
   385                        lcd_S39			.EQU	lcd_S0+39
   386                        lcd_S40			.EQU	lcd_S0+40
   387                        lcd_S41			.EQU	lcd_S0+41
   388                        lcd_S42			.EQU	lcd_S0+42
   389                        lcd_S43			.EQU	lcd_S0+43
   390                        lcd_S44			.EQU	lcd_S0+44
   391                        lcd_S45			.EQU	lcd_S0+45
   392                        lcd_S46			.EQU	lcd_S0+46
   393                        lcd_S47			.EQU	lcd_S0+47
   394                        lcd_S48			.EQU	lcd_S0+48
   395                        lcd_S49			.EQU	lcd_S0+49
   396                        lcd_S50			.EQU	lcd_S0+50
   397                        lcd_S51			.EQU	lcd_S0+51
   398                        lcd_S52			.EQU	lcd_S0+52
   399                        lcd_S53			.EQU	lcd_S0+53
   400                        lcd_S54			.EQU	lcd_S0+54
   401                        lcd_S55			.EQU	lcd_S0+55
   402                        lcd_S56			.EQU	lcd_S0+56
   403                        lcd_S57			.EQU	lcd_S0+57
   404                        lcd_S58			.EQU	lcd_S0+58
   405                        lcd_S59			.EQU	lcd_S0+59
   406                        lcd_S60			.EQU	lcd_S0+60
   407                        lcd_X1			.EQU	lcd_S0+61
   408                        lcd_X2			.EQU	lcd_S0+62
   409                        lcd_X3			.EQU	lcd_S0+63
   410                        lcd_X4			.EQU	lcd_S0+64
   411                        lcd_X5			.EQU	lcd_S0+65
   412                        lcd_X6			.EQU	lcd_S0+66
   413                        lcd_X7			.EQU	lcd_S0+67
   414                        lcd_X8			.EQU	lcd_S0+68
   415                        lcd_X9			.EQU	lcd_S0+69
   416                        lcd_X10			.EQU	lcd_S0+70
   417                        lcd_X11			.EQU	lcd_S0+71
   418                        lcd_X12			.EQU	lcd_S0+72
   419                        lcd_X13			.EQU	lcd_S0+73
   420                        lcd_T1			.EQU	lcd_S0+74
   421                        lcd_T2			.EQU	lcd_S0+75
   422                        lcd_T3			.EQU	lcd_S0+76
   423                        lcd_T4			.EQU	lcd_S0+77
   424                        lcd_T5			.EQU	lcd_S0+78
   425                        lcd_T6			.EQU	lcd_S0+79
   426                        lcd_T7			.EQU	lcd_S0+80
   427                        lcd_T8			.EQU	lcd_S0+81
   428                        lcd_P1			.EQU	lcd_S0+82
   429                        lcd_P2			.EQU	lcd_S0+83
   430                        lcd_P3			.EQU	lcd_S0+84
   431                        lcd_AM			.EQU	lcd_S0+85
   432                        lcd_PM			.EQU	lcd_S0+86
   433                        lcd_C			.EQU	lcd_S0+87
   434                        
   435                        lcd_Week		.EQU	lcd_X1
   436                        lcd_Voice		.EQU	lcd_X3
   437                        lcd_Sclient		.EQU	lcd_X4
   438                        lcd_Alarm_Clock_1	.EQU	lcd_X5
   439                        lcd_Alarm_Clock_2	.EQU	lcd_X6
   440                        lcd_Alarm_Clock_3	.EQU	lcd_X7
   441                        lcd_Alarm_Clock_4	.EQU	lcd_X8
   442                        lcd_Alarm_Clock_5	.EQU	lcd_X9
   443                        
   444                        
   445                        
   446                        
   447                        
   448                        
   449                        ;=============.EQU	lcd_=============================================
   450                        ;==========================================================
   451                        Lcd_bit:
   452                        
   453                        	    db_c_y	c0,s7	;;1A
+  453 00:CAB8: 80             .DB $0001<<(s7-s7/$0008*$0008)
   454                        	db_c_y	c2,s7	;;1B
+  454 00:CAB9: 80             .DB $0001<<(s7-s7/$0008*$0008)
   455                        	db_c_y	c5,s7	;;1C
+  455 00:CABA: 80             .DB $0001<<(s7-s7/$0008*$0008)
   456                        	db_c_y	c6,s7	;;1D
+  456 00:CABB: 80             .DB $0001<<(s7-s7/$0008*$0008)
   457                        	db_c_y	c4,s7	;;1E
+  457 00:CABC: 80             .DB $0001<<(s7-s7/$0008*$0008)
   458                        	db_c_y	c1,s7	;;1F
+  458 00:CABD: 80             .DB $0001<<(s7-s7/$0008*$0008)
   459                        	db_c_y	c3,s7	;;1G
+  459 00:CABE: 80             .DB $0001<<(s7-s7/$0008*$0008)
   460                        
   461                        
   462                        	db_c_y	c0,s8	;;2A
+  462 00:CABF: 01             .DB $0001<<(s8-s8/$0008*$0008)
   463                        	db_c_y	c2,s8	;;2B
+  463 00:CAC0: 01             .DB $0001<<(s8-s8/$0008*$0008)
   464                        	db_c_y	c5,s8	;;2C
+  464 00:CAC1: 01             .DB $0001<<(s8-s8/$0008*$0008)
   465                        	db_c_y	c6,s8	;;2D
+  465 00:CAC2: 01             .DB $0001<<(s8-s8/$0008*$0008)
   466                        	db_c_y	c4,s8	;;2E
+  466 00:CAC3: 01             .DB $0001<<(s8-s8/$0008*$0008)
   467                        	db_c_y	c1,s8	;;2F
+  467 00:CAC4: 01             .DB $0001<<(s8-s8/$0008*$0008)
   468                        	db_c_y	c3,s8	;;2G
+  468 00:CAC5: 01             .DB $0001<<(s8-s8/$0008*$0008)
   469                        
   470                        
   471                        	db_c_y	c0,s9	;;3A
+  471 00:CAC6: 02             .DB $0001<<(s9-s9/$0008*$0008)
   472                        	db_c_y	c2,s9	;;3B
+  472 00:CAC7: 02             .DB $0001<<(s9-s9/$0008*$0008)
   473                        	db_c_y	c5,s9	;;3C
+  473 00:CAC8: 02             .DB $0001<<(s9-s9/$0008*$0008)
   474                        	db_c_y	c6,s9	;;3D
+  474 00:CAC9: 02             .DB $0001<<(s9-s9/$0008*$0008)
   475                        	db_c_y	c4,s9	;;3E
+  475 00:CACA: 02             .DB $0001<<(s9-s9/$0008*$0008)
   476                        	db_c_y	c1,s9	;;3F
+  476 00:CACB: 02             .DB $0001<<(s9-s9/$0008*$0008)
   477                        	db_c_y	c3,s9	;;3G
+  477 00:CACC: 02             .DB $0001<<(s9-s9/$0008*$0008)
   478                        
   479                        
   480                        	db_c_y	c0,s10	;;4A
+  480 00:CACD: 04             .DB $0001<<(s10-s10/$0008*$0008)
   481                        	db_c_y	c2,s10	;;4B
+  481 00:CACE: 04             .DB $0001<<(s10-s10/$0008*$0008)
   482                        	db_c_y	c5,s10	;;4C
+  482 00:CACF: 04             .DB $0001<<(s10-s10/$0008*$0008)
   483                        	db_c_y	c6,s10	;;4D
+  483 00:CAD0: 04             .DB $0001<<(s10-s10/$0008*$0008)
   484                        	db_c_y	c4,s10	;;4E
+  484 00:CAD1: 04             .DB $0001<<(s10-s10/$0008*$0008)
   485                        	db_c_y	c1,s10	;;4F
+  485 00:CAD2: 04             .DB $0001<<(s10-s10/$0008*$0008)
   486                        	db_c_y	c3,s10	;;4G
+  486 00:CAD3: 04             .DB $0001<<(s10-s10/$0008*$0008)
   487                        
   488                        
   489                        	db_c_y	c0,s11	;;5A
+  489 00:CAD4: 08             .DB $0001<<(s11-s11/$0008*$0008)
   490                        	db_c_y	c2,s11	;;5B
+  490 00:CAD5: 08             .DB $0001<<(s11-s11/$0008*$0008)
   491                        	db_c_y	c5,s11	;;5C
+  491 00:CAD6: 08             .DB $0001<<(s11-s11/$0008*$0008)
   492                        	db_c_y	c6,s11	;;5D
+  492 00:CAD7: 08             .DB $0001<<(s11-s11/$0008*$0008)
   493                        	db_c_y	c4,s11	;;5E
+  493 00:CAD8: 08             .DB $0001<<(s11-s11/$0008*$0008)
   494                        	db_c_y	c1,s11	;;5F
+  494 00:CAD9: 08             .DB $0001<<(s11-s11/$0008*$0008)
   495                        	db_c_y	c3,s11	;;5G
+  495 00:CADA: 08             .DB $0001<<(s11-s11/$0008*$0008)
   496                        
   497                        
   498                        	db_c_y	c0,s20	;;6A
+  498 00:CADB: 10             .DB $0001<<(s20-s20/$0008*$0008)
   499                        	db_c_y	c2,s20	;;6B
+  499 00:CADC: 10             .DB $0001<<(s20-s20/$0008*$0008)
   500                        	db_c_y	c5,s20	;;6C
+  500 00:CADD: 10             .DB $0001<<(s20-s20/$0008*$0008)
   501                        	db_c_y	c6,s20	;;6D
+  501 00:CADE: 10             .DB $0001<<(s20-s20/$0008*$0008)
   502                        	db_c_y	c4,s20	;;6E
+  502 00:CADF: 10             .DB $0001<<(s20-s20/$0008*$0008)
   503                        	db_c_y	c1,s20	;;6F
+  503 00:CAE0: 10             .DB $0001<<(s20-s20/$0008*$0008)
   504                        	db_c_y	c3,s20	;;6G
+  504 00:CAE1: 10             .DB $0001<<(s20-s20/$0008*$0008)
   505                        
   506                        
   507                        	db_c_y	c0,s22	;;7A
+  507 00:CAE2: 40             .DB $0001<<(s22-s22/$0008*$0008)
   508                        	db_c_y	c2,s22	;;7B
+  508 00:CAE3: 40             .DB $0001<<(s22-s22/$0008*$0008)
   509                        	db_c_y	c5,s22	;;7C
+  509 00:CAE4: 40             .DB $0001<<(s22-s22/$0008*$0008)
   510                        	db_c_y	c6,s22	;;7D
+  510 00:CAE5: 40             .DB $0001<<(s22-s22/$0008*$0008)
   511                        	db_c_y	c4,s22	;;7E
+  511 00:CAE6: 40             .DB $0001<<(s22-s22/$0008*$0008)
   512                        	db_c_y	c1,s22	;;7F
+  512 00:CAE7: 40             .DB $0001<<(s22-s22/$0008*$0008)
   513                        	db_c_y	c3,s22	;;7G
+  513 00:CAE8: 40             .DB $0001<<(s22-s22/$0008*$0008)
   514                        
   515                        
   516                        	db_c_y	c0,s23	;;8A
+  516 00:CAE9: 80             .DB $0001<<(s23-s23/$0008*$0008)
   517                        	db_c_y	c2,s23	;;8B
+  517 00:CAEA: 80             .DB $0001<<(s23-s23/$0008*$0008)
   518                        	db_c_y	c5,s23	;;8C
+  518 00:CAEB: 80             .DB $0001<<(s23-s23/$0008*$0008)
   519                        	db_c_y	c6,s23	;;8D
+  519 00:CAEC: 80             .DB $0001<<(s23-s23/$0008*$0008)
   520                        	db_c_y	c4,s23	;;8E
+  520 00:CAED: 80             .DB $0001<<(s23-s23/$0008*$0008)
   521                        	db_c_y	c1,s23	;;8F
+  521 00:CAEE: 80             .DB $0001<<(s23-s23/$0008*$0008)
   522                        	db_c_y	c3,s23	;;8G
+  522 00:CAEF: 80             .DB $0001<<(s23-s23/$0008*$0008)
   523                        
   524                        
   525                        	db_c_y	c7,s35	;;14A
+  525 00:CAF0: 08             .DB $0001<<(s35-s35/$0008*$0008)
   526                        	db_c_y	c5,s35	;;14B
+  526 00:CAF1: 08             .DB $0001<<(s35-s35/$0008*$0008)
   527                        	db_c_y	c2,s35	;;14C
+  527 00:CAF2: 08             .DB $0001<<(s35-s35/$0008*$0008)
   528                        	db_c_y	c1,s35	;;14D
+  528 00:CAF3: 08             .DB $0001<<(s35-s35/$0008*$0008)
   529                        	db_c_y	c3,s35	;;14E
+  529 00:CAF4: 08             .DB $0001<<(s35-s35/$0008*$0008)
   530                        	db_c_y	c6,s35	;;14F
+  530 00:CAF5: 08             .DB $0001<<(s35-s35/$0008*$0008)
   531                        	db_c_y	c4,s35	;;14G
+  531 00:CAF6: 08             .DB $0001<<(s35-s35/$0008*$0008)
   532                        
   533                        
   534                        	db_c_y	c7,s36	;;15A
+  534 00:CAF7: 10             .DB $0001<<(s36-s36/$0008*$0008)
   535                        	db_c_y	c5,s36	;;15B
+  535 00:CAF8: 10             .DB $0001<<(s36-s36/$0008*$0008)
   536                        	db_c_y	c2,s36	;;15C
+  536 00:CAF9: 10             .DB $0001<<(s36-s36/$0008*$0008)
   537                        	db_c_y	c1,s36	;;15D
+  537 00:CAFA: 10             .DB $0001<<(s36-s36/$0008*$0008)
   538                        	db_c_y	c3,s36	;;15E
+  538 00:CAFB: 10             .DB $0001<<(s36-s36/$0008*$0008)
   539                        	db_c_y	c6,s36	;;15F
+  539 00:CAFC: 10             .DB $0001<<(s36-s36/$0008*$0008)
   540                        	db_c_y	c4,s36	;;15G
+  540 00:CAFD: 10             .DB $0001<<(s36-s36/$0008*$0008)
   541                        
   542                        
   543                        	db_c_y	c7,s37	;;16A
+  543 00:CAFE: 20             .DB $0001<<(s37-s37/$0008*$0008)
   544                        	db_c_y	c5,s37	;;16B
+  544 00:CAFF: 20             .DB $0001<<(s37-s37/$0008*$0008)
   545                        	db_c_y	c2,s37	;;16C
+  545 00:CB00: 20             .DB $0001<<(s37-s37/$0008*$0008)
   546                        	db_c_y	c1,s37	;;16D
+  546 00:CB01: 20             .DB $0001<<(s37-s37/$0008*$0008)
   547                        	db_c_y	c3,s37	;;16E
+  547 00:CB02: 20             .DB $0001<<(s37-s37/$0008*$0008)
   548                        	db_c_y	c6,s37	;;16F
+  548 00:CB03: 20             .DB $0001<<(s37-s37/$0008*$0008)
   549                        	db_c_y	c4,s37	;;16G
+  549 00:CB04: 20             .DB $0001<<(s37-s37/$0008*$0008)
   550                        
   551                        
   552                        	db_c_y	c7,s38	;;17A
+  552 00:CB05: 40             .DB $0001<<(s38-s38/$0008*$0008)
   553                        	db_c_y	c5,s38	;;17B
+  553 00:CB06: 40             .DB $0001<<(s38-s38/$0008*$0008)
   554                        	db_c_y	c2,s38	;;17C
+  554 00:CB07: 40             .DB $0001<<(s38-s38/$0008*$0008)
   555                        	db_c_y	c1,s38	;;17D
+  555 00:CB08: 40             .DB $0001<<(s38-s38/$0008*$0008)
   556                        	db_c_y	c3,s38	;;17E
+  556 00:CB09: 40             .DB $0001<<(s38-s38/$0008*$0008)
   557                        	db_c_y	c6,s38	;;17F
+  557 00:CB0A: 40             .DB $0001<<(s38-s38/$0008*$0008)
   558                        	db_c_y	c4,s38	;;17G
+  558 00:CB0B: 40             .DB $0001<<(s38-s38/$0008*$0008)
   559                        
   560                        
   561                        	db_c_y	c1,s24	;;18A
+  561 00:CB0C: 01             .DB $0001<<(s24-s24/$0008*$0008)
   562                        	db_c_y	c3,s24	;;18B
+  562 00:CB0D: 01             .DB $0001<<(s24-s24/$0008*$0008)
   563                        	db_c_y	c6,s24	;;18C
+  563 00:CB0E: 01             .DB $0001<<(s24-s24/$0008*$0008)
   564                        	db_c_y	c7,s24	;;18D
+  564 00:CB0F: 01             .DB $0001<<(s24-s24/$0008*$0008)
   565                        	db_c_y	c5,s24	;;18E
+  565 00:CB10: 01             .DB $0001<<(s24-s24/$0008*$0008)
   566                        	db_c_y	c2,s24	;;18F
+  566 00:CB11: 01             .DB $0001<<(s24-s24/$0008*$0008)
   567                        	db_c_y	c4,s24	;;18G
+  567 00:CB12: 01             .DB $0001<<(s24-s24/$0008*$0008)
   568                        
   569                        
   570                        	db_c_y	c1,s25	;;19A
+  570 00:CB13: 02             .DB $0001<<(s25-s25/$0008*$0008)
   571                        	db_c_y	c3,s25	;;19B
+  571 00:CB14: 02             .DB $0001<<(s25-s25/$0008*$0008)
   572                        	db_c_y	c6,s25	;;19C
+  572 00:CB15: 02             .DB $0001<<(s25-s25/$0008*$0008)
   573                        	db_c_y	c7,s25	;;19D
+  573 00:CB16: 02             .DB $0001<<(s25-s25/$0008*$0008)
   574                        	db_c_y	c5,s25	;;19E
+  574 00:CB17: 02             .DB $0001<<(s25-s25/$0008*$0008)
   575                        	db_c_y	c2,s25	;;19F
+  575 00:CB18: 02             .DB $0001<<(s25-s25/$0008*$0008)
   576                        	db_c_y	c4,s25	;;19G
+  576 00:CB19: 02             .DB $0001<<(s25-s25/$0008*$0008)
   577                        
   578                        
   579                        	db_c_y	c1,s26	;;20A
+  579 00:CB1A: 04             .DB $0001<<(s26-s26/$0008*$0008)
   580                        	db_c_y	c3,s26	;;20B
+  580 00:CB1B: 04             .DB $0001<<(s26-s26/$0008*$0008)
   581                        	db_c_y	c6,s26	;;20C
+  581 00:CB1C: 04             .DB $0001<<(s26-s26/$0008*$0008)
   582                        	db_c_y	c7,s26	;;20D
+  582 00:CB1D: 04             .DB $0001<<(s26-s26/$0008*$0008)
   583                        	db_c_y	c5,s26	;;20E
+  583 00:CB1E: 04             .DB $0001<<(s26-s26/$0008*$0008)
   584                        	db_c_y	c2,s26	;;20F
+  584 00:CB1F: 04             .DB $0001<<(s26-s26/$0008*$0008)
   585                        	db_c_y	c4,s26	;;20G
+  585 00:CB20: 04             .DB $0001<<(s26-s26/$0008*$0008)
   586                        
   587                        
   588                        	db_c_y	c1,s27	;;21A
+  588 00:CB21: 08             .DB $0001<<(s27-s27/$0008*$0008)
   589                        	db_c_y	c3,s27	;;21B
+  589 00:CB22: 08             .DB $0001<<(s27-s27/$0008*$0008)
   590                        	db_c_y	c6,s27	;;21C
+  590 00:CB23: 08             .DB $0001<<(s27-s27/$0008*$0008)
   591                        	db_c_y	c7,s27	;;21D
+  591 00:CB24: 08             .DB $0001<<(s27-s27/$0008*$0008)
   592                        	db_c_y	c5,s27	;;21E
+  592 00:CB25: 08             .DB $0001<<(s27-s27/$0008*$0008)
   593                        	db_c_y	c2,s27	;;21F
+  593 00:CB26: 08             .DB $0001<<(s27-s27/$0008*$0008)
   594                        	db_c_y	c4,s27	;;21G
+  594 00:CB27: 08             .DB $0001<<(s27-s27/$0008*$0008)
   595                        
   596                        
   597                        
   598                        	db_c_y	c0,s24	;;S0
+  598 00:CB28: 01             .DB $0001<<(s24-s24/$0008*$0008)
   599                        	db_c_y	c5,s21	;;S1
+  599 00:CB29: 20             .DB $0001<<(s21-s21/$0008*$0008)
   600                        	db_c_y	c6,s21	;;S2
+  600 00:CB2A: 20             .DB $0001<<(s21-s21/$0008*$0008)
   601                        	db_c_y	c7,s21	;;S3
+  601 00:CB2B: 20             .DB $0001<<(s21-s21/$0008*$0008)
   602                        	db_c_y	c7,s28	;;S4
+  602 00:CB2C: 10             .DB $0001<<(s28-s28/$0008*$0008)
   603                        
   604                        	db_c_y	c6,s28	;;S5
+  604 00:CB2D: 10             .DB $0001<<(s28-s28/$0008*$0008)
   605                        	db_c_y	c5,s28	;;S6
+  605 00:CB2E: 10             .DB $0001<<(s28-s28/$0008*$0008)
   606                        	db_c_y	c4,s28	;;S7
+  606 00:CB2F: 10             .DB $0001<<(s28-s28/$0008*$0008)
   607                        	db_c_y	c3,s28	;;S8
+  607 00:CB30: 10             .DB $0001<<(s28-s28/$0008*$0008)
   608                        	db_c_y	c2,s28	;;S9
+  608 00:CB31: 10             .DB $0001<<(s28-s28/$0008*$0008)
   609                        
   610                        
   611                        	db_c_y	c1,s28	;;S10
+  611 00:CB32: 10             .DB $0001<<(s28-s28/$0008*$0008)
   612                        	db_c_y	c0,s28	;;S11
+  612 00:CB33: 10             .DB $0001<<(s28-s28/$0008*$0008)
   613                        	db_c_y	c0,s29	;;S12
+  613 00:CB34: 20             .DB $0001<<(s29-s29/$0008*$0008)
   614                        	db_c_y	c1,s29	;;S13
+  614 00:CB35: 20             .DB $0001<<(s29-s29/$0008*$0008)
   615                        	db_c_y	c2,s29	;;S14
+  615 00:CB36: 20             .DB $0001<<(s29-s29/$0008*$0008)
   616                        
   617                        
   618                        	db_c_y	c3,s29	;;S15
+  618 00:CB37: 20             .DB $0001<<(s29-s29/$0008*$0008)
   619                        	db_c_y	c4,s29	;;S16
+  619 00:CB38: 20             .DB $0001<<(s29-s29/$0008*$0008)
   620                        	db_c_y	c5,s29	;;S17
+  620 00:CB39: 20             .DB $0001<<(s29-s29/$0008*$0008)
   621                        	db_c_y	c6,s29	;;S18
+  621 00:CB3A: 20             .DB $0001<<(s29-s29/$0008*$0008)
   622                        	db_c_y	c7,s29	;;S19
+  622 00:CB3B: 20             .DB $0001<<(s29-s29/$0008*$0008)
   623                        
   624                        
   625                        	db_c_y	c7,s30	;;S20
+  625 00:CB3C: 40             .DB $0001<<(s30-s30/$0008*$0008)
   626                        	db_c_y	c6,s30	;;S21
+  626 00:CB3D: 40             .DB $0001<<(s30-s30/$0008*$0008)
   627                        	db_c_y	c5,s30	;;S22
+  627 00:CB3E: 40             .DB $0001<<(s30-s30/$0008*$0008)
   628                        	db_c_y	c4,s30	;;S23
+  628 00:CB3F: 40             .DB $0001<<(s30-s30/$0008*$0008)
   629                        	db_c_y	c3,s30	;;S24
+  629 00:CB40: 40             .DB $0001<<(s30-s30/$0008*$0008)
   630                        
   631                        
   632                        	db_c_y	c2,s30	;;S25
+  632 00:CB41: 40             .DB $0001<<(s30-s30/$0008*$0008)
   633                        	db_c_y	c1,s30	;;S26
+  633 00:CB42: 40             .DB $0001<<(s30-s30/$0008*$0008)
   634                        	db_c_y	c0,s30	;;S27
+  634 00:CB43: 40             .DB $0001<<(s30-s30/$0008*$0008)
   635                        	db_c_y	c0,s31	;;S28
+  635 00:CB44: 80             .DB $0001<<(s31-s31/$0008*$0008)
   636                        	db_c_y	c1,s31	;;S29
+  636 00:CB45: 80             .DB $0001<<(s31-s31/$0008*$0008)
   637                        
   638                        
   639                        	db_c_y	c2,s31	;;S30
+  639 00:CB46: 80             .DB $0001<<(s31-s31/$0008*$0008)
   640                        	db_c_y	c3,s31	;;S31
+  640 00:CB47: 80             .DB $0001<<(s31-s31/$0008*$0008)
   641                        	db_c_y	c4,s31	;;S32
+  641 00:CB48: 80             .DB $0001<<(s31-s31/$0008*$0008)
   642                        	db_c_y	c5,s31	;;S33
+  642 00:CB49: 80             .DB $0001<<(s31-s31/$0008*$0008)
   643                        	db_c_y	c6,s31	;;S34
+  643 00:CB4A: 80             .DB $0001<<(s31-s31/$0008*$0008)
   644                        
   645                        
   646                        	db_c_y	c7,s31	;;S35
+  646 00:CB4B: 80             .DB $0001<<(s31-s31/$0008*$0008)
   647                        	db_c_y	c7,s32	;;S36
+  647 00:CB4C: 01             .DB $0001<<(s32-s32/$0008*$0008)
   648                        	db_c_y	c6,s32	;;S37
+  648 00:CB4D: 01             .DB $0001<<(s32-s32/$0008*$0008)
   649                        	db_c_y	c5,s32	;;S38
+  649 00:CB4E: 01             .DB $0001<<(s32-s32/$0008*$0008)
   650                        	db_c_y	c4,s32	;;S39
+  650 00:CB4F: 01             .DB $0001<<(s32-s32/$0008*$0008)
   651                        
   652                        
   653                        	db_c_y	c3,s32	;;S40
+  653 00:CB50: 01             .DB $0001<<(s32-s32/$0008*$0008)
   654                        	db_c_y	c2,s32	;;S41
+  654 00:CB51: 01             .DB $0001<<(s32-s32/$0008*$0008)
   655                        	db_c_y	c1,s32	;;S42
+  655 00:CB52: 01             .DB $0001<<(s32-s32/$0008*$0008)
   656                        	db_c_y	c0,s32	;;S43
+  656 00:CB53: 01             .DB $0001<<(s32-s32/$0008*$0008)
   657                        	db_c_y	c0,s33	;;S44
+  657 00:CB54: 02             .DB $0001<<(s33-s33/$0008*$0008)
   658                        
   659                        
   660                        	db_c_y	c1,s33	;;S45
+  660 00:CB55: 02             .DB $0001<<(s33-s33/$0008*$0008)
   661                        	db_c_y	c2,s33	;;S46
+  661 00:CB56: 02             .DB $0001<<(s33-s33/$0008*$0008)
   662                        	db_c_y	c3,s33	;;S47
+  662 00:CB57: 02             .DB $0001<<(s33-s33/$0008*$0008)
   663                        	db_c_y	c4,s33	;;S48
+  663 00:CB58: 02             .DB $0001<<(s33-s33/$0008*$0008)
   664                        	db_c_y	c5,s33	;;S49
+  664 00:CB59: 02             .DB $0001<<(s33-s33/$0008*$0008)
   665                        
   666                        
   667                        	db_c_y	c6,s33	;;S50
+  667 00:CB5A: 02             .DB $0001<<(s33-s33/$0008*$0008)
   668                        	db_c_y	c7,s33	;;S51
+  668 00:CB5B: 02             .DB $0001<<(s33-s33/$0008*$0008)
   669                        	db_c_y	c7,s34	;;S52
+  669 00:CB5C: 04             .DB $0001<<(s34-s34/$0008*$0008)
   670                        	db_c_y	c6,s34	;;S53
+  670 00:CB5D: 04             .DB $0001<<(s34-s34/$0008*$0008)
   671                        	db_c_y	c5,s34	;;S54
+  671 00:CB5E: 04             .DB $0001<<(s34-s34/$0008*$0008)
   672                        
   673                        
   674                        	db_c_y	c4,s34	;;S55
+  674 00:CB5F: 04             .DB $0001<<(s34-s34/$0008*$0008)
   675                        	db_c_y	c3,s34	;;S56
+  675 00:CB60: 04             .DB $0001<<(s34-s34/$0008*$0008)
   676                        	db_c_y	c2,s34	;;S57
+  676 00:CB61: 04             .DB $0001<<(s34-s34/$0008*$0008)
   677                        	db_c_y	c1,s34	;;S58
+  677 00:CB62: 04             .DB $0001<<(s34-s34/$0008*$0008)
   678                        	db_c_y	c0,s34	;;S59
+  678 00:CB63: 04             .DB $0001<<(s34-s34/$0008*$0008)
   679                        	db_c_y	c0,s25	;;S60
+  679 00:CB64: 02             .DB $0001<<(s25-s25/$0008*$0008)
   680                        
   681                        
   682                        	db_c_y	c7,s20	;;X1
+  682 00:CB65: 10             .DB $0001<<(s20-s20/$0008*$0008)
   683                        	db_c_y	c7,s22	;;X2
+  683 00:CB66: 40             .DB $0001<<(s22-s22/$0008*$0008)
   684                        	db_c_y	c0,s37	;;X3
+  684 00:CB67: 20             .DB $0001<<(s37-s37/$0008*$0008)
   685                        	db_c_y	c0,s38	;;X4
+  685 00:CB68: 40             .DB $0001<<(s38-s38/$0008*$0008)
   686                        	db_c_y	c3,s39	;;X5
+  686 00:CB69: 80             .DB $0001<<(s39-s39/$0008*$0008)
   687                        
   688                        	db_c_y	c2,s39	;;X6
+  688 00:CB6A: 80             .DB $0001<<(s39-s39/$0008*$0008)
   689                        	db_c_y	c1,s39	;;X7
+  689 00:CB6B: 80             .DB $0001<<(s39-s39/$0008*$0008)
   690                        	db_c_y	c0,s39	;;X8
+  690 00:CB6C: 80             .DB $0001<<(s39-s39/$0008*$0008)
   691                        	db_c_y	c0,s35	;;X9
+  691 00:CB6D: 08             .DB $0001<<(s35-s35/$0008*$0008)
   692                        	db_c_y	c4,s39	;;X10
+  692 00:CB6E: 80             .DB $0001<<(s39-s39/$0008*$0008)
   693                        
   694                        	db_c_y	c5,s39	;;X11
+  694 00:CB6F: 80             .DB $0001<<(s39-s39/$0008*$0008)
   695                        	db_c_y	c6,s39	;;X12
+  695 00:CB70: 80             .DB $0001<<(s39-s39/$0008*$0008)
   696                        	db_c_y	c7,s39	;;X13
+  696 00:CB71: 80             .DB $0001<<(s39-s39/$0008*$0008)
   697                        
   698                        
   699                        	db_c_y	c0,s21	;;T1
+  699 00:CB72: 20             .DB $0001<<(s21-s21/$0008*$0008)
   700                        	db_c_y	c4,s21	;;T2
+  700 00:CB73: 20             .DB $0001<<(s21-s21/$0008*$0008)
   701                        	db_c_y	c3,s21	;;T3
+  701 00:CB74: 20             .DB $0001<<(s21-s21/$0008*$0008)
   702                        	db_c_y	c2,s21	;;T4
+  702 00:CB75: 20             .DB $0001<<(s21-s21/$0008*$0008)
   703                        	db_c_y	c1,s21	;;T5
+  703 00:CB76: 20             .DB $0001<<(s21-s21/$0008*$0008)
   704                        
   705                        	db_c_y	c7,s8	;;T6
+  705 00:CB77: 01             .DB $0001<<(s8-s8/$0008*$0008)
   706                        	db_c_y	c7,s9	;;T7
+  706 00:CB78: 02             .DB $0001<<(s9-s9/$0008*$0008)
   707                        	db_c_y	c7,s7	;;T8
+  707 00:CB79: 80             .DB $0001<<(s7-s7/$0008*$0008)
   708                        
   709                        
   710                        	db_c_y	c0,s36	;;P1
+  710 00:CB7A: 10             .DB $0001<<(s36-s36/$0008*$0008)
   711                        	db_c_y	c0,s26	;;P2
+  711 00:CB7B: 04             .DB $0001<<(s26-s26/$0008*$0008)
   712                        	db_c_y	c0,s27	;;P3
+  712 00:CB7C: 08             .DB $0001<<(s27-s27/$0008*$0008)
   713                        
   714                        
   715                        	db_c_y	c7,s10	;;AM
+  715 00:CB7D: 04             .DB $0001<<(s10-s10/$0008*$0008)
   716                        
   717                        
   718                        	db_c_y	c7,s11	;;PM
+  718 00:CB7E: 08             .DB $0001<<(s11-s11/$0008*$0008)
   719                        
   720                        
   721                        	db_c_y	c7,s23	;;C
+  721 00:CB7F: 80             .DB $0001<<(s23-s23/$0008*$0008)
   721                        
   187                        ;
   188                        ;
   189                        ;
   190                        ;
   191                        ;
   192                        .INCLUDE	Half_s\Half.asm
     1                        L_Half_Second_Prog:
     2 00:CB80: 30 AA 0B      	BBR0 	Sys_Flag_B,L_END_Half_Second_Prog	;判断半秒标志
     3 00:CB83: 20 AA         	RMB0 	Sys_Flag_B							;清楚半秒标志
     4 00:CB85: 73 B0         	LDA		R_Reset_Time
     5 00:CB87: 12 0C         	BNE		L_Reset_2s_Prog
     6 00:CB89: 39 AA 03      	BBS1	Sys_Flag_B,L_1Second_Prog			;判断一秒标志
     7 00:CB8C: 29 AA         	SMB1	Sys_Flag_B							;设置1秒标志
     8                        	; JSR		L_SysFlash_Prog						;闪烁程序
     9                        L_END_Half_Second_Prog:
    10 00:CB8E: 09                RTS
    11                        ;=================================================================
    12                        L_1Second_Prog:
    13 00:CB8F: 21 AA             RMB1    Sys_Flag_B;清除1秒标志
    14 00:CB91: 15 B2 CB      	JSR     L_Update_Time_Prog
    15                        ; 	JSR		L_Alarm_Prog
    16                        ; 	JSR		L_Control_Timer_Prog
    17                        ; 	LDA		R_Time_Sec
    18                        ; 	CMP		#30
    19                        ; 	BNE		L_1Second_Prog_Countine
    20                        ; 	JSR 	F_RfcTest
    21                        ; 	JSR		L_Display_Temp_Prog
    22                        ; L_1Second_Prog_Countine:
    23                        ; 	JSR		L_Display_Normal_Prog
    24 00:CB94: 09            	RTS
    25                        ;==============================================================
    26                        L_Reset_2s_Prog:;全显
    27 00:CB95: 79 B0         	DEC		R_Reset_Time
    28 00:CB97: 73 B0         	LDA		R_Reset_Time
    29 00:CB99: 12 16         	BNE		L_End_Reset_2s_Prog
    30 00:CB9B: 15 57 C1      	JSR		L_Clr_All_DisRam_Prog
    31 00:CB9E: 15 A3 C1      	JSR		L_Display_Prog
    32 00:CBA1: 15 2A C8      	JSR		L_Display_Prog_Init
    33 00:CBA4: 15 DB C3      	JSR		L_Display_Timer_Prog
    34 00:CBA7: 15 34 C5      	JSR		L_Clr_All_TurnPlate_Prog
    35 00:CBAA: 15 FF C7      	JSR		L_Display_Temp_Prog
    36 00:CBAD: 15 E6 C7      	JSR		L_Display_Beep_Sclient_Prog
    37 00:CBB0: 09            	RTS
    38                        L_End_Reset_2s_Prog:
    39 00:CBB1: 09            	RTS
    39                        
   193                        .INCLUDE	Half_s\Clock.asm
     1                        ;=========================
     2                        L_Update_Time_Prog:
     3 00:CBB2: 15 D2 CB      	JSR		L_Update_Time_Sec_Prog
     4                        
     5                        
     6 00:CBB5: 10 1A         	BCC		L_End_Update_Time_Prog
     7                        
     8                        
     9 00:CBB7: 15 D7 CB      	JSR		L_Update_Time_Min_Prog
    10                        
    11                        
    12 00:CBBA: 10 15         	BCC		L_End_Update_Time_Prog
    13                        
    14                        
    15 00:CBBC: 15 DC CB      	JSR		L_Update_Time_Hr_Prog
    16                        
    17                        
    18 00:CBBF: 10 10         	BCC		L_End_Update_Time_Prog
    19                        
    20 00:CBC1: 15 E3 CB      	JSR		L_Update_Time_Day_Prog
    21                        
    22                        
    23 00:CBC4: 10 08         	BCC		L_End_Update_Date_Prog
    24                        
    25 00:CBC6: 15 EB CB      	JSR		L_Update_Time_Month_Prog
    26                        
    27                        
    28 00:CBC9: 10 03         	BCC		L_End_Update_Date_Prog
    29                        
    30 00:CBCB: 15 F2 CB      	JSR		L_Update_Time_Year_Prog
    31                        
    32                        
    33                        L_End_Update_Date_Prog:
    34 00:CBCE: 15 D8 CC      	JSR		L_Auto_Counter_Week
    35                        L_End_Update_Time_Prog:
    36 00:CBD1: 09            	RTS
    37                        
    38                        ;===================================
    39                        ;-----时间的增加---------------------
    40                        ;===================================
    41                        ;----------------------------------
    42                        L_Update_Time_Sec_Prog:
    43 00:CBD2: 5E 00         	LDX 	#(R_Time_Sec-Time_Str_Addr)
    44 00:CBD4: 16 23 CC      	JMP		L_Inc_To_60_Prog
    45                        L_Update_Time_Min_Prog:;时间分钟更新加
    46 00:CBD7: 5E 01         	LDX		#(R_Time_Min-Time_Str_Addr)
    47 00:CBD9: 16 23 CC      	JMP		L_Inc_To_60_Prog
    48                        ;---------------------------
    49                        L_Update_Time_Hr_Prog:;时间小时更新加
    50 00:CBDC: 5E 02         	LDX		#(R_Time_Hr-Time_Str_Addr)
    51 00:CBDE: 53 23         	LDA		#23H
    52 00:CBE0: 16 25 CC      	JMP		L_Inc_To_Any_Count_Prog
    53                        ;----------------------------------
    54                        L_Update_Time_Day_Prog:;时间天数更新加
    55 00:CBE3: 15 87 CC      	JSR		L_Check_MaxDay_Prog
    56 00:CBE6: 5E 03         	LDX		#(R_Time_Day-Time_Str_Addr)
    57 00:CBE8: 16 42 CC      	JMP		L_Inc_To_Any_Count_Prog_To_1
    58                        ;-------------------------------------
    59                        L_Update_Time_Month_Prog:;时间月更新加
    60 00:CBEB: 5E 04         	LDX		#(R_Time_Month-Time_Str_Addr)
    61 00:CBED: 53 12         	LDA		#12H
    62 00:CBEF: 16 42 CC      	JMP		L_Inc_To_Any_Count_Prog_To_1
    63                        
    64                        ;----------------------------------
    65                        L_Update_Time_Year_Prog:;时间年更新加
    66 00:CBF2: 5E 05         	LDX		#(R_Time_Year-Time_Str_Addr)
    67 00:CBF4: 53 99         	LDA		#99H
    68 00:CBF6: 15 25 CC      	JSR		L_Inc_To_Any_Count_Prog
    69 00:CBF9: 15 9C CC      	JSR		L_Judge_MaxDay_Prog
    70 00:CBFC: 09            	RTS
    71                        ;======================================
    72                        
    73                        L_Update_Time_Min_Prog_DEC:;时间分钟更新减
    74 00:CBFD: 5E 01         	LDX		#(R_Time_Min-Time_Str_Addr)
    75 00:CBFF: 16 5D CC      	JMP		L_Dec_To_60_Prog
    76                        ;---------------------------
    77                        L_Update_Time_Hr_Prog_DEC:;时间小时更新加
    78 00:CC02: 5E 02         	LDX		#(R_Time_Hr-Time_Str_Addr)
    79 00:CC04: 53 23         	LDA		#23H
    80 00:CC06: 16 63 CC      	JMP		L_Dec_To_Anycount_Prog
    81                        ;----------------------------------
    82                        L_Update_Time_Day_Prog_DEC:;时间天数更新加
    83 00:CC09: 15 87 CC      	JSR		L_Check_MaxDay_Prog
    84 00:CC0C: 5E 03         	LDX		#(R_Time_Day-Time_Str_Addr)
    85 00:CC0E: 16 80 CC      	JMP		L_Dec_To_1_Prog
    86                        ;-------------------------------------
    87                        L_Update_Time_Month_Prog_DEC:;时间月更新加
    88 00:CC11: 5E 04         	LDX		#(R_Time_Month-Time_Str_Addr)
    89 00:CC13: 53 12         	LDA		#12H
    90 00:CC15: 16 80 CC      	JMP		L_Dec_To_1_Prog
    91                        
    92                        ;----------------------------------
    93                        L_Update_Time_Year_Prog_DEC:;时间年更新加
    94 00:CC18: 5E 05         	LDX		#(R_Time_Year-Time_Str_Addr)
    95 00:CC1A: 53 99         	LDA		#99H
    96 00:CC1C: 15 63 CC      	JSR		L_Dec_To_Anycount_Prog
    97 00:CC1F: 15 9C CC      	JSR		L_Judge_MaxDay_Prog
    98 00:CC22: 09            	RTS
    99                        ;================================
   100                        L_Inc_To_60_Prog:;将数从0加到59
   101 00:CC23: 53 59         	LDA		#59H
   102                        L_Inc_To_Any_Count_Prog:
   103 00:CC25: 02            	SED
   104 00:CC26: 00            	SEC
   105 00:CC27: 65 35 18      	SBC		Time_Addr,X
   106 00:CC2A: 13 0E         	BEQ		L_Inc_Over_Prog
   107 00:CC2C: 10 0C         	BCC		L_Inc_Over_Prog
   108 00:CC2E: 04            	CLC
   109 00:CC2F: 63 35 18      	LDA		Time_Addr,X
   110 00:CC32: 54 01         	ADC		#1
   111 00:CC34: 6F 35 18      	STA		Time_Addr,X
   112 00:CC37: 04            	CLC
   113 00:CC38: 06            	CLD
   114 00:CC39: 09            	RTS
   115                        L_Inc_Over_Prog:
   116 00:CC3A: 53 00         	LDA		#0
   117 00:CC3C: 6F 35 18      	STA		Time_Addr,X
   118 00:CC3F: 06            	CLD
   119 00:CC40: 00            	SEC
   120                        L_End_Inc_To_60_Prog:
   121 00:CC41: 09            	RTS
   122                        
   123                        L_Inc_To_Any_Count_Prog_To_1:;将数从1加到59
   124 00:CC42: 02            	SED
   125 00:CC43: 00            	SEC
   126 00:CC44: 65 35 18      	SBC		Time_Addr,X
   127 00:CC47: 13 0D         	BEQ		L_Inc_Over_Prog_To_1
   128 00:CC49: 10 0B         	BCC		L_Inc_Over_Prog_To_1
   129 00:CC4B: 04            	CLC
   130 00:CC4C: 63 35 18      	LDA		Time_Addr,X
   131 00:CC4F: 54 01         	ADC		#1
   132 00:CC51: 6F 35 18      	STA		Time_Addr,X
   133 00:CC54: 06            	CLD
   134 00:CC55: 09            	RTS
   135                        L_Inc_Over_Prog_To_1:
   136 00:CC56: 53 01         	LDA		#1
   137 00:CC58: 6F 35 18      	STA		Time_Addr,X
   138 00:CC5B: 06            	CLD
   139 00:CC5C: 09            	RTS
   140                        ;=======================================================
   141                        L_Dec_To_60_Prog:
   142 00:CC5D: 53 59         	LDA		#59H
   143                        L_Dec_To_0_Prog:
   144 00:CC5F: 7F D7         	STA		P_Temp
   145 00:CC61: 53 00         	LDA		#0
   146                        L_Dec_To_Anycount_Prog:
   147 00:CC63: 02            	SED
   148 00:CC64: 00            	SEC
   149 00:CC65: 65 35 18          SBC     Time_Addr,X
   150 00:CC68: 13 0E         	BEQ		L_Dec_Over_Prog
   151 00:CC6A: 11 0C         	BCS		L_Dec_Over_Prog
   152                        
   153 00:CC6C: 00            	SEC
   154 00:CC6D: 63 35 18      	LDA		Time_Addr,X
   155 00:CC70: 55 01         	SBC		#1
   156 00:CC72: 6F 35 18      	STA		Time_Addr,X
   157 00:CC75: 06            	CLD
   158 00:CC76: 00            	SEC
   159 00:CC77: 09            	RTS
   160                        L_Dec_Over_Prog:
   161 00:CC78: 73 D7         	LDA		P_Temp
   162 00:CC7A: 6F 35 18      	STA		Time_Addr,X
   163 00:CC7D: 06            	CLD
   164 00:CC7E: 04            	CLC
   165 00:CC7F: 09            	RTS
   166                        L_Dec_To_1_Prog:
   167 00:CC80: 7F D7             STA     P_Temp
   168 00:CC82: 02            	SED
   169 00:CC83: 53 01             LDA     #1
   170 00:CC85: 17 DC             BRA     L_Dec_To_Anycount_Prog
   171                        ;===============================================
   172                        ;=====================================
   173                        ;-------------------------------------
   174                        ;=====================================
   175                        L_Check_MaxDay_Prog:;检查每月的最大天数
   176 00:CC87: 73 B9         	LDA		R_Time_Month
   177 00:CC89: 15 0D C9      	JSR		L_DToHx_Prog
   178 00:CC8C: 07            	DEC
   179 00:CC8D: 1B            	TAX
   180                        L_Check_MaxDay_Prog_Alarm_clock_Prog:
   181 00:CC8E: 73 AA         	LDA		Sys_Flag_B
   182 00:CC90: 51 08         	AND		#08H
   183 00:CC92: 12 04         	BNE		L_Check_LeapYear_MaxDay_Prog
   184 00:CC94: 63 36 CD      	LDA		T_NoLeapYear_Month,X
   185 00:CC97: 09            	RTS
   186                        L_Check_LeapYear_MaxDay_Prog:
   187 00:CC98: 63 2A CD      	LDA		T_LeapYear_Month,X
   188 00:CC9B: 09            	RTS
   189                        ;==============================
   190                        ;------------------------------
   191                        ;==============================
   192                        L_Judge_MaxDay_Prog:;如果最大天数最大超界限，则给予月份的最大天数
   193 00:CC9C: 15 87 CC      	JSR		L_Check_MaxDay_Prog
   194 00:CC9F: 7F DC         	STA		P_Temp+5
   195 00:CCA1: 76 B8         	CMP		R_Time_Day
   196 00:CCA3: 11 04         	BCS		L_Judge_MaxDay_Prog_RTS
   197 00:CCA5: 73 DC         	LDA		P_Temp+5
   198 00:CCA7: 7F B8         	STA		R_Time_Day
   199                        L_Judge_MaxDay_Prog_RTS:
   200 00:CCA9: 09            	RTS
   201                        ;==================================
   202                        L_Check_LeapYear_Prog:;检查是否是闰年
   203 00:CCAA: 73 BA         	LDA		R_Time_Year
   204 00:CCAC: 15 0D C9      	JSR		L_DToHx_Prog
   205 00:CCAF: 7F D7         	STA		P_Temp
   206 00:CCB1: 04            	CLC
   207 00:CCB2: 7B D7         	ROR		P_Temp
   208 00:CCB4: 7E D7         	LDX		P_Temp
   209 00:CCB6: 63 42 CD      	LDA		T_LeapYear_Week,X
   210 00:CCB9: 7F D7         	STA		P_Temp
   211 00:CCBB: 73 BA         	LDA		R_Time_Year
   212 00:CCBD: 51 01         	AND		#01H
   213 00:CCBF: 13 0C         	BEQ		L_Counter_LeapYear;建表从2000年开始处于低四位，高四位，需要右移四位
   214 00:CCC1: 04            	CLC
   215 00:CCC2: 7B D7         	ROR		P_Temp
   216 00:CCC4: 04            	CLC
   217 00:CCC5: 7B D7         	ROR		P_Temp
   218 00:CCC7: 04            	CLC
   219 00:CCC8: 7B D7         	ROR		P_Temp
   220 00:CCCA: 04            	CLC
   221 00:CCCB: 7B D7         	ROR		P_Temp
   222                        L_Counter_LeapYear:
   223 00:CCCD: 23 AA         	RMB3	Sys_Flag_B
   224 00:CCCF: 53 08         	LDA		#08H
   225 00:CCD1: 71 D7         	AND		P_Temp
   226 00:CCD3: 70 AA         	ORA		Sys_Flag_B
   227 00:CCD5: 7F AA         	STA		Sys_Flag_B;第四位为1则为闰年，否则·为平年
   228 00:CCD7: 09            	RTS
   229                        ;===========================================
   230                        ;P_Temp,0-3bit存储对应年分的1月1日星期几，4bit存储平闰年
   231                        ;P_Temp+1存储前几个月的天数除以7的余数
   232                        L_Auto_Counter_Week:
   233 00:CCD8: 15 AA CC      	JSR		L_Check_LeapYear_Prog
   234 00:CCDB: 15 9C CC      	JSR		L_Judge_MaxDay_Prog
   235 00:CCDE: 73 B9         	LDA		R_Time_Month
   236 00:CCE0: 15 0D C9      	JSR		L_DToHx_Prog
   237 00:CCE3: 1B            	TAX
   238 00:CCE4: 63 74 CD      	LDA		T_Month_Week,X
   239 00:CCE7: 7F D8         	STA		P_Temp+1
   240 00:CCE9: 73 AA         	LDA		Sys_Flag_B
   241 00:CCEB: 51 08         	AND		#08H
   242 00:CCED: 13 0C         	BEQ		L_Counter_Week_2;非闰年跳转，非闰年需要将右移四位
   243 00:CCEF: 04            	CLC
   244 00:CCF0: 7B D8         	ROR		P_Temp+1
   245 00:CCF2: 04            	CLC
   246 00:CCF3: 7B D8         	ROR		P_Temp+1
   247 00:CCF5: 04            	CLC
   248 00:CCF6: 7B D8         	ROR		P_Temp+1
   249 00:CCF8: 04            	CLC
   250 00:CCF9: 7B D8         	ROR		P_Temp+1
   251                        L_Counter_Week_2:;十六进制运算
   252 00:CCFB: 53 0F         	LDA		#$0F
   253 00:CCFD: 71 D8         	AND		P_Temp+1;保留低四位多余的天数
   254 00:CCFF: 7F D8         	STA		P_Temp+1
   255 00:CD01: 53 07         	LDA		#7
   256 00:CD03: 71 D7         	AND		P_Temp;保留低三位位每年一月一号星期几
   257 00:CD05: 02            	SED
   258 00:CD06: 04            	CLC
   259 00:CD07: 74 D8         	ADC		P_Temp+1;每年一月一日星期几加上日期再加上多余的天数
   260 00:CD09: 74 B8         	ADC		R_Time_Day
   261 00:CD0B: 7F D7         	STA		P_Temp
   262                        L_Loop_WeekSub_7:
   263 00:CD0D: 00            	SEC
   264 00:CD0E: 73 D7         	LDA		P_Temp
   265 00:CD10: 55 07         	SBC		#7
   266 00:CD12: 10 04         	BCC		L_End_Counter_Week
   267 00:CD14: 7F D7         	STA		P_Temp
   268 00:CD16: 17 F5         	BRA		L_Loop_WeekSub_7
   269                        L_End_Counter_Week:
   270 00:CD18: 73 D7         	LDA		P_Temp
   271 00:CD1A: 13 04         	BEQ		L_SetWeek_Sat
   272 00:CD1C: 79 D7         	DEC		P_Temp
   273 00:CD1E: 17 04         	BRA		L_Exit_Counter_Week
   274                        L_SetWeek_Sat:
   275 00:CD20: 53 06         	LDA		#6
   276 00:CD22: 7F D7         	STA		P_Temp
   277                        L_Exit_Counter_Week:
   278 00:CD24: 73 D7         	LDA		P_Temp
   279 00:CD26: 7F BB         	STA		R_Time_Week
   280 00:CD28: 06            	CLD
   281 00:CD29: 09            	RTS
   282                        ;===============================================
   283                        ;-------------------------------------------
   284                        T_LeapYear_Month:
   285 00:CD2A: 31            	DB		31H
   286 00:CD2B: 29            	DB		29H
   287 00:CD2C: 31            	DB		31H
   288 00:CD2D: 30            	DB		30H
   289 00:CD2E: 31            	DB		31H
   290 00:CD2F: 30            	DB		30H
   291 00:CD30: 31            	DB		31H
   292 00:CD31: 31            	DB		31H
   293 00:CD32: 30            	DB		30H
   294 00:CD33: 31            	DB		31H
   295 00:CD34: 30            	DB		30H
   296 00:CD35: 31            	DB		31H
   297                        T_NoLeapYear_Month:
   298 00:CD36: 31            	DB		31H
   299 00:CD37: 28            	DB		28H
   300 00:CD38: 31            	DB		31H
   301 00:CD39: 30            	DB		30H
   302 00:CD3A: 31            	DB		31H
   303 00:CD3B: 30            	DB		30H
   304 00:CD3C: 31            	DB		31H
   305 00:CD3D: 31            	DB		31H
   306 00:CD3E: 30            	DB		30H
   307 00:CD3F: 31            	DB		31H
   308 00:CD40: 30            	DB		30H
   309 00:CD41: 31            	DB		31H
   310                        T_LeapYear_Week:
   311 00:CD42: 1E            	DB		1EH   ;2001,2000 ;E="1110"代表2000年1月1日是星期六(110),是闰年(1),
   312 00:CD43: 32            	DB		32H   ;2003,2002	;000星期天
   313 00:CD44: 6C            	DB		6CH   ;2005,2004	;001星期一
   314 00:CD45: 10            	DB		10H   ;2007,2006	;010星期二
   315 00:CD46: 4A            	DB		4AH   ;2009,2008	;011星期三
   316 00:CD47: 65            	DB		65H   ;2011,2010	;100星期四
   317 00:CD48: 28            	DB		28H   ;2013,2012	;101星期五
   318 00:CD49: 43            	DB		43H   ;2015,2014	;110星期六
   319 00:CD4A: 0D            	DB		0DH   ;2017,2016
   320 00:CD4B: 21            	DB		21H   ;2019,2018
   321 00:CD4C: 5B            	DB		5BH   ;2021,2020
   322 00:CD4D: 06            	DB		06H   ;2023,2022
   323 00:CD4E: 39            	DB		39H   ;2025,2024
   324 00:CD4F: 54            	DB		54H   ;2027,2026
   325 00:CD50: 1E            	DB		1EH   ;2029,2028
   326 00:CD51: 32            	DB		32H   ;2031,2030
   327 00:CD52: 6C            	DB		6CH   ;2033,2032
   328 00:CD53: 10            	DB		10H   ;2035,2034
   329 00:CD54: 4A            	DB		4AH   ;2037,2036
   330 00:CD55: 65            	DB		65H   ;2039,2038
   331 00:CD56: 28            	DB		28H   ;2041,2040
   332 00:CD57: 43            	DB		43H   ;2043,2042
   333 00:CD58: 0D            	DB		0DH   ;2045,2044
   334 00:CD59: 21            	DB		21H   ;2047,2046
   335 00:CD5A: 5B            	DB		5BH   ;2049,2048
   336 00:CD5B: 06            	DB		06H   ;2051,2050
   337 00:CD5C: 39            	DB		39H   ;2053,2052
   338 00:CD5D: 54            	DB		54H   ;2055,2054
   339 00:CD5E: 1E            	DB		1EH   ;2057,2056
   340 00:CD5F: 32            	DB		32H   ;2059,2058
   341 00:CD60: 6C            	DB		6CH   ;2061,2060
   342 00:CD61: 10            	DB		10H   ;2063,2062
   343 00:CD62: 4A            	DB		4AH   ;2065,2064
   344 00:CD63: 65            	DB		65H   ;2067,2066
   345 00:CD64: 28            	DB		28H   ;2069,2068
   346 00:CD65: 43            	DB		43H   ;2071,2070
   347 00:CD66: 0D            	DB		0DH   ;2073,2072
   348 00:CD67: 21            	DB		21H   ;2075,2074
   349 00:CD68: 5B            	DB		5BH   ;2077,2076
   350 00:CD69: 06            	DB		06H   ;2079,2078
   351 00:CD6A: 39            	DB		39H   ;2081,2080
   352 00:CD6B: 54            	DB		54H   ;2083,2082
   353 00:CD6C: 1E            	DB		1EH   ;2085,2084
   354 00:CD6D: 32            	DB		32H   ;2087,2086
   355 00:CD6E: 6C            	DB		6CH   ;2089,2088
   356 00:CD6F: 10            	DB		10H   ;2091,2090
   357 00:CD70: 4A            	DB		4AH   ;2093,2092
   358 00:CD71: 65            	DB		65H   ;2095,2094
   359 00:CD72: 28            	DB		28H   ;2097,2096
   360 00:CD73: 43            	DB		43H   ;2099,2098
   361                        ;--------------------------------
   362                        T_Month_Week:
   363 00:CD74: 00            	DB		00H
   364 00:CD75: 00            	DB		00H   ;JANUARY		从1月1日开始，所以1月为0
   365 00:CD76: 33            	DB		33H   ;FABRUARY 	低4Bit为非闰年，高4Bit为闰年,
   366 00:CD77: 43            	DB		43H   ;MARCH		每4bit数字是前几个月全部的天数减去7的倍数的剩余天数
   367 00:CD78: 76            	DB		76H   ;APRIL
   368 00:CD79: 21            	DB		21H   ;MAY
   369 00:CD7A: 54            	DB		54H   ;JUNE
   370 00:CD7B: 76            	DB		76H   ;JULY
   371 00:CD7C: 32            	DB		32H   ;AUGUST
   372 00:CD7D: 65            	DB		65H   ;SEPTEMBER
   373 00:CD7E: 10            	DB		10H   ;OCTOBER
   374 00:CD7F: 43            	DB		43H   ;NOVEMBER
   375 00:CD80: 65            	DB		65H   ;DECEMBER
   375                        
   194                        ; .INCLUDE	Half_s\Alarm_Clock.asm
   195                        ; .INCLUDE	Half_s\Common.asm
   196                        ; .INCLUDE	Half_s\Flash.asm
   197                        ;
   198                        ; .INCLUDE	Sound\Beep.asm
   199                        
   200                        
   201                        .INCLUDE	RFC\RFC.asm
     1                        ;========================================================================================
     2                        ;				RFC 50P016_Program
     3                        ;========================================================================================
     4                        ;1、Set PD as input tri-state
     5                        ;2、Disable TMR0 and TMR1 interrupt
     6                        ;3、Set TRM0S0 to '1' to select TMR0 clock source as Frcx
     7                        ;4、Clear TMR1S[1:0]='00' to select TMR1 clock source as TMR0 output
     8                        ;5、Set TMR_SYNC to '1'
     9                        ;6、Write 00h to both TMR0 and TMR1
    10                        ;7、Select a desired RC combination for measurement by setting RFC[1:0], CRT0S and RT01S register bits
    11                        ;8、Set RFCEN0 or RFCEN1 to ‘1’.The external RC combination will start oscillating.
    12                        ;9、Clear DIVF interrupt flag.
    13                        ;10、Enable DIV interrupt then wait a DIV interrupt occurs
    14                        ;11、Clear TMR0F,TMR1F and DIVF interrupt flags.
    15                        ;12、Set TMR0On and TMR1ON at the same time.TMR0 and TMR1 will not start counting until the next DIV interrupt occurs(1st DIV occurs).
    16                        ;13、Wait while the nth DIV occurs, clear TMR0ON and TMR0ON at the same time.
    17                        ;    TMR0 and TMR1 will not stop counting until the (n+1)th DIV occurs.
    18                        ;14、Read TMR0 and TMR1 data and check TMR1F to get the RC counts of this measurement
    19                        ;15、Clear RFCEN0 or RFCEN1 to finish the RC oscillation measurement
    20                        ;16、Repeat step 6 to 15 will get the RC counts of other RC combination
    21                        ;========================================================================================
    22                        C_RfcTime		equ		8 ;10 	;n(div)=1KHZ 10mS
    23                        ;========================================================================================
    24                        M_RFC0IOEn:	.MACRO
    25                        		smb0	RFCC0
    26                        		smb1	RFCC0
    27                        		smb2	RFCC0
    28                        		smb3	RFCC0
    29                        		.ENDM
    30                        M_RFC1IOEn:	.MACRO
    31                        		smb3	RFCC0
    32                        		smb5	RFCC0
    33                        		smb6	RFCC0
    34                        		smb7	RFCC0
    35                        
    36                        		rmb7	PCSEG
    37                        
    38                        		rmb4	PDSEG
    39                        		rmb5	PDSEG
    40                        		rmb6	PDSEG
    41                        		rmb7	PDSEG
    42                        		.ENDM
    43                        
    44                        M_PD0PD3:	.MACRO
    45                        		rmb0	RFCC0
    46                        		rmb1	RFCC0
    47                        		rmb2	RFCC0
    48                        		rmb3	RFCC0
    49                        
    50                        		smb0	PDDIR
    51                        		smb1	PDDIR
    52                        		smb2	PDDIR
    53                        		smb3	PDDIR
    54                        
    55                        		smb0	PDD
    56                        		smb1	PDD
    57                        		smb2	PDD
    58                        		smb3	PDD
    59                        		.ENDM
    60                        M_PD4PD7:	.MACRO
    61                        		rmb4	RFCC0
    62                        		rmb5	RFCC0
    63                        		rmb6	RFCC0
    64                        		rmb7	RFCC0
    65                        
    66                        		smb4	PDDIR
    67                        		smb5	PDDIR
    68                        		smb6	PDDIR
    69                        		smb7	PDDIR
    70                        
    71                        		smb4	PDD
    72                        		smb5	PDD
    73                        		smb6	PDD
    74                        		smb7	PDD
    75                        		.ENDM
    76                        ;============================================
    77                        F_RFCInit:
    78                        
    79 00:CD81: 23 5C         		rmb3	PDSEG
    80 00:CD83: 22 5C         		rmb2	PDSEG
    81 00:CD85: 21 5C         		rmb1	PDSEG
    82 00:CD87: 20 5C         		rmb0	PDSEG
    83                        
    84 00:CD89: 28 5D         		smb0	RFCC0
    85 00:CD8B: 29 5D         		smb1	RFCC0
    86 00:CD8D: 2A 5D         		smb2	RFCC0
    87 00:CD8F: 2B 5D         		smb3	RFCC0
    88                        		; M_RFC0IOEn
    89                        		; M_RFC1IOEn
    90                        		; M_PD0PD3
    91                        ;		lda	#20
    92                        ;		ldx	#0
    93                        ;		jsr	F_GetFrcx
    94                        ;		lda	<P_TMR0L
    95                        ;		sta	R_RFC0+0
    96                        ;		lda	<P_TMR0H
    97                        ;		sta	R_RFC0+1
    98                        ;
    99                        ;		lda	#20
   100                        ;		ldx	#1
   101                        ;		jsr	F_GetFrcx
   102                        ;		lda	<P_TMR0L
   103                        ;		sta	R_RFC1+0
   104                        ;		lda	<P_TMR0H
   105                        ;		sta	R_RFC1+1
   106 00:CD91: 09            		rts
   107                        ;=================================================
   108                        F_GetFrcMode0:		;input R_RFCCH : wait time, Xcc : Which Port
   109 00:CD92: 7F F2         		sta		R_RFCCH			;保存测量时间参数，等待DIV中断次数
   110                        ;		stx		R_Tmp1
   111 00:CD94: 21 0E         		rmb1	P_IER			;clear Tmr0 int，禁用中断
   112 00:CD96: 22 0E         		rmb2	P_IER			;clear Tmr1 int，禁用中断
   113                        
   114 00:CD98: 20 0F         		rmb0	P_IFR			;clear div int flag，清除DIV中断标志
   115                        L_0WaitDiv:
   116 00:CD9A: 30 0F FD      		bbr0	P_IFR,L_0WaitDiv
   117                        
   118 00:CD9D: 20 0F         		rmb0	P_IFR			;clear div int flag
   119 00:CD9F: 21 0F         		rmb1	P_IFR			;clear tm0 int flag
   120 00:CDA1: 22 0F         		rmb2	P_IFR			;clear tm1 int flag
   121                        ;保证计数器在DIV时钟的同步下启动，避免计数偏差
   122                        
   123                        
   124                        ;		rmb0	<P_TMRC			;close tmr0
   125 00:CDA3: 20 16         		rmb0	<P_TMRC
   126 00:CDA5: 21 16         		rmb1	<P_TMRC			;close tmr0 and tmr1
   127                        
   128                        ;		lda		#0
   129                        ;		sta		<P_TMR0L		;clr tmr0
   130                        ;		sta		<P_TMR0H	    ;备注：易码母体必须先写低位，后写高位。
   131                                                        ;读则反之，必须先读高位，后读低位。
   132 00:CDA7: 53 00         		lda		#0
   133 00:CDA9: 7F 10         		sta		P_TMR0
   134 00:CDAB: 7F 12         		sta		P_TMR1
   135                        ;重置计数器，为新的测量周期准备
   136                        
   137 00:CDAD: 53 03         		lda		#%00000011
   138 00:CDAF: 7F 17         		sta		P_TMCLK			;set timer0 from T01 ,timer1 from timer0
   139                        
   140 00:CDB1: 2E 18         		smb6	P_DIVC			;set sync with tm0 and tm1
   141 00:CDB3: 2E 16         		smb6	P_TMRC			;T01=T0CK1，TMR1级联到TMR0形成24为计数器
   142                        ;		rmb6	P_TMRC			;T01 = Fosc/4
   143                        
   144 00:CDB5: 63 D7 CD      		lda		T_RFCTable,x
   145 00:CDB8: 7F 5E         		sta		RFCC1			;选择传感器接口
   146                        ;		JSR	F_Delay100Ms
   147                        
   148                        ;		smb0	<P_TMRC			;open tmr0
   149 00:CDBA: 28 16         		smb0	P_TMRC
   150 00:CDBC: 29 16         		smb1	P_TMRC			;open tmr0 and tmr1
   151                        L_0WaitDiv2:
   152 00:CDBE: 30 0F FD      		bbr0	<P_IFR,L_0WaitDiv2
   153 00:CDC1: 20 0F         		rmb0	<P_IFR			;clear div int flag
   154 00:CDC3: 79 F2         		dec		R_RFCCH			;等待测量时间耗尽
   155 00:CDC5: 12 F7         		bne		L_0WaitDiv2
   156                        L_0Exit:
   157                        ;		rmb0	<P_TMRC			;close tmr0
   158 00:CDC7: 20 16         		rmb0	<P_TMRC
   159 00:CDC9: 21 16         		rmb1	<P_TMRC		;close tmr0 and tmr1
   160                        L_0WaitDiv3:
   161 00:CDCB: 30 0F FD      		bbr0	<P_IFR,L_0WaitDiv3
   162 00:CDCE: 20 0F         		rmb0	<P_IFR		;clear div int flag
   163 00:CDD0: 53 00         		lda		#0
   164 00:CDD2: 7F 5E         		sta		RFCC1
   165                        
   166 00:CDD4: 26 16         		rmb6	P_TMRC			;T01 = Fosc/4
   167 00:CDD6: 09            		rts
   168                        
   169                        T_RFCTable:
   170                        ;;;;;;2nd
   171                        	; db	%00111000	; RT01		;0
   172                        	; db	%00011000	; RS1RT0 	;1
   173                        	; db	%00101000	; CS1RT01	;2 CS---GND
   174 00:CDD7: 28            	db	%00101000	; RH_PD3
   175 00:CDD8: 18            	db	%00011000	; RT_PD2
   176 00:CDD9: 68            	db	%01101000	; RR_PD1	;CS---GND
   177                        
   178 00:CDDA: A8            	db	%10101000	; RT01		;3
   179 00:CDDB: 98            	db	%10011000	; RS1RT0 	;CS---CS1RT01
   180                        ;=========================================================
   181                        ;=========================================================
   182                        F_GetFrcMode1:		;input R_Tmp0 : wait time, Xcc : Which Port(Long Time Mode)
   183 00:CDDC: 7F D7         		sta		R_Tmp0
   184                        
   185 00:CDDE: 20 5E         		rmb0	RFCC1		;clear rfci
   186                        
   187                        ;		rmb0	<P_TMRC		;close tmr0
   188 00:CDE0: 20 16         		rmb0	<P_TMRC
   189 00:CDE2: 21 16         		rmb1	<P_TMRC			;close tmr0 and tmr1
   190                        
   191                        ;		lda	#0
   192                        ;		sta	<P_TMR0L
   193                        ;		sta	<P_TMR0H
   194 00:CDE4: 53 00         		lda		#0
   195 00:CDE6: 7F 10         		sta		<P_TMR0
   196 00:CDE8: 7F 12         		sta		<P_TMR1
   197                        
   198 00:CDEA: 53 03         		lda		#%00000011
   199 00:CDEC: 7F 17         		sta		<P_TMCLK		;set timer0 from T01 ,timer1 from timer0
   200                        
   201                        ;		smb7	<P_TMRC			;set sync tm0 with div or frcx
   202                        ;		rmb6	<P_TMRC			;T01 = F4M/4
   203 00:CDEE: 2E 18         		smb6	<P_DIVC			;set sync with tm0 and tm1
   204 00:CDF0: 26 16         		rmb6	<P_TMRC			;T01 = Fosc/4
   205                        
   206 00:CDF2: 63 17 CE      		lda		T_RFCTable2,x
   207 00:CDF5: 7F 5E         		sta		RFCC1
   208                        
   209 00:CDF7: 20 5E         		rmb0	RFCC1		;clear rfci int flag
   210                        L_1WaitDiv:
   211 00:CDF9: 30 5E FD      		bbr0	RFCC1,L_1WaitDiv
   212                        
   213 00:CDFC: 20 5E         		rmb0	RFCC1		;clear rfci
   214                        
   215                        ;		smb0	<P_TMRC		;open tmr0
   216 00:CDFE: 28 16         		smb0	<P_TMRC
   217 00:CE00: 29 16         		smb1	<P_TMRC			;open tmr0 and tmr1
   218                        L_1WaitDiv2:
   219 00:CE02: 30 5E FD      		bbr0	RFCC1,L_1WaitDiv2
   220 00:CE05: 20 5E         		rmb0	RFCC1			;clear div int flag
   221 00:CE07: 79 D7         		dec		R_Tmp0
   222 00:CE09: 12 F7         		bne		L_1WaitDiv2
   223                        L_1Exit:
   224                        ;		rmb0	<P_TMRC			;close tmr0
   225 00:CE0B: 20 16         		rmb0	<P_TMRC
   226 00:CE0D: 21 16         		rmb1	<P_TMRC		;close tmr0 and tmr1
   227                        L_1WaitDiv3:
   228 00:CE0F: 30 5E FD      		bbr0	RFCC1,L_1WaitDiv3
   229 00:CE12: 53 00         		lda		#0
   230 00:CE14: 7F 5E         		sta		RFCC1
   231 00:CE16: 09            		rts
   232                        
   233                        T_RFCTable2:
   234                        ;;;;;;2nd
   235 00:CE17: 2E            	db	%00101110	; RH_PD3
   236 00:CE18: 1E            	db	%00011110	; RT_PD2
   237 00:CE19: 6E            	db	%01101110	; RR_PD1	;CS---GND
   238                        
   239 00:CE1A: AE            	db	%10101110	; RT01
   240 00:CE1B: 9E            	db	%10011110	; RS1RT0 	;CS---CS1RT01
   241                        ;======================================================
   242                        ;======================================================
   243                        F_RfcTest:
   244                        		DIV_256HZ					;设置分频器为256HZ
+  244 00:CE1C: 2D 18          SMB5 DIVC
   245                        		Fsys_4MHZ					;ET50P016特有
+  245 00:CE1E: 24 1D          RMB4 SYSCLK
+  245 00:CE20: 25 1D          RMB5 SYSCLK
   246                        		; Fsys_Fosc_1
   247                        		Fcpu_Fext					;切换外部时钟
+  247 00:CE22: 2F 1D          SMB7 SYSCLK
   248 00:CE24: 1A            		NOP
   249                        		Fosc_OFF					;关闭主振荡器
+  249 00:CE25: 22 1D          RMB2 SYSCLK
   250 00:CE27: 1A            		NOP
   251 00:CE28: 01            		SEI							;关闭全局中断
   252                        
   253                        		PD47_RFC
+  253 00:CE29: 27 09          RMB7 PCSEG
+  253                        
+  253                        
+  253                        
+  253                        
+  253 00:CE2B: 2C 5D          SMB4 RFCC0
+  253 00:CE2D: 2D 5D          SMB5 RFCC0
+  253 00:CE2F: 2E 5D          SMB6 RFCC0
+  253 00:CE31: 2F 5D          SMB7 RFCC0
   254 00:CE33: 5E 02         		ldx		#2	;#1				;选择RFC通道2
   255 00:CE35: 53 08           		lda		#C_RfcTime			;测量周期
   256 00:CE37: 15 92 CD      		jsr		F_GetFrcMode0
   257 00:CE3A: 73 10         		lda		P_TMR0
   258 00:CE3C: 7F EA         		STA 	R_RR_L
   259 00:CE3E: 73 12         		lda		P_TMR1
   260 00:CE40: 7F EB         		STA 	R_RR_M
   261 00:CE42: 53 00         		LDA 	#$00
   262 00:CE44: 7F EC         		STA 	R_RR_H				;将读取的值储存起来，测量的是参考电阻RR
   263                        
   264 00:CE46: 5E 01         		ldx		#1	;#2	;
   265 00:CE48: 53 08           		lda		#C_RfcTime
   266 00:CE4A: 15 92 CD      		jsr		F_GetFrcMode0
   267 00:CE4D: 73 10         		LDA 	P_TMR0
   268 00:CE4F: 7F E7         		STA 	R_RT_L
   269 00:CE51: 73 12         		LDA 	P_TMR1
   270 00:CE53: 7F E8         		STA 	R_RT_M
   271 00:CE55: 53 00         		LDA		#$00
   272 00:CE57: 7F E9         		STA 	R_RT_H				;将读取的值储存起来，测量的是温度电阻RT
   273                        
   274                        		; ldx		#0	;#2	;
   275                          		; lda		#C_RfcTime
   276                        		; jsr		F_GetFrcMode0
   277                        		; LDA 	P_TMR0
   278                        		; STA 	R_RH_L
   279                        		; LDA 	P_TMR1
   280                        		; STA 	R_RH_M
   281                        		; LDA		#$00
   282                        		; STA 	R_RH_H				;将读取的值储存起来，测量的是湿度电阻RH
   283                        
   284                        		Fosc_ON
+  284 00:CE59: 2A 1D          SMB2 SYSCLK
   285 00:CE5B: 1A            		NOP
   286                        		Fsys_2MHZ
+  286 00:CE5C: 2C 1D          SMB4 SYSCLK
+  286 00:CE5E: 25 1D          RMB5 SYSCLK
   287                        		Fcpu_Fsys
+  287 00:CE60: 27 1D          RMB7 SYSCLK
   288 00:CE62: 1A            		NOP
   289 00:CE63: 05            		CLI
   290 00:CE64: 15 68 CE      		JSR		L_Counter_Temperature_Prog
   291                        		; JSR		L_Counter_Humidity_Prog
   292 00:CE67: 09            		RTS
   293                        ;=======================================================
   294                        ; F_Delay100Ms:
   295                        ; 		ldx	#$FE	;#E0H
   296                        ; L_WaitLoop1:
   297                        ; 		lda	#0
   298                        ; L_WaitLoop:
   299                        ; 		clc
   300                        ; 		adc	#1
   301                        ; 		bne	L_WaitLoop
   302                        ; 		inx
   303                        ; 		bne	L_WaitLoop1
   304                        ; 		rts
   305                        ; F_Delay2000Ms:
   306                        ; 		LDX #0
   307                        ; L_2WaitLoop1:
   308                        ; 		lda	#0
   309                        ; L_2WaitLoop:
   310                        ; 		clc
   311                        ; 		adc	#1
   312                        ; 		bne	L_2WaitLoop
   313                        ; 		inx
   314                        ; 		bne	L_2WaitLoop1
   315                        ; 		rts
   316                        ;==================================
   317                        ;F_WaitKey:
   318                        ;		lda	<P_PA
   319                        ;		and	#%00100000
   320                        ;		bne	F_WaitKey
   321                        ;
   322                        ;		lda	#10
   323                        ;		sta	R_KeyCnt
   324                        ;L_WaitDiv:
   325                        ;		bbr0	<P_IFR,L_WaitDiv
   326                        ;		rmb0	<P_IFR			;clear div int flag
   327                        ;
   328                        ;		lda	<P_PA
   329                        ;		and	#%00100000
   330                        ;		bne	F_WaitKey
   331                        ;
   332                        ;		dec	R_KeyCnt
   333                        ;		bne	L_WaitDiv
   334                        ;L_WaitKey:
   335                        ;		lda	<P_PA
   336                        ;		and	#%00100000
   337                        ;		beq	L_WaitKey
   338                        ;
   339                        ;		lda	#10
   340                        ;		sta	R_KeyCnt
   341                        ;L_WaitDiv1:
   342                        ;		bbr0	<P_IFR,L_WaitDiv1
   343                        ;		rmb0	<P_IFR			;clear div int flag
   344                        ;		lda	<P_PA
   345                        ;		and	#%00100000
   346                        ;		beq	L_WaitKey
   347                        ;		dec	R_KeyCnt
   348                        ;		bne	L_WaitDiv1
   349                        ;		rts
   350                        ;===============================================
   351                        
   352                        
   353                        
   354                        
   355                        
   355                        
   202                        .INCLUDE	RFC\Temp.asm
     1                        ;------------------------------------------------
     2                        ; PA1 : CAP= 102
     3                        ; PA3 : RR	= 39K
     4                        ; PA4 : RT=  10K
     5                        ; PA5 : (RH303 // 1M) + 510R
     6                        ;需要修改的地方：L_Temperature_Low，更改测量最低温度。
     7                        ;L_Temperature_High：测量最高温度
     8                        ;L_Counter_T_Step2_1：P_TEMP+6控制测量范围
     9                        ;
    10                        ;------------------------------------------------
    11                        ;------------------------------------------------
    12                        ;------------------------------------------------
    13                        ;************************************************
    14                        ;------------------------------------------------
    15                        ;L_RR_Fail_Program:
    16                        ;	lda		R_Temperature_L
    17                        ;	AND		#0	;#$0F
    18                        ;	ORA		#$10
    19                        ;	sta		R_Temperature_L
    20                        ;	LDA		#$BB
    21                        ;	STA		R_Temperature
    22                        ;	STA		R_Temperature_F_H
    23                        ;   STA     R_Temperature_F_M
    24                        ;	RTS
    25                        ;
    26                        
    27                        
    28                        ;------------------------------------------------
    29                        ;************************************************
    30                        ;------------------------------------------------
    31                        L_Counter_Temperature_Prog:;
    32 00:CE68: 73 E8                 LDA     R_RT_M
    33 00:CE6A: 70 E9                 ORA     R_RT_H
    34 00:CE6C: 12 09         		BNE	 	L_OK1
    35 00:CE6E: 73 E7                 LDA     R_RT_L
    36 00:CE70: 56 0A         		CMP		#10
    37 00:CE72: 11 03         		BCS		L_OK1	;L_RR_Fail_Program，低温判断
    38 00:CE74: 16 09 CF      		JMP		L_Temperature_Low
    39                        L_OK1:
    40 00:CE77: 73 EB                 LDA     R_RR_M
    41 00:CE79: 70 EC         		ORA     R_RR_H
    42 00:CE7B: 12 09         		BNE		L_OK2
    43 00:CE7D: 73 EA                 LDA     R_RR_L
    44 00:CE7F: 56 0A         		CMP		#10
    45 00:CE81: 11 03         		BCS		L_OK2	;L_RR_Fail_Program，判断参考电阻的值
    46 00:CE83: 16 09 CF      		JMP		L_Temperature_Low;低温判断
    47                        L_OK2:
    48 00:CE86: 06            		CLD
    49 00:CE87: 73 E7                 LDA     R_RT_L
    50 00:CE89: 7F E1                 STA     P_Temp+10 ; 0 ; 3
    51 00:CE8B: 73 E8                 LDA     R_RT_M
    52 00:CE8D: 7F E2                 STA     P_Temp+11 ; 1 ; 4
    53 00:CE8F: 53 00                 LDA     #0H
    54 00:CE91: 7F E3                 STA     P_Temp+12 ; 2 ; 5
    55                        
    56 00:CE93: 73 EA                 LDA     R_RR_L
    57 00:CE95: 7F E4                 STA     P_Temp+13 ; 3 ; 0
    58 00:CE97: 73 EB                 LDA     R_RR_M
    59 00:CE99: 7F E5                 STA     P_Temp+14 ; 4 ; 1
    60 00:CE9B: 53 00                 LDA     #0H
    61 00:CE9D: 7F E6                 STA     P_Temp+15 ; 5 ; 2
    62                        
    63 00:CE9F: 15 CB CF              JSR     L_Counter_T_Sbc_Prog    ;调用减法程序计算比值
    64                        
    65 00:CEA2: 73 E0                 LDA     P_Temp+9
    66 00:CEA4: 7F DE                 STA     P_Temp+7
    67 00:CEA6: 15 B6 CF              JSR     L_R0Data_LeftMove4Bit   ;将温度电阻的值左移四位
    68 00:CEA9: 15 CB CF              JSR     L_Counter_T_Sbc_Prog    ;再次计算比值
    69                        
    70 00:CEAC: 73 E0                 LDA     P_Temp+9
    71 00:CEAE: 7F DF                 STA     P_Temp+8
    72 00:CEB0: 04            		CLC
    73 00:CEB1: 7A DF         		ROL		P_Temp+8
    74 00:CEB3: 04            		CLC
    75 00:CEB4: 7A DF         		ROL		P_Temp+8
    76 00:CEB6: 04            		CLC
    77 00:CEB7: 7A DF         		ROL		P_Temp+8
    78 00:CEB9: 04            		CLC
    79 00:CEBA: 7A DF         		ROL		P_Temp+8
    80 00:CEBC: 15 B6 CF              JSR     L_R0Data_LeftMove4Bit
    81 00:CEBF: 15 CB CF              JSR     L_Counter_T_Sbc_Prog
    82                        
    83 00:CEC2: 73 E0                 LDA     P_Temp+9
    84 00:CEC4: 70 DF                 ORA     P_Temp+8
    85 00:CEC6: 7F DF                 STA     P_Temp+8
    86 00:CEC8: 15 B6 CF              JSR     L_R0Data_LeftMove4Bit
    87 00:CECB: 15 CB CF              JSR     L_Counter_T_Sbc_Prog    ;将分段的计算结果合并，形成连续的二进制温度值
    88                        
    89 00:CECE: 04                    CLC
    90 00:CECF: 53 F8                 LDA     #$F8
    91 00:CED1: 74 E0                 ADC     P_Temp+9
    92 00:CED3: 53 00                 LDA     #0
    93 00:CED5: 74 DF                 ADC     P_Temp+8
    94 00:CED7: 7F DF                 STA     P_Temp+8
    95 00:CED9: 53 00                 LDA     #0
    96 00:CEDB: 74 DE                 ADC     P_Temp+7
    97 00:CEDD: 7F DE                 STA     P_Temp+7
    98 00:CEDF: 53 00                 LDA     #0
    99 00:CEE1: 7F DD                 STA     P_Temp+6    ;溢出和校准查表
   100 00:CEE3: 5E 00                 LDX     #0
   101                        
   102                        ;		SEC					;xwx
   103                        ;        LDA     P_Temp+7
   104                        ;        SBC     #1
   105                        ;        BCC     L_Counter_T_Step2
   106                        ;		SEC
   107                        ;        LDA     P_Temp+7
   108                        ;        SBC     #1
   109                        ;        STA     P_Temp+7	;xwx	;从0度开始这里多减255
   110                        
   111                        L_Loop_Counter_T_Step1:
   112 00:CEE5: 00            		SEC
   113 00:CEE6: 73 DF                 LDA     P_Temp+8
   114 00:CEE8: 65 F7 CF              SBC     Table_Temperature,X
   115 00:CEEB: 73 DE                 LDA     P_Temp+7
   116 00:CEED: 55 00                 SBC     #0
   117 00:CEEF: 10 14                 BCC     L_Counter_T_Step2
   118 00:CEF1: 00                    SEC
   119 00:CEF2: 73 DF                 LDA     P_Temp+8
   120 00:CEF4: 65 F7 CF              SBC     Table_Temperature,X
   121 00:CEF7: 7F DF                 STA     P_Temp+8
   122 00:CEF9: 73 DE                 LDA     P_Temp+7
   123 00:CEFB: 55 00                 SBC     #0
   124 00:CEFD: 7F DE                 STA     P_Temp+7
   125 00:CEFF: 0B                    INX
   126                        ;        SED
   127                        ;        CLC
   128                        ;        LDA     #1
   129                        ;        ADC     P_Temp+6
   130                        ;        STA     P_Temp+6
   131                        ;        CLD
   132 00:CF00: 78 DD         		INC		P_Temp+6
   133                        
   134 00:CF02: 16 E5 CE              JMP     L_Loop_Counter_T_Step1
   135                        
   136                        L_Counter_T_Step2:
   137 00:CF05: 73 DD             LDA     P_Temp+6
   138 00:CF07: 12 09             BNE     L_Counter_T_Step2_1
   139                        L_Temperature_Low:              ;等于0是说明现在是最低温，
   140                                                        ;当小于时跳转到此
   141                        ;	JMP		L_RR_Fail_Program
   142 00:CF09: 73 F1         	lda		R_Temperature_L
   143 00:CF0B: 51 00         	AND		#0	;#$0F
   144 00:CF0D: 50 09         	ORA		#$9
   145 00:CF0F: 7F F1         	STA		R_Temperature_L
   146                        
   147                        ;	ORA		#$89
   148                        ;	sta		R_Temperature_L
   149                        ;	LDA		#09
   150                        ;	STA		R_Temperature
   151                        ;	JMP		L_TestOkExit
   152 00:CF11: 09            	RTS
   153                        
   154                        
   155                        L_Counter_T_Step2_1:
   156 00:CF12: 00            	SEC
   157 00:CF13: 53 3B             LDA     #59		;-20~70,控制测量范围
   158 00:CF15: 75 DD             SBC     P_Temp+6
   159 00:CF17: 11 09             BCS     L_Counter_T_Step2_2
   160                        L_Temperature_High:
   161 00:CF19: 73 F1         	lda		R_Temperature_L
   162 00:CF1B: 51 00         	AND		#0	;#$0F
   163 00:CF1D: 50 50         	ORA		#$50
   164 00:CF1F: 7F F1         	sta		R_Temperature_L
   165                        ;	LDA		#65
   166                        ;	STA		R_Temperature
   167                        ;	JMP		L_TestOkExit
   168 00:CF21: 09            	RTS
   169                        
   170                        L_Counter_T_Step2_2:
   171 00:CF22: 15 7C CF          JSR     L_Counter_T_Decimals;P_Temp+5是十分位的温度
   172 00:CF25: 00                SEC
   173 00:CF26: 73 DD             LDA     P_Temp+6
   174 00:CF28: 55 0A             SBC     #41-31		;#52
   175 00:CF2A: 11 3C             BCS     L_Temperature_Over_0
   176 00:CF2C: 53 0A         	LDA		#41-31
   177 00:CF2E: 7F D7         	STA		P_Temp
   178 00:CF30: 73 DC             LDA     P_Temp+5
   179 00:CF32: 13 04         	BEQ     L_Measure_Small0_Temp_L
   180 00:CF34: 53 09         	LDA     #40-31
   181 00:CF36: 7F D7         	STA     P_Temp
   182                        L_Measure_Small0_Temp_L:
   183 00:CF38: 00            	SEC
   184 00:CF39: 73 D7             LDA     P_Temp
   185 00:CF3B: 75 DD             SBC     P_Temp+6
   186 00:CF3D: 7F F0             STA     R_Temperature
   187                        
   188 00:CF3F: 73 DC         	LDA		P_Temp+5
   189 00:CF41: 13 06         	BEQ		NoInc
   190 00:CF43: 56 03         	CMP		#10-7
   191 00:CF45: 11 02         	BCS		NoInc
   192 00:CF47: 78 F0         	INC		R_Temperature
   193                        NoInc:
   194                        
   195 00:CF49: 73 F0         	LDA		R_Temperature
   196 00:CF4B: 12 07         	BNE		Continue
   197                        ;    LDA     P_Temp+5
   198                        ;	BNE		Continue
   199 00:CF4D: 53 00         	LDA		#0
   200 00:CF4F: 7F F1         	STA		R_Temperature_L
   201 00:CF51: 16 6E CF      	JMP		L_Test_Ok
   202                        Continue:
   203 00:CF54: 73 F1         	LDA		R_Temperature_L	;P_Temp+5	;
   204 00:CF56: 51 00         	AND		#$00
   205 00:CF58: 50 80         	ORA		#$80
   206 00:CF5A: 7F F1         	STA		R_Temperature_L ;温度负值标志
   207 00:CF5C: 73 F0         	LDA		R_Temperature
   208 00:CF5E: 56 0A         	CMP		#9+1	;#21
   209 00:CF60: 10 03         	BCC		L_End_CounteP_Temp_Small_0
   210 00:CF62: 16 09 CF      	JMP		L_Temperature_Low
   211                        L_End_CounteP_Temp_Small_0:
   212 00:CF65: 16 6E CF      	JMP		L_Test_Ok
   213                        ;========================================
   214                        L_Temperature_Over_0:
   215 00:CF68: 7F F0         	STA		R_Temperature
   216                        
   217 00:CF6A: 53 00         	LDA		#0
   218 00:CF6C: 7F F1         	STA		R_Temperature_L
   219                        
   220                        ; 	LDA		P_Temp+5
   221                        ; 	AND		#$0F
   222                        ; 	CMP		#$07
   223                        ; 	BCC		Skip
   224                        ; ;	STA		R_Temperature_L
   225                        ; 	INC		R_Temperature
   226                        Skip:
   227                        
   228                        
   229                        L_ExitDisDeal:
   230                        L_Test_Ok:
   231 00:CF6E: 73 F0         	LDA		R_Temperature
   232 00:CF70: 56 33         	CMP		#50+1 ;#70+1
   233 00:CF72: 11 A5         	BCS		L_Temperature_High
   234                        L_TestOkExit:
   235 00:CF74: 73 F0         	LDA		R_Temperature
   236 00:CF76: 15 E7 C8      	JSR		L_A_HexToHexD
   237 00:CF79: 7F F0         	STA		R_Temperature			;*小于100的十六进制转十进制
   238 00:CF7B: 09            	RTS
   239                        ;------------------------------------------------
   240                        L_Counter_T_Decimals:
   241 00:CF7C: 53 0A                 LDA     #$A
   242 00:CF7E: 7F D7                 STA     P_Temp
   243 00:CF80: 53 00                 LDA     #0
   244 00:CF82: 7F D8                 STA     P_Temp+1
   245 00:CF84: 7F D9                 STA     P_Temp+2
   246                        L_Loop_Mul10:           ;将剩下的比值乘以10
   247 00:CF86: 73 D7                 LDA     P_Temp
   248 00:CF88: 13 12                 BEQ     L_Counter_T_Decimals_1
   249 00:CF8A: 04                    CLC
   250 00:CF8B: 73 DF                 LDA     P_Temp+8
   251 00:CF8D: 74 D9                 ADC     P_Temp+2
   252 00:CF8F: 7F D9                 STA     P_Temp+2
   253 00:CF91: 73 DE                 LDA     P_Temp+7
   254 00:CF93: 74 D8                 ADC     P_Temp+1
   255 00:CF95: 7F D8                 STA     P_Temp+1
   256 00:CF97: 79 D7                 DEC     P_Temp
   257 00:CF99: 16 86 CF              JMP     L_Loop_Mul10
   258                        
   259                        L_Counter_T_Decimals_1:
   260 00:CF9C: 53 00                 LDA     #0
   261 00:CF9E: 7F DC                 STA     P_Temp+5
   262                        L_Loop_Counter_T_Decimals:;通过减法得到余数占当前温度的十分之几作为10分位数
   263 00:CFA0: 00            		SEC
   264 00:CFA1: 73 D9                 LDA     P_Temp+2
   265 00:CFA3: 65 F7 CF              SBC     Table_Temperature,X
   266 00:CFA6: 7F D9                 STA     P_Temp+2
   267 00:CFA8: 73 D8                 LDA     P_Temp+1
   268 00:CFAA: 55 00                 SBC     #0
   269 00:CFAC: 7F D8                 STA     P_Temp+1
   270 00:CFAE: 10 05                 BCC     L_End_Counter_T_Decimals
   271 00:CFB0: 78 DC                 INC     P_Temp+5
   272 00:CFB2: 16 A0 CF              JMP     L_Loop_Counter_T_Decimals
   273                        L_End_Counter_T_Decimals:
   274 00:CFB5: 09            	RTS
   275                        
   276                        ;------------------------------------------------
   277                        L_R0Data_LeftMove4Bit:
   278 00:CFB6: 53 04                 LDA     #4
   279 00:CFB8: 7F D7                 STA     P_Temp
   280                        L_Loop_LeftMove4Bit:
   281 00:CFBA: 73 D7                 LDA     P_Temp
   282 00:CFBC: 13 0C                 BEQ     L_End_R0Data_LeftMove4Bit
   283                        ;        ASL     P_Temp+10
   284 00:CFBE: 04            		CLC
   285 00:CFBF: 7A E1         		ROL		P_Temp+10
   286 00:CFC1: 7A E2                 ROL     P_Temp+11
   287 00:CFC3: 7A E3                 ROL     P_Temp+12
   288 00:CFC5: 79 D7                 DEC     P_Temp
   289 00:CFC7: 16 BA CF              JMP     L_Loop_LeftMove4Bit
   290                        L_End_R0Data_LeftMove4Bit:
   291 00:CFCA: 09            	RTS
   292                        
   293                        ;------------------------------------------------
   294                        L_Counter_T_Sbc_Prog:
   295 00:CFCB: 53 00                 LDA     #0
   296 00:CFCD: 7F E0                 STA     P_Temp+9
   297                        L_Loop_Counter_T_Sbc:;通过循环减法得到比值
   298 00:CFCF: 00            		SEC
   299 00:CFD0: 73 E1                 LDA     P_Temp+10
   300 00:CFD2: 75 E4                 SBC     P_Temp+13
   301 00:CFD4: 73 E2                 LDA     P_Temp+11
   302 00:CFD6: 75 E5                 SBC     P_Temp+14
   303 00:CFD8: 73 E3                 LDA     P_Temp+12
   304 00:CFDA: 75 E6                 SBC     P_Temp+15
   305 00:CFDC: 10 18                 BCC     L_End_Counter_T_Sbc_Prog
   306 00:CFDE: 00                    SEC
   307 00:CFDF: 73 E1                 LDA     P_Temp+10
   308 00:CFE1: 75 E4                 SBC     P_Temp+13
   309 00:CFE3: 7F E1                 STA     P_Temp+10
   310 00:CFE5: 73 E2                 LDA     P_Temp+11
   311 00:CFE7: 75 E5                 SBC     P_Temp+14
   312 00:CFE9: 7F E2                 STA     P_Temp+11
   313 00:CFEB: 73 E3                 LDA     P_Temp+12
   314 00:CFED: 75 E6                 SBC     P_Temp+15
   315 00:CFEF: 7F E3                 STA     P_Temp+12
   316 00:CFF1: 78 E0                 INC     P_Temp+9
   317 00:CFF3: 16 CF CF              JMP     L_Loop_Counter_T_Sbc
   318                        L_End_Counter_T_Sbc_Prog:
   319 00:CFF6: 09            	RTS
   320                        
   321                        ;-----------------------------------------------
   322                        Table_Temperature:
   323                        ;--------------------------------------------------
   324                        ;RR=39K RT=10K
   325                        ;表的初值是RR*256/RT,后面的值是每个温度的增加值
   326                        ;--------------------------------------------------
   327                        ;	DB 28		;-51
   328                        ;	DB 1		;-50
   329                        ;	DB 2        ;-49
   330                        ;	DB 2        ;-48
   331                        ;	DB 2        ;-47
   332                        ;	DB 2        ;-46
   333                        ;	DB 2        ;-45
   334                        ;	DB 3        ;-44
   335                        ;	DB 2        ;-43
   336                        ;	DB 3        ;-42
   337                        ;	DB 2        ;-41
   338                        ;	DB 3		;-40
   339                        ;	DB 3        ;-39
   340                        ;	DB 3        ;-38
   341                        ;	DB 3        ;-37
   342                        ;	DB 4        ;-36
   343                        ;	DB 3        ;-35
   344                        ;	DB 4        ;-34
   345                        ;	DB 4        ;-33
   346                        ;	DB 4        ;-32
   347                        ;	DB 4        ;-31
   348                        ;	DB 5		;-30
   349                        ;	DB 4        ;-29
   350                        ;	DB 5        ;-28
   351                        ;	DB 5        ;-27
   352                        ;	DB 6        ;-26
   353                        ;	DB 5        ;-25
   354                        ;	DB 6        ;-24
   355                        ;	DB 6        ;-23
   356                        ;	DB 7        ;-22
   357                        ;	DB 7        ;-21
   358                        ;	DB 147	;7		;-20
   359                        ;	DB 7        ;-19
   360                        ;	DB 7        ;-18
   361                        ;	DB 8        ;-17
   362                        ;	DB 9        ;-16
   363                        ;	DB 8        ;-15
   364                        ;	DB 9        ;-14
   365                        ;	DB 9        ;-13
   366                        ;	DB 10       ;-12
   367                        ;	DB 10       ;-11
   368                        ;	DB 11		;-10	235	;
   369 00:CFF7: F6            	DB 246       ;-9
   370 00:CFF8: 0B            	DB 11       ;-8
   371 00:CFF9: 0C            	DB 12       ;-7
   372 00:CFFA: 0C            	DB 12       ;-6
   373 00:CFFB: 0D            	DB 13       ;-5
   374 00:CFFC: 0D            	DB 13       ;-4
   375 00:CFFD: 0E            	DB 14       ;-3
   376 00:CFFE: 0E            	DB 14       ;-2
   377 00:CFFF: 0F            	DB 15       ;-1
   378                        ;---------------------------
   379 00:D000: 10                DB 16      			  ;0		16		;366-255=111
   380 00:D001: 10                DB 16                 ;1
   381 00:D002: 11                DB 17                 ;2
   382 00:D003: 11                DB 17                 ;3
   383 00:D004: 12                DB 18                 ;4
   384 00:D005: 12                DB 18                 ;5
   385 00:D006: 14                DB 20                 ;6
   386 00:D007: 14                DB 20                 ;7
   387 00:D008: 14                DB 20                 ;8
   388 00:D009: 16                DB 22                 ;9
   389 00:D00A: 16                DB 22                 ;10
   390 00:D00B: 17                DB 23                 ;11
   391 00:D00C: 18                DB 24                 ;12
   392 00:D00D: 19                DB 25                 ;13
   393 00:D00E: 19                DB 25                 ;14
   394 00:D00F: 1A                DB 26                 ;15
   395 00:D010: 1C                DB 28                 ;16
   396 00:D011: 1C                DB 28                 ;17
   397 00:D012: 1D                DB 29                 ;18
   398 00:D013: 1F                DB 31                 ;19
   399 00:D014: 1F                DB 31                 ;20
   400 00:D015: 20                DB 32                 ;21
   401 00:D016: 22                DB 34                 ;22
   402 00:D017: 22                DB 34                 ;23
   403 00:D018: 24                DB 36                 ;24
   404 00:D019: 24                DB 36                 ;25
   405 00:D01A: 26                DB 38                 ;26
   406 00:D01B: 28                DB 40                 ;27
   407 00:D01C: 28                DB 40                 ;28
   408 00:D01D: 2A                DB 42                 ;29
   409 00:D01E: 2B                DB 43                 ;30
   410 00:D01F: 2C                DB 44                 ;31
   411 00:D020: 2E                DB 46                 ;32
   412 00:D021: 30                DB 48                 ;33
   413 00:D022: 30                DB 48                 ;34
   414 00:D023: 33                DB 51                 ;35
   415 00:D024: 33                DB 51                 ;36
   416 00:D025: 36                DB 54                 ;37
   417 00:D026: 37                DB 55                 ;38
   418 00:D027: 38                DB 56                 ;39
   419 00:D028: 3B                DB 59                 ;40
   420 00:D029: 3C                DB 60                 ;41
   421 00:D02A: 3E                DB 62                 ;42
   422 00:D02B: 40                DB 64                 ;43
   423 00:D02C: 41                DB 65                 ;44
   424 00:D02D: 44                DB 68                 ;45
   425 00:D02E: 45                DB 69                 ;46
   426 00:D02F: 48                DB 72                 ;47
   427 00:D030: 49                DB 73                 ;48
   428 00:D031: 4C                DB 76                 ;49
   429 00:D032: 4E                DB 78                 ;50
   430 00:D033: 4F                DB 79                 ;51
   431 00:D034: 52                DB 82                 ;52
   432 00:D035: 55                DB 85                 ;53
   433 00:D036: 57                DB 87                 ;54
   434 00:D037: 59                DB 89                 ;55
   435 00:D038: 5C                DB 92                 ;56
   436 00:D039: 5E                DB 94                 ;57
   437 00:D03A: 60                DB 96                 ;58
   438 00:D03B: 64                DB 100                ;59
   439 00:D03C: 66                DB 102                ;60
   440 00:D03D: 68            	DB 104				  ;61
   441 00:D03E: 6C            	DB 108	              ;62
   442 00:D03F: 6E            	DB 110	              ;63
   443 00:D040: 71            	DB 113	              ;64
   444 00:D041: 74            	DB 116	              ;65
   445 00:D042: 77            	DB 119	              ;66
   446 00:D043: 7B            	DB 123	              ;67
   447 00:D044: 7D            	DB 125	              ;68
   448 00:D045: 81            	DB 129	              ;69
   449 00:D046: 83            	DB 131		          ;70
   450 00:D047: 88            	DB 136				  ;71
   451 00:D048: FF                DB 255             	;-
   452 00:D049: FF                DB 255             	;-
   453 00:D04A: FF                DB 255             	;-
   454                        ;-----------------------------------------------
   455                        ;===============================================
   456                        ;R_Temperature_F_L
   457                        ;R_Temperature_F_H
   458                        ;-----------------------------------------------
   459                        ; L_C_SwitchTo_F_Program:
   460                        ; 		LDA     #0		;无小数点	LDA     R_Temperature_L 	;
   461                        ;         STA     P_Temp+2
   462                        ;         LDA     R_Temperature
   463                        ;         STA     P_Temp+3
   464                        ;         LDA     #0
   465                        ;         STA     P_Temp+4
   466                        ; 		CLC
   467                        ; 		ROL		P_Temp+2
   468                        ; 		CLC
   469                        ; 		ROL		P_Temp+2
   470                        ; 		CLC
   471                        ; 		ROL		P_Temp+2
   472                        ; 		CLC
   473                        ; 		ROL		P_Temp+2
   474                        ;         SED
   475                        ;         CLC
   476                        ;         LDA     P_Temp+2
   477                        ;         ADC     P_Temp+2
   478                        ;         STA     P_Temp+2
   479                        ;         LDA     P_Temp+3
   480                        ;         ADC     P_Temp+3
   481                        ;         STA     P_Temp+3
   482                        ;         LDA     P_Temp+4
   483                        ;         ADC     P_Temp+4
   484                        ;         STA     P_Temp+4
   485                        ;         CLD
   486                        ;         LDA     #0
   487                        ;         STA     P_Temp+5
   488                        ;         STA     P_Temp+6
   489                        ;         STA     P_Temp+7
   490                        ;         LDA     #9
   491                        ;         STA     P_Temp+1
   492                        ; L_C_SwitchTo_F_Multiply9:
   493                        ;         LDA     P_Temp+1
   494                        ;         BEQ     L_Judge_TF_LL_Over_5
   495                        ;         SED
   496                        ;         CLC
   497                        ;         LDA     P_Temp+2
   498                        ;         ADC     P_Temp+5
   499                        ;         STA     P_Temp+5
   500                        ;         LDA     P_Temp+3
   501                        ;         ADC     P_Temp+6
   502                        ;         STA     P_Temp+6
   503                        ;         LDA     P_Temp+4
   504                        ;         ADC     P_Temp+7
   505                        ;         STA     P_Temp+7
   506                        ;         CLD
   507                        ;         DEC     P_Temp+1
   508                        ;         JMP     L_C_SwitchTo_F_Multiply9
   509                        ; L_Judge_TF_LL_Over_5:
   510                        ;         LDA     P_Temp+5
   511                        ;         SBC     #$50
   512                        ;         BCC     L_C_SwitchTo_F_Adc32
   513                        ;         SED
   514                        ;         CLC
   515                        ;         LDA     #$01
   516                        ;         ADC     P_Temp+6
   517                        ;         STA     P_Temp+6
   518                        ;         LDA     #00
   519                        ;         ADC     P_Temp+7
   520                        ;         STA     P_Temp+7
   521                        ; 		CLD
   522                        ; L_C_SwitchTo_F_Adc32:
   523                        ; ;		LDA		R_RTRH_Flag	;负温度
   524                        ; ;		AND		#$80
   525                        ; 		LDA		R_Temperature_L
   526                        ; 		AND		#$80
   527                        
   528                        ; 		BNE		L_C_SwitchTo_F_32Sub
   529                        ;         SED
   530                        ;         CLC
   531                        ;         LDA     #$20
   532                        ;         ADC     P_Temp+6
   533                        ;         STA     P_Temp+6
   534                        ;         LDA     #03
   535                        ;         ADC     P_Temp+7
   536                        ;         STA     P_Temp+7
   537                        ; 		CLD
   538                        ; L_Exit_C_SwitchTo_F_Prog:
   539                        ;         LDA      P_Temp+6
   540                        ;         STA      R_Temperature_F_M
   541                        ;         LDA      P_Temp+7
   542                        ;         STA      R_Temperature_F_H ;BIT8为1代表显示-F
   543                        ; 		RTS
   544                        
   545                        ; L_C_SwitchTo_F_32Sub:
   546                        ; 	SED
   547                        ; 	SEC
   548                        ; 	LDA		#$20
   549                        ; 	SBC		P_Temp+6
   550                        ; 	LDA		#$03
   551                        ; 	SBC		P_Temp+7
   552                        ; 	BCS		L_yuanlai	;F值为正
   553                        ; 	SEC
   554                        ; 	LDA		P_Temp+6
   555                        ; 	SBC		#$20
   556                        ; 	STA		P_Temp+6
   557                        ; 	LDA		P_Temp+7
   558                        ; 	SBC		#$03
   559                        ; 	ORA		#$80
   560                        ; 	STA		P_Temp+7	;BIT7为显示-F
   561                        ; 	CLD
   562                        ; 	JMP		L_Exit_C_SwitchTo_F_Prog
   563                        ; L_yuanlai:
   564                        ; 	LDA		#$20
   565                        ; 	SBC		P_Temp+6
   566                        ; 	STA		P_Temp+6
   567                        ; 	LDA		#$03
   568                        ; 	SBC		P_Temp+7
   569                        ; 	STA		P_Temp+7
   570                        ; 	CLD
   571                        ; 	JMP		L_Exit_C_SwitchTo_F_Prog
   572                        ; ;-------------------------------------------------------
   573                        ; ;*******************************************************
   574                        ; ;-------------------------------------------------------
   574                        
   203                        
   204                        .INCLUDE	Bat_I2C\Bat_I2C.asm
     1                        ;需要内存：
     2                        
     3                        L_I2C_BatData:
     4                        L_SendStart:
     5                        	; LDA		R_BOP
     6                        	; AND		#BIT0
     7                        	; BEQ		L_SendStart_
     8                        	; LDA		R_Light_Time
     9                        	; BNE		L_End_GetBatData
    10                        L_SendStart_:
    11 00:D04B: 73 F3         	LDA		P_PC_DIR_Backup
    12 00:D04D: 51 EF         	AND		#11101111B;PC4   11011111;PC5	;修改
    13 00:D04F: 7F F3         	STA		P_PC_DIR_Backup
    14                        ;	LDA		P_PCIO
    15                        ;	AND		#~BIT3
    16 00:D051: 7F 08         	STA		P_PC_DIR		;将改变的值变为输出
    17                        
    18 00:D053: 73 F4         	LDA		P_PC_Backup
    19 00:D055: 51 EF         	AND		#11101111B
    20 00:D057: 7F F4         	STA		P_PC_Backup		;将对应的口变为输出低
    21 00:D059: 7F 07         	STA		P_PC
    22                        ;	LDA		P_PC
    23                        ;	AND		#~BIT3
    24                        ;	STA		P_PC
    25                        
    26                        
    27                        
    28                        
    29 00:D05B: 15 6D D1      	JSR		Delay_1ms
    30 00:D05E: 15 6D D1      	JSR		Delay_1ms
    31 00:D061: 15 6D D1      	JSR		Delay_1ms
    32 00:D064: 15 6D D1      	JSR		Delay_1ms
    33 00:D067: 15 6D D1      	JSR		Delay_1ms
    34 00:D06A: 15 6D D1      	JSR		Delay_1ms
    35 00:D06D: 15 6D D1      	JSR		Delay_1ms	;7个延时1ms
    36                        
    37 00:D070: 01            	SEI							;禁用中断
    38 00:D071: 73 F3         	LDA		P_PC_DIR_Backup
    39 00:D073: 50 10         	ORA		#00010000B			;修改
    40 00:D075: 7F F3         	STA		P_PC_DIR_Backup
    41                        ;	LDA		P_PCIO
    42                        ;	ORA		#020H
    43 00:D077: 7F 08         	STA		P_PC_DIR
    44 00:D079: 15 64 D1      	JSR		Delay_50us		;将对应的I/O口变为输入下拉
    45                        ;	RTS
    46                        L_ReadwWait:
    47 00:D07C: 53 C8         	LDA		#200
    48 00:D07E: 7F F5         	STA		R_Delay
    49                        L_ReadwWait_:
    50 00:D080: 73 07         	LDA		P_PC
    51 00:D082: 51 10         	AND		#00010000B					;读取对应的口，修改
    52 00:D084: 13 0C         	BEQ		L_GotoReceiveData
    53 00:D086: 15 64 D1      	JSR		Delay_50us
    54 00:D089: 15 64 D1      	JSR		Delay_50us
    55 00:D08C: 79 F5         	DEC		R_Delay
    56 00:D08E: 12 F0         	BNE		L_ReadwWait_
    57 00:D090: 05            	CLI
    58                        L_End_GetBatData:
    59 00:D091: 09            	RTS		;20MS读等待超时
    60                        
    61                        L_GotoReceiveData:
    62 00:D092: 53 00         	LDA		#0
    63 00:D094: 7F F6         	STA		R_BatGrade
    64 00:D096: 7F F5         	STA		R_Delay
    65                        L_GotoReceiveData_Bit0_L:
    66                        ;	JSR		Delay_50us
    67                        L_Loop_Bit0_L:
    68 00:D098: 73 07         	LDA		P_PC
    69 00:D09A: 51 20         	AND		#020H
    70 00:D09C: 12 09         	BNE		L_GotoReceiveData_Bit0_H
    71 00:D09E: 15 64 D1      	JSR		Delay_50us
    72 00:D0A1: 78 F5         	INC		R_Delay
    73 00:D0A3: 12 F3         	BNE		L_Loop_Bit0_L
    74 00:D0A5: 05            	CLI
    75 00:D0A6: 09            	RTS
    76                        
    77                        L_GotoReceiveData_Bit0_H:
    78 00:D0A7: 73 F5         	LDA		R_Delay
    79 00:D0A9: 56 02         	CMP		#2
    80 00:D0AB: 10 15         	BCC		L_Fail
    81 00:D0AD: 56 14         	CMP		#20
    82 00:D0AF: 11 11         	BCS		L_Fail
    83                        
    84 00:D0B1: 53 00         	LDA		#0
    85 00:D0B3: 7F F5         	STA		R_Delay
    86                        L_Loop_Bit0_H:
    87 00:D0B5: 73 07         	LDA		P_PC
    88 00:D0B7: 51 20         	AND		#020H
    89 00:D0B9: 13 09         	BEQ		L_GotoReceiveData_Bit1_L
    90 00:D0BB: 15 64 D1      	JSR		Delay_50us
    91 00:D0BE: 78 F5         	INC		R_Delay
    92 00:D0C0: 12 F3         	BNE		L_Loop_Bit0_H
    93                        L_Fail:
    94 00:D0C2: 05            	CLI
    95 00:D0C3: 09            	RTS
    96                        
    97                        L_GotoReceiveData_Bit1_L:
    98 00:D0C4: 73 F5         	LDA		R_Delay
    99 00:D0C6: 56 05         	CMP		#5
   100 00:D0C8: 10 F8         	BCC		L_Fail
   101 00:D0CA: 56 28         	CMP		#40
   102 00:D0CC: 11 F4         	BCS		L_Fail
   103 00:D0CE: 56 0E         	CMP		#14	;750uS
   104 00:D0D0: 10 02         	BCC		L_Continue_GotoReceiveData_Bit1_L
   105 00:D0D2: 78 F6         	INC		R_BatGrade
   106                        L_Continue_GotoReceiveData_Bit1_L:
   107 00:D0D4: 53 00         	LDA		#0
   108 00:D0D6: 7F F5         	STA		R_Delay
   109                        L_Loop_Bit1_L:
   110 00:D0D8: 73 07         	LDA		P_PC
   111 00:D0DA: 51 20         	AND		#020H
   112 00:D0DC: 12 09         	BNE		L_GotoReceiveData_Bit1_H
   113 00:D0DE: 15 64 D1      	JSR		Delay_50us
   114 00:D0E1: 78 F5         	INC		R_Delay
   115 00:D0E3: 12 F3         	BNE		L_Loop_Bit1_L
   116 00:D0E5: 17 DB         	BRA		L_Fail
   117                        
   118                        L_GotoReceiveData_Bit1_H:
   119 00:D0E7: 73 F5         	LDA		R_Delay
   120 00:D0E9: 56 02         	CMP		#2
   121 00:D0EB: 10 D5         	BCC		L_Fail
   122 00:D0ED: 56 14         	CMP		#20
   123 00:D0EF: 11 D1         	BCS		L_Fail
   124                        
   125 00:D0F1: 53 00         	LDA		#0
   126 00:D0F3: 7F F5         	STA		R_Delay
   127                        L_Loop_Bit1_H:
   128 00:D0F5: 73 07         	LDA		P_PC
   129 00:D0F7: 51 20         	AND		#020H
   130 00:D0F9: 13 09         	BEQ		L_GotoReceiveData_Bit2_L
   131 00:D0FB: 15 64 D1      	JSR		Delay_50us
   132 00:D0FE: 78 F5         	INC		R_Delay
   133 00:D100: 12 F3         	BNE		L_Loop_Bit1_H
   134 00:D102: 17 BE         	BRA		L_Fail
   135                        
   136                        L_GotoReceiveData_Bit2_L:
   137 00:D104: 73 F5         	LDA		R_Delay
   138 00:D106: 56 05         	CMP		#5
   139 00:D108: 10 B8         	BCC		L_Fail
   140 00:D10A: 56 28         	CMP		#40
   141 00:D10C: 11 B4         	BCS		L_Fail
   142 00:D10E: 56 0E         	CMP		#14	;750uS
   143 00:D110: 10 04         	BCC		L_Continue_GotoReceiveData_Bit2_L
   144 00:D112: 78 F6         	INC		R_BatGrade
   145 00:D114: 78 F6         	INC		R_BatGrade
   146                        L_Continue_GotoReceiveData_Bit2_L:
   147 00:D116: 53 00         	LDA		#0
   148 00:D118: 7F F5         	STA		R_Delay
   149                        L_Loop_Bit2_L:
   150 00:D11A: 73 07         	LDA		P_PC
   151 00:D11C: 51 20         	AND		#020H
   152 00:D11E: 12 09         	BNE		L_GotoReceiveData_Bit2_H
   153 00:D120: 15 64 D1      	JSR		Delay_50us
   154 00:D123: 78 F5         	INC		R_Delay
   155 00:D125: 12 F3         	BNE		L_Loop_Bit2_L
   156 00:D127: 17 99         	BRA		L_Fail
   157                        
   158                        L_GotoReceiveData_Bit2_H:
   159 00:D129: 73 F5         	LDA		R_Delay
   160 00:D12B: 56 02         	CMP		#2
   161 00:D12D: 10 93         	BCC		L_Fail
   162 00:D12F: 56 14         	CMP		#20
   163 00:D131: 11 8F         	BCS		L_Fail
   164                        
   165 00:D133: 53 00         	LDA		#0
   166 00:D135: 7F F5         	STA		R_Delay
   167                        L_Loop_Bit2_H:
   168 00:D137: 73 07         	LDA		P_PC
   169 00:D139: 51 20         	AND		#020H
   170 00:D13B: 13 0A         	BEQ		L_GotoReceiveData_Bit3_L
   171 00:D13D: 15 64 D1      	JSR		Delay_50us
   172 00:D140: 78 F5         	INC		R_Delay
   173 00:D142: 12 F3         	BNE		L_Loop_Bit2_H
   174 00:D144: 16 C2 D0      	JMP		L_Fail
   175                        
   176                        L_GotoReceiveData_Bit3_L:
   177 00:D147: 73 F5         	LDA		R_Delay
   178 00:D149: 56 05         	CMP		#5
   179 00:D14B: 10 14         	BCC		L_Fail_
   180 00:D14D: 56 28         	CMP		#40
   181 00:D14F: 11 10         	BCS		L_Fail_
   182 00:D151: 56 0E         	CMP		#14	;750uS
   183 00:D153: 10 08         	BCC		L_Continue_GotoReceiveData_Bit3_L
   184 00:D155: 78 F6         	INC		R_BatGrade
   185 00:D157: 78 F6         	INC		R_BatGrade
   186 00:D159: 78 F6         	INC		R_BatGrade
   187 00:D15B: 78 F6         	INC		R_BatGrade
   188                        L_Continue_GotoReceiveData_Bit3_L:
   189 00:D15D: 73 F6         	LDA		R_BatGrade
   190 00:D15F: 7F F7         	STA		R_Bat_Data
   191                        	; JSR		L_Judge_LowBat
   192                        L_Fail_:
   193 00:D161: 16 C2 D0      	JMP		L_Fail
   194                        
   195                        
   196                        
   197                        
   198                        ; L_Judge_LowBat:
   199                        ; 	LDA		Sys_Flag_C
   200                        ; 	AND		#BIT1
   201                        ; 	BNE		L_EndJudgeLowBat
   202                        ; 	LDA		R_Bat_Data
   203                        ; 	CMP		#1
   204                        ; 	BCS		L_EndJudgeLowBat
   205                        ; 	INC		R_LowBatTime
   206                        ; L_EndJudgeLowBat:
   207                        ; 	RTS
   208                        
   209                        
   210                        
   211                        Delay_50us:
   212 00:D164: 53 F5         	LDA		#0F5H
   213 00:D166: 7F D7         	STA		P_Temp
   214                        ?LOOP:
   215 00:D168: 78 D7         	INC		P_Temp
   216 00:D16A: 12 FC         	BNE		?LOOP
   217 00:D16C: 09            	RTS
   218                        Delay_1ms:
   219 00:D16D: 53 07         	LDA		#007H
   220 00:D16F: 7F D7         	STA		P_Temp
   221                        ?LOOP:
   222 00:D171: 78 D7         	INC		P_Temp
   223 00:D173: 12 FC         	BNE		?LOOP
   224 00:D175: 09            	RTS
   225                        
   226                        
   227                        
   228                        
   229                        
   230                        
   231                        
   232                        
   233                        
   234                        
   234                        
   205                        .INCLUDE	Delay.asm
     1                        ;============================================================
     2                        L_ScanKey_Delay_Prog:    ;延时功能
     3 00:D176: 53 E0         	LDA		#$E0
     4 00:D178: 7F D7         	STA		P_Temp
     5                        L_Loop_ScanKey_Delay:
     6 00:D17A: 78 D7         	INC		P_Temp
     7 00:D17C: 73 D7         	LDA		P_Temp
     8 00:D17E: 12 FA         	BNE		L_Loop_ScanKey_Delay
     9 00:D180: 09            	RTS
    10                        L_Beep_1s:    ;响一声
    11 00:D181: 35 AA 07      	BBR5	Sys_Flag_B,L_Beep_1s_RTS
    12                        L_Beep_1s_Usually:
    13 00:D184: 53 01         	LDA		#1
    14 00:D186: 4F 83 18      	STA		R_Voice_Unit
    15                        	EN_LCD_IRQ
+   15 00:D189: 2E 0E          SMB6 IER
    16                        L_Beep_1s_RTS
    17 00:D18B: 09            	RTS
    17                        
   206                        
   207                        ;--------------------------------------------------------
   208                        ;***********************************************************************
   209 00:D18C: FF FF FF FF   	.BLKB	$FFFF-$,$FF
   209 00:D18C: FF FF FF FF   
   209 00:D18C: FF FF FF FF   
   210                        
   211                        	.ORG	0FFF8H
   212                        
   213 00:FFF8: F7            	DB		11110111B	;
   214                        ; bit0 	=0	主振荡器选择
   215                        ; bit1	=	1
   216                        ; bit2 	=0	当PA7做复位时，只能写1低电平有效，高电平有效烧录会报错
   217                        ; bit3	=0PA口做输入下拉和输入上拉，1PA口做输入上拉和三态
   218                        ; bit4 	=0	ROM0
   219                        ; bit5 	=0 	ROM1 00 保留，01，4KB,10,8KB,11,16KB
   220                        ; bit6	=0
   221                        ; bit7	=0做复位，1做PA3口
   222 00:FFF9: FF            	DB		11111111B	;
   223                        
   224                        ;***********************************************************************
   225                        	.ORG	0FFFCH
   226 00:FFFC: 00 C0         	DW		V_RESET
   227 00:FFFE: F5 C0         	DW		V_IRQ
   228                        
   229                        	.ENDS
   230                        	.END

 --------------------
      Warnings:0
      Errors  :0
